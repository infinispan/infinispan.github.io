<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Using the Infinispan Command Line Interface</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="canonical" href="https://infinispan.org/docs/stable/index.html">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.1/themes/default/style.min.css">
<link rel="stylesheet" href="../../css/css.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.1/jstree.min.js"></script>
<script src="../../js/js.js"></script>
<style>
.hidden {
    display: none;
}

.switch {
    border-width: 1px 1px 0 1px;
    border-style: solid;
    border-color: #7a2518;
    display: inline-block;
}

.switch--item {
    padding: 10px;
    background-color: #ffffff;
    color: #7a2518;
    display: inline-block;
    cursor: pointer;
}

.switch--item.selected {
    background-color: #7a2519;
    color: #ffffff;
}

</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
<script type="text/javascript">
function addBlockSwitches() {
    $('.primary').each(function() {
        primary = $(this);
        createSwitchItem(primary, createBlockSwitch(primary)).item.addClass("selected");
        primary.children('.title').remove();
    });
    $('.secondary').each(function(idx, node) {
        secondary = $(node);
        primary = findPrimary(secondary);
        switchItem = createSwitchItem(secondary, primary.children('.switch'));
        switchItem.content.addClass('hidden');
        findPrimary(secondary).append(switchItem.content);
        secondary.remove();
    });
}

function createBlockSwitch(primary) {
    blockSwitch = $('<div class="switch"></div>');
    primary.prepend(blockSwitch);
    return blockSwitch;
}

function findPrimary(secondary) {
    candidate = secondary.prev();
    while (!candidate.is('.primary')) {
        candidate = candidate.prev();
    }
    return candidate;
}

function createSwitchItem(block, blockSwitch) {
    blockName = block.children('.title').text();
    content = block.children('.content').first().append(block.next('.colist'));
    item = $('<div class="switch--item">' + blockName + '</div>');
    item.on('click', '', content, function(e) {
        $(this).addClass('selected');
        $(this).siblings().removeClass('selected');
        e.data.siblings('.content').addClass('hidden');
        e.data.removeClass('hidden');
    });
    blockSwitch.append(item);
    return {'item': item, 'content': content};
}

$(addBlockSwitches);

</script>

</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Using the Infinispan Command Line Interface</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#getting-started">1. Getting Started with Infinispan CLI</a>
<ul class="sectlevel2">
<li><a href="#creating-users_getting-started">1.1. Creating and modifying Infinispan users</a>
<ul class="sectlevel3">
<li><a href="#adding_credentials">1.1.1. Adding credentials</a></li>
<li><a href="#assigning_roles_to_users">1.1.2. Assigning roles to users</a></li>
<li><a href="#adding_users_to_groups">1.1.3. Adding users to groups</a></li>
<li><a href="#user-roles-permissions_getting-started">1.1.4. User roles and permissions</a></li>
</ul>
</li>
<li><a href="#cli_start-getting-started">1.2. Connecting to Infinispan Servers</a></li>
<li><a href="#navigating_cli_resources">1.3. Navigating CLI Resources</a>
<ul class="sectlevel3">
<li><a href="#cli_resources">1.3.1. CLI Resources</a></li>
</ul>
</li>
<li><a href="#shutting-down-servers_getting-started">1.4. Shutting down Infinispan Server</a>
<ul class="sectlevel3">
<li><a href="#cluster-restarts_getting-started">1.4.1. Infinispan cluster restarts</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#cache-operations">2. Performing Cache Operations with the Infinispan CLI</a>
<ul class="sectlevel2">
<li><a href="#creating-caches-cli_cache-operations">2.1. Creating remote caches with the Infinispan CLI</a>
<ul class="sectlevel3">
<li><a href="#cache-configuration_cache-operations">2.1.1. Cache configuration</a></li>
</ul>
</li>
<li><a href="#modifying-cache-configuration">2.2. Modifying Infinispan cache configuration</a></li>
<li><a href="#cli_add_entries">2.3. Adding Cache Entries</a></li>
<li><a href="#cli_clear_caches">2.4. Clearing Caches and Deleting Entries</a></li>
<li><a href="#cli_drop_caches">2.5. Deleting Caches</a></li>
<li><a href="#cli-rebalancing-caches_cache-operations">2.6. Configuring Automatic Cache Rebalancing</a></li>
</ul>
</li>
<li><a href="#batch_operations">3. Performing Batch Operations</a>
<ul class="sectlevel2">
<li><a href="#cli-batching-files_cli">3.1. Performing Batch Operations with Files</a></li>
<li><a href="#cli-batching-interactive_cli">3.2. Performing Batch Operations Interactively</a></li>
</ul>
</li>
<li><a href="#cli_config">4. Configuring the Infinispan CLI</a>
<ul class="sectlevel2">
<li><a href="#configuring-cli-startup_cli">4.1. Setting Infinispan CLI Properties and Persistent Storage</a></li>
<li><a href="#cli_creating_command_aliases-cli">4.2. Creating Command Aliases</a></li>
<li><a href="#cli_configuring_tls_properties-cli">4.3. Trusting Infinispan Server Connections</a></li>
<li><a href="#cli_storage_directory-cli">4.4. Infinispan CLI Storage Directory</a></li>
</ul>
</li>
<li><a href="#counters">5. Working with Counters</a>
<ul class="sectlevel2">
<li><a href="#creating_counters">5.1. Creating Counters</a></li>
<li><a href="#adding_deltas_to_counters">5.2. Adding Deltas to Counters</a></li>
</ul>
</li>
<li><a href="#xsite_commands">6. Performing Cross-Site Replication Operations</a>
<ul class="sectlevel2">
<li><a href="#bringing-backup-locations-offline-online_cli">6.1. Bringing backup locations offline and online</a></li>
<li><a href="#configuring-cross-site-state-transfer-modes_cli">6.2. Configuring cross-site state transfer modes</a></li>
<li><a href="#pushing-cross-site-state-transfer_cli">6.3. Pushing state to backup locations</a></li>
</ul>
</li>
<li><a href="#backup">7. Backing Up and Restoring Infinispan Clusters</a>
<ul class="sectlevel2">
<li><a href="#cli_creating_backups-cli">7.1. Backing Up Infinispan Clusters</a></li>
<li><a href="#cli_restoring_backups-cli">7.2. Restoring Infinispan Clusters from Backup Archives</a></li>
</ul>
</li>
<li><a href="#command_reference">8. Command Reference</a>
<ul class="sectlevel2">
<li><a href="#add1">8.1. ADD(1)</a>
<ul class="sectlevel3">
<li><a href="#name">8.1.1. NAME</a></li>
<li><a href="#synopsis">8.1.2. SYNOPSIS</a></li>
<li><a href="#options">8.1.3. OPTIONS</a></li>
<li><a href="#examples">8.1.4. EXAMPLES</a></li>
<li><a href="#see_also">8.1.5. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#alias1">8.2. ALIAS(1)</a>
<ul class="sectlevel3">
<li><a href="#name_2">8.2.1. NAME</a></li>
<li><a href="#synopsis_2">8.2.2. SYNOPSIS</a></li>
<li><a href="#examples_2">8.2.3. EXAMPLES</a></li>
<li><a href="#see_also_2">8.2.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#alter1">8.3. ALTER(1)</a>
<ul class="sectlevel3">
<li><a href="#name_3">8.3.1. NAME</a></li>
<li><a href="#synopsis_3">8.3.2. SYNOPSIS</a></li>
<li><a href="#alter_cache_options">8.3.3. ALTER CACHE OPTIONS</a></li>
<li><a href="#examples_3">8.3.4. EXAMPLES</a></li>
<li><a href="#see_also_3">8.3.5. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#availability1">8.4. AVAILABILITY(1)</a>
<ul class="sectlevel3">
<li><a href="#name_4">8.4.1. NAME</a></li>
<li><a href="#synopsis_4">8.4.2. SYNOPSIS</a></li>
<li><a href="#options_2">8.4.3. OPTIONS</a></li>
<li><a href="#examples_4">8.4.4. EXAMPLES</a></li>
</ul>
</li>
<li><a href="#backup1">8.5. BACKUP(1)</a>
<ul class="sectlevel3">
<li><a href="#name_5">8.5.1. NAME</a></li>
<li><a href="#synopsis_5">8.5.2. SYNOPSIS</a></li>
<li><a href="#backup_create_options">8.5.3. BACKUP CREATE OPTIONS</a></li>
<li><a href="#backup_get_options">8.5.4. BACKUP GET OPTIONS</a></li>
<li><a href="#backup_restore_options">8.5.5. BACKUP RESTORE OPTIONS</a></li>
<li><a href="#examples_5">8.5.6. EXAMPLES</a></li>
<li><a href="#see_also_4">8.5.7. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#benchmark1">8.6. BENCHMARK(1)</a>
<ul class="sectlevel3">
<li><a href="#name_6">8.6.1. NAME</a></li>
<li><a href="#synopsis_6">8.6.2. SYNOPSIS</a></li>
<li><a href="#benchmark_options">8.6.3. BENCHMARK OPTIONS</a></li>
<li><a href="#examples_6">8.6.4. EXAMPLES</a></li>
</ul>
</li>
<li><a href="#cache1">8.7. CACHE(1)</a>
<ul class="sectlevel3">
<li><a href="#name_7">8.7.1. NAME</a></li>
<li><a href="#synopsis_7">8.7.2. SYNOPSIS</a></li>
<li><a href="#example">8.7.3. EXAMPLE</a></li>
<li><a href="#see_also_5">8.7.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#cas1">8.8. CAS(1)</a>
<ul class="sectlevel3">
<li><a href="#name_8">8.8.1. NAME</a></li>
<li><a href="#synopsis_8">8.8.2. SYNOPSIS</a></li>
<li><a href="#options_3">8.8.3. OPTIONS</a></li>
<li><a href="#example_2">8.8.4. EXAMPLE</a></li>
<li><a href="#see_also_6">8.8.5. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#cd1">8.9. CD(1)</a>
<ul class="sectlevel3">
<li><a href="#name_9">8.9.1. NAME</a></li>
<li><a href="#description">8.9.2. DESCRIPTION</a></li>
<li><a href="#synopsis_9">8.9.3. SYNOPSIS</a></li>
<li><a href="#example_3">8.9.4. EXAMPLE</a></li>
<li><a href="#see_also_7">8.9.5. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#clearcache1">8.10. CLEARCACHE(1)</a>
<ul class="sectlevel3">
<li><a href="#name_10">8.10.1. NAME</a></li>
<li><a href="#synopsis_10">8.10.2. SYNOPSIS</a></li>
<li><a href="#examples_7">8.10.3. EXAMPLES</a></li>
<li><a href="#see_also_8">8.10.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#config1">8.11. CONFIG(1)</a>
<ul class="sectlevel3">
<li><a href="#name_11">8.11.1. NAME</a></li>
<li><a href="#synopsis_11">8.11.2. SYNOPSIS</a></li>
<li><a href="#description_2">8.11.3. DESCRIPTION</a></li>
<li><a href="#command_synopsis">8.11.4. COMMAND SYNOPSIS</a></li>
<li><a href="#common_options">8.11.5. COMMON OPTIONS</a></li>
<li><a href="#convert_options">8.11.6. CONVERT OPTIONS</a></li>
<li><a href="#properties">8.11.7. PROPERTIES</a></li>
<li><a href="#examples_8">8.11.8. EXAMPLES</a></li>
<li><a href="#see_also_9">8.11.9. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#connect1">8.12. CONNECT(1)</a>
<ul class="sectlevel3">
<li><a href="#name_12">8.12.1. NAME</a></li>
<li><a href="#description_3">8.12.2. DESCRIPTION</a></li>
<li><a href="#synopsis_12">8.12.3. SYNOPSIS</a></li>
<li><a href="#options_4">8.12.4. OPTIONS</a></li>
<li><a href="#example_4">8.12.5. EXAMPLE</a></li>
<li><a href="#see_also_10">8.12.6. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#container1">8.13. CONTAINER(1)</a>
<ul class="sectlevel3">
<li><a href="#name_13">8.13.1. NAME</a></li>
<li><a href="#synopsis_13">8.13.2. SYNOPSIS</a></li>
<li><a href="#example_5">8.13.3. EXAMPLE</a></li>
<li><a href="#see_also_11">8.13.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#counter1">8.14. COUNTER(1)</a>
<ul class="sectlevel3">
<li><a href="#name_14">8.14.1. NAME</a></li>
<li><a href="#synopsis_14">8.14.2. SYNOPSIS</a></li>
<li><a href="#example_6">8.14.3. EXAMPLE</a></li>
<li><a href="#see_also_12">8.14.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#create1">8.15. CREATE(1)</a>
<ul class="sectlevel3">
<li><a href="#name_15">8.15.1. NAME</a></li>
<li><a href="#synopsis_15">8.15.2. SYNOPSIS</a></li>
<li><a href="#create_cache_options">8.15.3. CREATE CACHE OPTIONS</a></li>
<li><a href="#create_counter_options">8.15.4. CREATE COUNTER OPTIONS</a></li>
<li><a href="#examples_9">8.15.5. EXAMPLES</a></li>
<li><a href="#see_also_13">8.15.6. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#credentials1">8.16.  CREDENTIALS(1)</a>
<ul class="sectlevel3">
<li><a href="#name_16">8.16.1. NAME</a></li>
<li><a href="#synopsis_16">8.16.2. SYNOPSIS</a></li>
<li><a href="#description_4">8.16.3. DESCRIPTION</a></li>
<li><a href="#synopsis_17">8.16.4. SYNOPSIS</a></li>
<li><a href="#options_5">8.16.5. OPTIONS</a></li>
<li><a href="#credentials_add_options">8.16.6. CREDENTIALS ADD OPTIONS</a></li>
<li><a href="#examples_10">8.16.7. EXAMPLES</a></li>
</ul>
</li>
<li><a href="#describe1">8.17. DESCRIBE(1)</a>
<ul class="sectlevel3">
<li><a href="#name_17">8.17.1. NAME</a></li>
<li><a href="#synopsis_18">8.17.2. SYNOPSIS</a></li>
<li><a href="#examples_11">8.17.3. EXAMPLES</a></li>
<li><a href="#see_also_14">8.17.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#disconnect1">8.18. DISCONNECT(1)</a>
<ul class="sectlevel3">
<li><a href="#name_18">8.18.1. NAME</a></li>
<li><a href="#synopsis_19">8.18.2. SYNOPSIS</a></li>
<li><a href="#example_7">8.18.3. EXAMPLE</a></li>
<li><a href="#see_also_15">8.18.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#drop1">8.19. DROP(1)</a>
<ul class="sectlevel3">
<li><a href="#name_19">8.19.1. NAME</a></li>
<li><a href="#synopsis_20">8.19.2. SYNOPSIS</a></li>
<li><a href="#examples_12">8.19.3. EXAMPLES</a></li>
<li><a href="#see_also_16">8.19.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#encoding1">8.20. ENCODING(1)</a>
<ul class="sectlevel3">
<li><a href="#name_20">8.20.1. NAME</a></li>
<li><a href="#description_5">8.20.2. DESCRIPTION</a></li>
<li><a href="#synopsis_21">8.20.3. SYNOPSIS</a></li>
<li><a href="#example_8">8.20.4. EXAMPLE</a></li>
<li><a href="#see_also_17">8.20.5. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#get1">8.21. GET(1)</a>
<ul class="sectlevel3">
<li><a href="#name_21">8.21.1. NAME</a></li>
<li><a href="#synopsis_22">8.21.2. SYNOPSIS</a></li>
<li><a href="#options_6">8.21.3. OPTIONS</a></li>
<li><a href="#example_9">8.21.4. EXAMPLE</a></li>
<li><a href="#see_also_18">8.21.5. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#help1">8.22. HELP(1)</a>
<ul class="sectlevel3">
<li><a href="#name_22">8.22.1. NAME</a></li>
<li><a href="#synopsis_23">8.22.2. SYNOPSIS</a></li>
<li><a href="#example_10">8.22.3. EXAMPLE</a></li>
<li><a href="#see_also_19">8.22.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#install1">8.23. INSTALL(1)</a>
<ul class="sectlevel3">
<li><a href="#name_23">8.23.1. NAME</a></li>
<li><a href="#description_6">8.23.2. DESCRIPTION</a></li>
<li><a href="#synopsis_24">8.23.3. SYNOPSIS</a></li>
<li><a href="#artifact_names">8.23.4. ARTIFACT NAMES</a></li>
<li><a href="#checksum_validation">8.23.5. CHECKSUM VALIDATION</a></li>
<li><a href="#patch_list_options">8.23.6. PATCH LIST OPTIONS</a></li>
<li><a href="#examples_13">8.23.7. EXAMPLES</a></li>
</ul>
</li>
<li><a href="#logging1">8.24. LOGGING(1)</a>
<ul class="sectlevel3">
<li><a href="#name_24">8.24.1. NAME</a></li>
<li><a href="#synopsis_25">8.24.2. SYNOPSIS</a></li>
<li><a href="#logging_set_options">8.24.3. LOGGING SET OPTIONS</a></li>
<li><a href="#examples_14">8.24.4. EXAMPLES</a></li>
</ul>
</li>
<li><a href="#ls1">8.25. LS(1)</a>
<ul class="sectlevel3">
<li><a href="#name_25">8.25.1. NAME</a></li>
<li><a href="#synopsis_26">8.25.2. SYNOPSIS</a></li>
<li><a href="#examples_15">8.25.3. EXAMPLES</a></li>
<li><a href="#see_also_20">8.25.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#migrate1">8.26. MIGRATE(1)</a>
<ul class="sectlevel3">
<li><a href="#name_26">8.26.1. NAME</a></li>
<li><a href="#synopsis_27">8.26.2. SYNOPSIS</a></li>
<li><a href="#description_7">8.26.3. DESCRIPTION</a></li>
<li><a href="#command_synopsis_2">8.26.4. COMMAND SYNOPSIS</a></li>
<li><a href="#common_options_2">8.26.5. COMMON OPTIONS</a></li>
<li><a href="#cluster_connection_options">8.26.6. CLUSTER CONNECTION OPTIONS</a></li>
</ul>
</li>
<li><a href="#patch1">8.27. PATCH(1)</a>
<ul class="sectlevel3">
<li><a href="#name_27">8.27.1. NAME</a></li>
<li><a href="#description_8">8.27.2. DESCRIPTION</a></li>
<li><a href="#synopsis_28">8.27.3. SYNOPSIS</a></li>
<li><a href="#patch_list_options_2">8.27.4. PATCH LIST OPTIONS</a></li>
<li><a href="#patch_install_options">8.27.5. PATCH INSTALL OPTIONS</a></li>
<li><a href="#patch_describe_options">8.27.6. PATCH DESCRIBE OPTIONS</a></li>
<li><a href="#patch_rollback_options">8.27.7. PATCH ROLLBACK OPTIONS</a></li>
<li><a href="#patch_create_options">8.27.8. PATCH CREATE OPTIONS</a></li>
<li><a href="#examples_16">8.27.9. EXAMPLES</a></li>
</ul>
</li>
<li><a href="#put1">8.28. PUT(1)</a>
<ul class="sectlevel3">
<li><a href="#name_28">8.28.1. NAME</a></li>
<li><a href="#description_9">8.28.2. DESCRIPTION</a></li>
<li><a href="#synopsis_29">8.28.3. SYNOPSIS</a></li>
<li><a href="#options_7">8.28.4. OPTIONS</a></li>
<li><a href="#examples_17">8.28.5. EXAMPLES</a></li>
<li><a href="#see_also_21">8.28.6. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#query1">8.29. QUERY(1)</a>
<ul class="sectlevel3">
<li><a href="#name_29">8.29.1. NAME</a></li>
<li><a href="#synopsis_30">8.29.2. SYNOPSIS</a></li>
<li><a href="#options_8">8.29.3. OPTIONS</a></li>
<li><a href="#examples_18">8.29.4. EXAMPLES</a></li>
<li><a href="#see_also_22">8.29.5. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#quit1">8.30. QUIT(1)</a>
<ul class="sectlevel3">
<li><a href="#name_30">8.30.1. NAME</a></li>
<li><a href="#synopsis_31">8.30.2. SYNOPSIS</a></li>
<li><a href="#example_11">8.30.3. EXAMPLE</a></li>
<li><a href="#see_also_23">8.30.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#rebalance1">8.31. REBALANCE(1)</a>
<ul class="sectlevel3">
<li><a href="#name_31">8.31.1. NAME</a></li>
<li><a href="#synopsis_32">8.31.2. SYNOPSIS</a></li>
<li><a href="#examples_19">8.31.3. EXAMPLES</a></li>
</ul>
</li>
<li><a href="#remove1">8.32. REMOVE(1)</a>
<ul class="sectlevel3">
<li><a href="#name_32">8.32.1. NAME</a></li>
<li><a href="#synopsis_33">8.32.2. SYNOPSIS</a></li>
<li><a href="#options_9">8.32.3. OPTIONS</a></li>
<li><a href="#example_12">8.32.4. EXAMPLE</a></li>
<li><a href="#see_also_24">8.32.5. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#reset1">8.33. RESET(1)</a>
<ul class="sectlevel3">
<li><a href="#name_33">8.33.1. NAME</a></li>
<li><a href="#synopsis_34">8.33.2. SYNOPSIS</a></li>
<li><a href="#example_13">8.33.3. EXAMPLE</a></li>
<li><a href="#see_also_25">8.33.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#schema1">8.34. SCHEMA(1)</a>
<ul class="sectlevel3">
<li><a href="#name_34">8.34.1. NAME</a></li>
<li><a href="#synopsis_35">8.34.2. SYNOPSIS</a></li>
<li><a href="#options_10">8.34.3. OPTIONS</a></li>
<li><a href="#example_14">8.34.4. EXAMPLE</a></li>
<li><a href="#see_also_26">8.34.5. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#server1">8.35. SERVER(1)</a>
<ul class="sectlevel3">
<li><a href="#name_35">8.35.1. NAME</a></li>
<li><a href="#description_10">8.35.2. DESCRIPTION</a></li>
<li><a href="#synopsis_36">8.35.3. SYNOPSIS</a></li>
<li><a href="#server_connector_ipfilter_options">8.35.4. SERVER CONNECTOR IPFILTER OPTIONS</a></li>
<li><a href="#examples_20">8.35.5. EXAMPLES</a></li>
</ul>
</li>
<li><a href="#shutdown1">8.36. SHUTDOWN(1)</a>
<ul class="sectlevel3">
<li><a href="#name_36">8.36.1. NAME</a></li>
<li><a href="#synopsis_37">8.36.2. SYNOPSIS</a></li>
<li><a href="#examples_21">8.36.3. EXAMPLES</a></li>
<li><a href="#see_also_27">8.36.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#site1">8.37. SITE(1)</a>
<ul class="sectlevel3">
<li><a href="#name_37">8.37.1. NAME</a></li>
<li><a href="#synopsis_38">8.37.2. SYNOPSIS</a></li>
<li><a href="#options_11">8.37.3. OPTIONS</a></li>
<li><a href="#state_transfer_mode_options">8.37.4. STATE TRANSFER MODE OPTIONS</a></li>
<li><a href="#examples_22">8.37.5. EXAMPLES</a></li>
</ul>
</li>
<li><a href="#stats1">8.38. STATS(1)</a>
<ul class="sectlevel3">
<li><a href="#name_38">8.38.1. NAME</a></li>
<li><a href="#synopsis_39">8.38.2. SYNOPSIS</a></li>
<li><a href="#examples_23">8.38.3. EXAMPLES</a></li>
<li><a href="#see_also_28">8.38.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#task1">8.39. TASK(1)</a>
<ul class="sectlevel3">
<li><a href="#name_39">8.39.1. NAME</a></li>
<li><a href="#synopsis_40">8.39.2. SYNOPSIS</a></li>
<li><a href="#examples_24">8.39.3. EXAMPLES</a></li>
<li><a href="#options_12">8.39.4. OPTIONS</a></li>
<li><a href="#see_also_29">8.39.5. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#unalias1">8.40. UNALIAS(1)</a>
<ul class="sectlevel3">
<li><a href="#name_40">8.40.1. NAME</a></li>
<li><a href="#synopsis_41">8.40.2. SYNOPSIS</a></li>
<li><a href="#examples_25">8.40.3. EXAMPLES</a></li>
<li><a href="#see_also_30">8.40.4. SEE ALSO</a></li>
</ul>
</li>
<li><a href="#user1">8.41. USER(1)</a>
<ul class="sectlevel3">
<li><a href="#name_41">8.41.1. NAME</a></li>
<li><a href="#synopsis_42">8.41.2. SYNOPSIS</a></li>
<li><a href="#description_11">8.41.3. DESCRIPTION</a></li>
<li><a href="#command_synopsis_3">8.41.4. COMMAND SYNOPSIS</a></li>
<li><a href="#common_options_3">8.41.5. COMMON OPTIONS</a></li>
<li><a href="#user_createmodify_options">8.41.6. USER CREATE/MODIFY OPTIONS</a></li>
<li><a href="#user_ls_options">8.41.7. USER LS OPTIONS</a></li>
<li><a href="#user_encrypt_all_options">8.41.8. USER ENCRYPT-ALL OPTIONS</a></li>
</ul>
</li>
<li><a href="#version1">8.42. VERSION(1)</a>
<ul class="sectlevel3">
<li><a href="#name_42">8.42.1. NAME</a></li>
<li><a href="#synopsis_43">8.42.2. SYNOPSIS</a></li>
<li><a href="#example_15">8.42.3. EXAMPLE</a></li>
<li><a href="#see_also_31">8.42.4. SEE ALSO</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="getting-started"><a class="anchor" href="#getting-started"></a>1. Getting Started with Infinispan CLI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The command line interface (CLI) lets you remotely connect to Infinispan Server to access data and perform administrative functions.
Complete the following procedures to learn basic CLI usage such as creating users, connecting to Infinispan, and navigating resources.</p>
</div>
<div class="sect2">
<h3 id="creating-users_getting-started"><a class="anchor" href="#creating-users_getting-started"></a>1.1. Creating and modifying Infinispan users</h3>
<div class="paragraph">
<p>Add Infinispan user credentials and assign permissions to control access to data.</p>
</div>
<div class="paragraph">
<p>Infinispan server installations use a property realm to authenticate users for the Hot Rod and REST endpoints.
This means you need to create at least one user before you can access Infinispan.</p>
</div>
<div class="paragraph">
<p>By default, users also need roles with permissions to access caches and interact with Infinispan resources.
You can assign roles to users individually or add users to groups that have role permissions.</p>
</div>
<div class="paragraph">
<p>You create users and assign roles with the <code class="command">user</code> command in the Infinispan command line interface (CLI).</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Run <code class="command">help user</code> from a CLI session to get complete command details.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="adding_credentials"><a class="anchor" href="#adding_credentials"></a>1.1.1. Adding credentials</h4>
<div class="paragraph">
<p>You need an <code>admin</code> user for the Infinispan Console and full control over your Infinispan environment.
For this reason you should create a user with <code>admin</code> permissions the first time you add credentials.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Open a terminal in <code>$ISPN_HOME</code>.</p>
</li>
<li>
<p>Create an <code>admin</code> user with the <code class="command">user create</code> command.</p>
<div class="ulist">
<ul>
<li>
<p>Add a user assigned to the <code>admin</code> group.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="sh">$ bin/cli.sh user create myuser -p changeme -g admin</code></pre>
</div>
</div>
</li>
<li>
<p>Use implicit authorization to gain <code>admin</code> permissions.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="sh">$ bin/cli.sh user create admin -p changeme</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Open <code>user.properties</code> and <code>groups.properties</code> with any text editor to verify users and groups.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$ cat server/conf/users.properties

#$REALM_NAME=default$
#$ALGORITHM=encrypted$
myuser=scram-sha-1\:BYGcIAwvf6b...

$ cat server/conf/groups.properties

myuser=admin</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="assigning_roles_to_users"><a class="anchor" href="#assigning_roles_to_users"></a>1.1.2. Assigning roles to users</h4>
<div class="paragraph">
<p>Assign roles to users so they have the correct permissions to access data and modify Infinispan resources.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Start a CLI session with an <code>admin</code> user.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="sh">$ bin/cli.sh</code></pre>
</div>
</div>
</li>
<li>
<p>Assign the <code>deployer</code> role to "katie".</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="sh">[//containers/default]&gt; user roles grant --roles=deployer katie</code></pre>
</div>
</div>
</li>
<li>
<p>List roles for "katie".</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="sh">[//containers/default]&gt; user roles ls katie
[&quot;deployer&quot;]</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="adding_users_to_groups"><a class="anchor" href="#adding_users_to_groups"></a>1.1.3. Adding users to groups</h4>
<div class="paragraph">
<p>Groups let you change permissions for multiple users.
You assign a role to a group and then add users to that group.
Users inherit permissions from the group role.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Start a CLI session with an <code>admin</code> user.</p>
</li>
<li>
<p>Use the <code class="command">user create</code> command to create a group.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Specify "developers" as the group name with the <code>--groups</code> argument.</p>
</li>
<li>
<p>Set a username and password for the group.</p>
<div class="paragraph">
<p>In a property realm, a group is a special type of user that also requires a username and password.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="sh">[//containers/default]&gt; user create --groups=developers developers -p changeme</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>List groups.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="sh">[//containers/default]&gt; user ls --groups
[&quot;developers&quot;]</code></pre>
</div>
</div>
</li>
<li>
<p>Assign the <code>application</code> role to the "developers" group.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="sh">[//containers/default]&gt; user roles grant --roles=application developers</code></pre>
</div>
</div>
</li>
<li>
<p>List roles for the "developers" group.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="sh">[//containers/default]&gt; user roles ls developers
[&quot;application&quot;]</code></pre>
</div>
</div>
</li>
<li>
<p>Add existing users, one at a time, to the group as required.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="sh">[//containers/default]&gt; user groups john --groups=developers</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="user-roles-permissions_getting-started"><a class="anchor" href="#user-roles-permissions_getting-started"></a>1.1.4. User roles and permissions</h4>
<div class="paragraph">
<p>Infinispan includes a default set of roles that grant users with permissions to access data and interact with Infinispan resources.</p>
</div>
<div class="paragraph">
<p><code>ClusterRoleMapper</code> is the default mechanism that Infinispan uses to associate security principals to authorization roles.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>ClusterRoleMapper</code> matches principal names to role names.
A user named <code>admin</code> gets <code>admin</code> permissions automatically, a user named <code>deployer</code> gets <code>deployer</code> permissions, and so on.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Role</th>
<th class="tableblock halign-left valign-top">Permissions</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>admin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Superuser with all permissions including control of the Cache Manager lifecycle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>deployer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALL_READ, ALL_WRITE, LISTEN, EXEC, MONITOR, CREATE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can create and delete Infinispan resources in addition to <code>application</code> permissions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>application</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALL_READ, ALL_WRITE, LISTEN, EXEC, MONITOR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Has read and write access to Infinispan resources in addition to <code>observer</code> permissions. Can also listen to events and execute server tasks and scripts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>observer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALL_READ, MONITOR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Has read access to Infinispan resources in addition to <code>monitor</code> permissions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>monitor</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MONITOR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can view statistics via JMX and the <code>metrics</code> endpoint.</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<div class="title">Reference</div>
<ul>
<li>
<p><a href="https://docs.jboss.org/infinispan/13.0/apidocs">org.infinispan.security.AuthorizationPermission Enumeration</a></p>
</li>
<li>
<p><a href="https://docs.jboss.org/infinispan/13.0/configdocs/">Infinispan configuration schema reference</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cli_start-getting-started"><a class="anchor" href="#cli_start-getting-started"></a>1.2. Connecting to Infinispan Servers</h3>
<div class="paragraph">
<p>Establish CLI connections to Infinispan.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>Add user credentials and have at least one running Infinispan server instance.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Open a terminal in <code>$ISPN_HOME</code>.</p>
</li>
<li>
<p>Start the CLI.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Linux:</strong></p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$ bin/cli.sh</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Microsoft Windows:</strong></p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$ bin\cli.bat</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Run the <code class="command">connect</code> command and enter your username and password when prompted.</p>
<div class="ulist">
<ul>
<li>
<p>Infinispan Server on the default port of <code>11222</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[disconnected]&gt; connect</code></pre>
</div>
</div>
</li>
<li>
<p>Infinispan Server with a port offset of <code>100</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[disconnected]&gt; connect 127.0.0.1:11322</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="navigating_cli_resources"><a class="anchor" href="#navigating_cli_resources"></a>1.3. Navigating CLI Resources</h3>
<div class="paragraph">
<p>The Infinispan CLI exposes a navigable tree that allows you to list, describe,
and manipulate Infinispan cluster resources.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Press the tab key to display available commands and options. Use the <code>-h</code>
option to display help text.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When you connect to a Infinispan cluster, it opens in the context of the
default cache container.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code class="command">ls</code> to list resources.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; ls
caches
counters
configurations
schemas
tasks</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code class="command">cd</code> to navigate the resource tree.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; cd caches</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code class="command">describe</code> to view information about resources.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; describe
{
  "name" : "default",
  "version" : "xx.x.x-FINAL",
  "cluster_name" : "cluster",
  "coordinator" : true,
  "cache_configuration_names" : [ "org.infinispan.REPL_ASYNC", "___protobuf_metadata", "org.infinispan.DIST_SYNC", "org.infinispan.LOCAL", "org.infinispan.INVALIDATION_SYNC", "org.infinispan.REPL_SYNC", "org.infinispan.SCATTERED_SYNC", "org.infinispan.INVALIDATION_ASYNC", "org.infinispan.DIST_ASYNC" ],
  "physical_addresses" : "[192.0.2.0:7800]",
  "coordinator_address" : "&lt;hostname&gt;",
  "cache_manager_status" : "RUNNING",
  "created_cache_count" : "1",
  "running_cache_count" : "1",
  "node_address" : "&lt;hostname&gt;",
  "cluster_members" : [ "&lt;hostname1&gt;", "&lt;hostname2&gt;" ],
  "cluster_members_physical_addresses" : [ "192.0.2.0:7800", "192.0.2.0:7801" ],
  "cluster_size" : 2,
  "defined_caches" : [ {
    "name" : "mycache",
    "started" : true
  }, {
    "name" : "___protobuf_metadata",
    "started" : true
  } ]
}</pre>
</div>
</div>
<div class="sect3">
<h4 id="cli_resources"><a class="anchor" href="#cli_resources"></a>1.3.1. CLI Resources</h4>
<div class="paragraph">
<p>The Infinispan CLI exposes different resources to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>create, modify, and manage local or clustered caches.</p>
</li>
<li>
<p>perform administrative operations for Infinispan clusters.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Cache Resources</div>
<div class="content">
<pre>[//containers/default]&gt; ls
caches
counters
configurations
schemas</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>caches</code></dt>
<dd>
<p>Infinispan cache instances. The default cache container is empty. Use the CLI to create caches from templates or <code>infinispan.xml</code> files.</p>
</dd>
<dt class="hdlist1"><code>counters</code></dt>
<dd>
<p><code>Strong</code> or <code>Weak</code> counters that record the count of objects.</p>
</dd>
<dt class="hdlist1"><code>configurations</code></dt>
<dd>
<p>Infinispan configurations.</p>
</dd>
<dt class="hdlist1"><code>schemas</code></dt>
<dd>
<p>Protocol Buffers (Protobuf) schemas that structure data in the cache.</p>
</dd>
<dt class="hdlist1"><code>tasks</code></dt>
<dd>
<p>Remote tasks creating and managing Infinispan cache definitions.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">Cluster Resources</div>
<div class="content">
<pre>[hostname@cluster/]&gt; ls
containers
cluster
server</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>containers</code></dt>
<dd>
<p>Cache containers on the Infinispan cluster.</p>
</dd>
<dt class="hdlist1"><code>cluster</code></dt>
<dd>
<p>Lists Infinispan servers joined to the cluster.</p>
</dd>
<dt class="hdlist1"><code>server</code></dt>
<dd>
<p>Resources for managing and monitoring Infinispan servers.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shutting-down-servers_getting-started"><a class="anchor" href="#shutting-down-servers_getting-started"></a>1.4. Shutting down Infinispan Server</h3>
<div class="paragraph">
<p>Stop individually running servers or bring down clusters gracefully.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a CLI connection to Infinispan.</p>
</li>
<li>
<p>Shut down Infinispan Server in one of the following ways:</p>
<div class="ulist">
<ul>
<li>
<p>Stop all nodes in a cluster with the <code class="command">shutdown cluster</code> command, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[//containers/default]&gt; shutdown cluster</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command saves cluster state to the <code>data</code> folder for each node in the cluster.
If you use a cache store, the <code class="command">shutdown cluster</code> command also persists all data in the cache.</p>
</div>
</li>
<li>
<p>Stop individual server instances with the <code class="command">shutdown server</code> command and the server hostname, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[//containers/default]&gt; shutdown server &lt;my_server01&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code class="command">shutdown server</code> command does not wait for rebalancing operations to complete, which can lead to data loss if you specify multiple hostnames at the same time.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Run <code class="command">help shutdown</code> for more details about using the command.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Infinispan logs the following messages when you shut down servers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>ISPN080002: Infinispan Server stopping
ISPN000080: Disconnecting JGroups channel cluster
ISPN000390: Persisted state, version=&lt;$version&gt; timestamp=YYYY-MM-DDTHH:MM:SS
ISPN080003: Infinispan Server stopped</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="cluster-restarts_getting-started"><a class="anchor" href="#cluster-restarts_getting-started"></a>1.4.1. Infinispan cluster restarts</h4>
<div class="paragraph">
<p>When you bring Infinispan clusters back online after shutting them down, you should wait for the cluster to be available before adding or removing nodes or modifying cluster state.</p>
</div>
<div class="paragraph">
<p>If you shutdown clustered nodes with the <code class="command">shutdown server</code> command, you must restart each server in reverse order.<br>
For example, if you shutdown <code>server1</code> and then shutdown <code>server2</code>, you should first start <code>server2</code> and then start <code>server1</code>.</p>
</div>
<div class="paragraph">
<p>If you shutdown a cluster with the <code class="command">shutdown cluster</code> command, clusters become fully operational only after all nodes rejoin.<br>
You can restart nodes in any order but the cluster remains in DEGRADED state until all nodes that were joined before shutdown are running.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cache-operations"><a class="anchor" href="#cache-operations"></a>2. Performing Cache Operations with the Infinispan CLI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the command line interface (CLI) to perform operations on remote caches such as creating caches, manipulating data, and rebalancing.</p>
</div>
<div class="sect2">
<h3 id="creating-caches-cli_cache-operations"><a class="anchor" href="#creating-caches-cli_cache-operations"></a>2.1. Creating remote caches with the Infinispan CLI</h3>
<div class="paragraph">
<p>Use the Infinispan Command Line Interface (CLI) to add remote caches on Infinispan Server.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Create a Infinispan user with <code>admin</code> permissions.</p>
</li>
<li>
<p>Start at least one Infinispan Server instance.</p>
</li>
<li>
<p>Have a Infinispan cache configuration.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Start the CLI and enter your credentials when prompted.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$ bin/cli.sh</code></pre>
</div>
</div>
</li>
<li>
<p>Use the <code class="command">create cache</code> command to create remote caches.</p>
<div class="paragraph">
<p>For example, create a cache named "mycache" from a file named <code>mycache.xml</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[//containers/default]&gt; create cache --file=mycache.xml mycache</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>List all remote caches with the <code class="command">ls</code> command.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[//containers/default]&gt; ls caches
mycache</code></pre>
</div>
</div>
</li>
<li>
<p>View cache configuration with the <code class="command">describe</code> command.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[//containers/default]&gt; describe caches/mycache</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="cache-configuration_cache-operations"><a class="anchor" href="#cache-configuration_cache-operations"></a>2.1.1. Cache configuration</h4>
<div class="paragraph">
<p>You can create declarative cache configuration in XML, JSON, and YAML format.</p>
</div>
<div class="paragraph">
<p>All declarative caches must conform to the Infinispan schema.
Configuration in JSON format must follow the structure of an XML configuration, elements correspond to objects and attributes correspond to fields.</p>
</div>
<h5 id="distributed_caches" class="discrete">Distributed caches</h5>
<div class="listingblock primary">
<div class="title">XML</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="xml"><span class="tag">&lt;distributed-cache</span> <span class="attribute-name">owners</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">segments</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">256</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">capacity-factor</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1.0</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">l1-lifespan</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">5000</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">SYNC</span><span class="delimiter">&quot;</span></span>
                   <span class="attribute-name">statistics</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;encoding</span> <span class="attribute-name">media-type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">application/x-protostream</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;locking</span> <span class="attribute-name">isolation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">REPEATABLE_READ</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;transaction</span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">FULL_XA</span><span class="delimiter">&quot;</span></span>
               <span class="attribute-name">locking</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">OPTIMISTIC</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;expiration</span> <span class="attribute-name">lifespan</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">5000</span><span class="delimiter">&quot;</span></span>
              <span class="attribute-name">max-idle</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1000</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
  <span class="tag">&lt;memory</span> <span class="attribute-name">max-count</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1000000</span><span class="delimiter">&quot;</span></span>
          <span class="attribute-name">when-full</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">REMOVE</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;indexing</span> <span class="attribute-name">enabled</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>
            <span class="attribute-name">storage</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">local-heap</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;index-reader</span> <span class="attribute-name">refresh-interval</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1000</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/indexing&gt;</span>
  <span class="tag">&lt;partition-handling</span> <span class="attribute-name">when-split</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ALLOW_READ_WRITES</span><span class="delimiter">&quot;</span></span>
                      <span class="attribute-name">merge-policy</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">PREFERRED_NON_NULL</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;persistence</span> <span class="attribute-name">passivation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="comment">&lt;!-- Persistent storage configuration. --&gt;</span>
  <span class="tag">&lt;/persistence&gt;</span>
<span class="tag">&lt;/distributed-cache&gt;</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">JSON</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">distributed-cache</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">mode</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">SYNC</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">owners</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">segments</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">256</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">capacity-factor</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1.0</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">l1-lifespan</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">5000</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">statistics</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">encoding</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">media-type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/x-protostream</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">locking</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">isolation</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">REPEATABLE_READ</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">transaction</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">mode</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">FULL_XA</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">locking</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">OPTIMISTIC</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">expiration</span><span class="delimiter">&quot;</span></span> : {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">lifespan</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">5000</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">max-idle</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">1000</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">memory</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">max-count</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1000000</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">when-full</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">REMOVE</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">indexing</span><span class="delimiter">&quot;</span></span> : {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span> : <span class="value">true</span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">storage</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">local-heap</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">index-reader</span><span class="delimiter">&quot;</span></span> : {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">refresh-interval</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">1000</span><span class="delimiter">&quot;</span></span>
      }
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">partition-handling</span><span class="delimiter">&quot;</span></span> : {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">when-split</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">ALLOW_READ_WRITES</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">merge-policy</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">PREFERRED_NON_NULL</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">persistence</span><span class="delimiter">&quot;</span></span> : {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">passivation</span><span class="delimiter">&quot;</span></span> : <span class="value">false</span>
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">YAML</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="yaml"><span class="key">distributedCache</span>:
  <span class="key">mode</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">SYNC</span><span class="delimiter">&quot;</span></span>
  <span class="key">owners</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2</span><span class="delimiter">&quot;</span></span>
  <span class="key">segments</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">256</span><span class="delimiter">&quot;</span></span>
  <span class="key">capacityFactor</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1.0</span><span class="delimiter">&quot;</span></span>
  <span class="key">l1Lifespan</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">5000</span><span class="delimiter">&quot;</span></span>
  <span class="key">statistics</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>
  <span class="key">encoding</span>:
    <span class="key">mediaType</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/x-protostream</span><span class="delimiter">&quot;</span></span>
  <span class="key">locking</span>:
    <span class="key">isolation</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">REPEATABLE_READ</span><span class="delimiter">&quot;</span></span>
  <span class="key">transaction</span>:
    <span class="key">mode</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">FULL_XA</span><span class="delimiter">&quot;</span></span>
    <span class="key">locking</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">OPTIMISTIC</span><span class="delimiter">&quot;</span></span>
  <span class="key">expiration</span>:
    <span class="key">lifespan</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">5000</span><span class="delimiter">&quot;</span></span>
    <span class="key">maxIdle</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1000</span><span class="delimiter">&quot;</span></span>
  <span class="key">memory</span>:
    <span class="key">maxCount</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1000000</span><span class="delimiter">&quot;</span></span>
    <span class="key">whenFull</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">REMOVE</span><span class="delimiter">&quot;</span></span>
  <span class="key">indexing</span>:
    <span class="key">enabled</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>
    <span class="key">storage</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">local-heap</span><span class="delimiter">&quot;</span></span>
    <span class="key">indexReader</span>:
      <span class="key">refreshInterval</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1000</span><span class="delimiter">&quot;</span></span>
  <span class="key">partitionHandling</span>:
    <span class="key">whenSplit</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ALLOW_READ_WRITES</span><span class="delimiter">&quot;</span></span>
    <span class="key">mergePolicy</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">PREFERRED_NON_NULL</span><span class="delimiter">&quot;</span></span>
  <span class="key">persistence</span>:
    <span class="key">passivation</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span>
    <span class="comment"># Persistent storage configuration.</span></code></pre>
</div>
</div>
<h5 id="replicated_caches" class="discrete">Replicated caches</h5>
<div class="listingblock primary">
<div class="title">XML</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="xml"><span class="tag">&lt;replicated-cache</span> <span class="attribute-name">segments</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">256</span><span class="delimiter">&quot;</span></span>
                  <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">SYNC</span><span class="delimiter">&quot;</span></span>
                  <span class="attribute-name">statistics</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;encoding</span> <span class="attribute-name">media-type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">application/x-protostream</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;locking</span> <span class="attribute-name">isolation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">REPEATABLE_READ</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;transaction</span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">FULL_XA</span><span class="delimiter">&quot;</span></span>
               <span class="attribute-name">locking</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">OPTIMISTIC</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;expiration</span> <span class="attribute-name">lifespan</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">5000</span><span class="delimiter">&quot;</span></span>
              <span class="attribute-name">max-idle</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1000</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
  <span class="tag">&lt;memory</span> <span class="attribute-name">max-count</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1000000</span><span class="delimiter">&quot;</span></span>
          <span class="attribute-name">when-full</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">REMOVE</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;indexing</span> <span class="attribute-name">enabled</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>
            <span class="attribute-name">storage</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">local-heap</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;index-reader</span> <span class="attribute-name">refresh-interval</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1000</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/indexing&gt;</span>
  <span class="tag">&lt;partition-handling</span> <span class="attribute-name">when-split</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ALLOW_READ_WRITES</span><span class="delimiter">&quot;</span></span>
                      <span class="attribute-name">merge-policy</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">PREFERRED_NON_NULL</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;persistence</span> <span class="attribute-name">passivation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="comment">&lt;!-- Persistent storage configuration. --&gt;</span>
  <span class="tag">&lt;/persistence&gt;</span>
<span class="tag">&lt;/replicated-cache&gt;</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">JSON</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">replicated-cache</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">mode</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">SYNC</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">segments</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">256</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">statistics</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">encoding</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">media-type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/x-protostream</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">locking</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">isolation</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">REPEATABLE_READ</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">transaction</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">mode</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">FULL_XA</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">locking</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">OPTIMISTIC</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">expiration</span><span class="delimiter">&quot;</span></span> : {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">lifespan</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">5000</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">max-idle</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">1000</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">memory</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">max-count</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1000000</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">when-full</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">REMOVE</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">indexing</span><span class="delimiter">&quot;</span></span> : {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span> : <span class="value">true</span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">storage</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">local-heap</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">index-reader</span><span class="delimiter">&quot;</span></span> : {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">refresh-interval</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">1000</span><span class="delimiter">&quot;</span></span>
      }
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">partition-handling</span><span class="delimiter">&quot;</span></span> : {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">when-split</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">ALLOW_READ_WRITES</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">merge-policy</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">PREFERRED_NON_NULL</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">persistence</span><span class="delimiter">&quot;</span></span> : {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">passivation</span><span class="delimiter">&quot;</span></span> : <span class="value">false</span>
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">YAML</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="yaml"><span class="key">replicatedCache</span>:
  <span class="key">mode</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">SYNC</span><span class="delimiter">&quot;</span></span>
  <span class="key">segments</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">256</span><span class="delimiter">&quot;</span></span>
  <span class="key">statistics</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>
  <span class="key">encoding</span>:
    <span class="key">mediaType</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/x-protostream</span><span class="delimiter">&quot;</span></span>
  <span class="key">locking</span>:
    <span class="key">isolation</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">REPEATABLE_READ</span><span class="delimiter">&quot;</span></span>
  <span class="key">transaction</span>:
    <span class="key">mode</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">FULL_XA</span><span class="delimiter">&quot;</span></span>
    <span class="key">locking</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">OPTIMISTIC</span><span class="delimiter">&quot;</span></span>
  <span class="key">expiration</span>:
    <span class="key">lifespan</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">5000</span><span class="delimiter">&quot;</span></span>
    <span class="key">maxIdle</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1000</span><span class="delimiter">&quot;</span></span>
  <span class="key">memory</span>:
    <span class="key">maxCount</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1000000</span><span class="delimiter">&quot;</span></span>
    <span class="key">whenFull</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">REMOVE</span><span class="delimiter">&quot;</span></span>
  <span class="key">indexing</span>:
    <span class="key">enabled</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>
    <span class="key">storage</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">local-heap</span><span class="delimiter">&quot;</span></span>
    <span class="key">indexReader</span>:
      <span class="key">refreshInterval</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1000</span><span class="delimiter">&quot;</span></span>
  <span class="key">partitionHandling</span>:
    <span class="key">whenSplit</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ALLOW_READ_WRITES</span><span class="delimiter">&quot;</span></span>
    <span class="key">mergePolicy</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">PREFERRED_NON_NULL</span><span class="delimiter">&quot;</span></span>
  <span class="key">persistence</span>:
    <span class="key">passivation</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span>
    <span class="comment"># Persistent storage configuration.</span></code></pre>
</div>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.jboss.org/infinispan/13.0/configdocs/">Infinispan configuration schema reference</a></p>
</li>
<li>
<p><a href="http://infinispan.org/schemas/infinispan-config-13.0.xsd">infinispan-config-13.0.xsd</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="modifying-cache-configuration"><a class="anchor" href="#modifying-cache-configuration"></a>2.2. Modifying Infinispan cache configuration</h3>
<div class="paragraph">
<p>Make changes to your remote cache configuration with the Infinispan CLI.
You can modify attributes in your cache configuration either one at a time or provide a cache configuration in XML, JSON or YAML format to modify several attributes at once.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Create at least one remote cache on your Infinispan cluster.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a CLI connection to Infinispan.</p>
</li>
<li>
<p>Modify the cache configuration with the <code class="command">alter</code> command in one of the following ways:</p>
<div class="ulist">
<ul>
<li>
<p>Use the <code>--file</code> option to specify a configuration file with one or more attribute modifications.</p>
</li>
<li>
<p>Use the <code>--attribute</code> and <code>--value</code> option to modify a specific configuration attribute.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For more information and examples, run the <code class="command">help alter</code> command.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Verify your changes with the <code class="command">describe</code> command, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[//containers/default]&gt; describe caches/mycache</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="cli_add_entries"><a class="anchor" href="#cli_add_entries"></a>2.3. Adding Cache Entries</h3>
<div class="paragraph">
<p>Create <code>key:value</code> pair entries in the data container.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>Create a Infinispan cache that can store your data.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a CLI connection to Infinispan.</p>
</li>
<li>
<p>Add entries into your cache as follows:</p>
<div class="ulist">
<ul>
<li>
<p>Use the <code class="command">put</code> command from the context of a cache:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[//containers/default/caches/mycache]&gt; put hello world</code></pre>
</div>
</div>
</li>
<li>
<p>Use the <code class="command">--cache=</code> with the <code class="command">put</code> command:</p>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; put --cache=mycache hello world</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Use the <code class="command">get</code> command to verify entries.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[//containers/default/caches/mycache]&gt; get hello
world</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="cli_clear_caches"><a class="anchor" href="#cli_clear_caches"></a>2.4. Clearing Caches and Deleting Entries</h3>
<div class="paragraph">
<p>Remove data from caches with the Infinispan CLI.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a CLI connection to Infinispan.</p>
</li>
<li>
<p>Do one of the following:</p>
<div class="ulist">
<ul>
<li>
<p>Delete all entries with the <code class="command">clearcache</code> command.</p>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; clearcache mycache</pre>
</div>
</div>
</li>
<li>
<p>Remove specific entries with the <code class="command">remove</code> command.</p>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; remove --cache=mycache hello</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="cli_drop_caches"><a class="anchor" href="#cli_drop_caches"></a>2.5. Deleting Caches</h3>
<div class="paragraph">
<p>Drop caches to remove them and delete all data they contain.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a CLI connection to Infinispan.</p>
</li>
<li>
<p>Remove caches with the <code class="command">drop</code> command.</p>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; drop cache mycache</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="cli-rebalancing-caches_cache-operations"><a class="anchor" href="#cli-rebalancing-caches_cache-operations"></a>2.6. Configuring Automatic Cache Rebalancing</h3>
<div class="paragraph">
<p>By default, Infinispan automatically rebalances caches as nodes join and leave the cluster.
You can configure automatic cache rebalancing by disabling or enabling it at the Cache Manager level or on a per-cache basis.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a CLI connection to Infinispan.</p>
</li>
<li>
<p>Disable automatic rebalancing for all caches with the <code class="command">rebalance disable</code> command.</p>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; rebalance disable</pre>
</div>
</div>
</li>
<li>
<p>Enable automatic rebalancing for a specific cache with the <code class="command">rebalance enable</code> command.</p>
<div class="paragraph">
<p>The following example enables rebalancing for the cache named "mycache" only.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; rebalance enable caches/mycache</pre>
</div>
</div>
</li>
<li>
<p>Re-enable automatic rebalancing for all caches.</p>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; rebalance enable</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>For more information about the <code class="command">rebalance</code> command, run <code class="command">help rebalance</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="batch_operations"><a class="anchor" href="#batch_operations"></a>3. Performing Batch Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Process operations in groups, either interactively or using batch files.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A running Infinispan cluster.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="cli-batching-files_cli"><a class="anchor" href="#cli-batching-files_cli"></a>3.1. Performing Batch Operations with Files</h3>
<div class="paragraph">
<p>Create files that contain a set of operations and then pass them to the Infinispan CLI.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a file that contains a set of operations.</p>
<div class="paragraph">
<p>For example, create a file named <code>batch</code> that creates a cache named <code>mybatch</code>, adds two entries to the cache, and disconnects from the CLI.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>connect --username=&lt;username&gt; --password=&lt;password&gt; &lt;hostname&gt;:11222
create cache --template=org.infinispan.DIST_SYNC mybatch
put --cache=mybatch hello world
put --cache=mybatch hola mundo
ls caches/mybatch
disconnect</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Configure the CLI with the <code>autoconnect-url</code> property instead of using the <code>connect</code> command directly in your batch files.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Run the CLI and specify the file as input.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$ bin/cli.sh -f batch</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>CLI batch files support system property expansion. Strings that use the
<code>${property}</code> format are replaced with the value of the <code>property</code> system
property.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="cli-batching-interactive_cli"><a class="anchor" href="#cli-batching-interactive_cli"></a>3.2. Performing Batch Operations Interactively</h3>
<div class="paragraph">
<p>Use the standard input stream, <strong>stdin</strong>, to perform batch operations interactively.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Start the Infinispan CLI in interactive mode.</p>
<div class="listingblock">
<div class="content">
<pre>$ bin/cli.sh -c localhost:11222 -f -</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can configure the CLI connection with the <code>autoconnect-url</code> property instead of using the <code class="command">-c</code> argument.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Run batch operations, for example:</p>
<div class="listingblock">
<div class="content">
<pre>create cache --template=org.infinispan.DIST_SYNC mybatch
put --cache=mybatch hello world
put --cache=mybatch hola mundo
disconnect
quit</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use <code class="command">echo</code> to add commands in interactive mode.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows how to use <code class="command">echo describe</code> to get cluster information:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ echo describe|bin/cli.sh -c localhost:11222 -f -
{
  "name" : "default",
  "version" : "10.0.0-SNAPSHOT",
  "coordinator" : false,
  "cache_configuration_names" : [ "org.infinispan.REPL_ASYNC", "___protobuf_metadata", "org.infinispan.DIST_SYNC", "qcache", "org.infinispan.LOCAL", "dist_cache_01", "org.infinispan.INVALIDATION_SYNC", "org.infinispan.REPL_SYNC", "org.infinispan.SCATTERED_SYNC", "mycache", "org.infinispan.INVALIDATION_ASYNC", "mybatch", "org.infinispan.DIST_ASYNC" ],
  "cluster_name" : "cluster",
  "physical_addresses" : "[192.168.1.7:7800]",
  "coordinator_address" : "thundercat-34689",
  "cache_manager_status" : "RUNNING",
  "created_cache_count" : "4",
  "running_cache_count" : "4",
  "node_address" : "thundercat-47082",
  "cluster_members" : [ "thundercat-34689", "thundercat-47082" ],
  "cluster_members_physical_addresses" : [ "10.36.118.25:7801", "192.168.1.7:7800" ],
  "cluster_size" : 2,
  "defined_caches" : [ {
    "name" : "___protobuf_metadata",
    "started" : true
  }, {
    "name" : "mybatch",
    "started" : true
  } ]
}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cli_config"><a class="anchor" href="#cli_config"></a>4. Configuring the Infinispan CLI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Define configuration properties for the Infinispan CLI.</p>
</div>
<div class="sect2">
<h3 id="configuring-cli-startup_cli"><a class="anchor" href="#configuring-cli-startup_cli"></a>4.1. Setting Infinispan CLI Properties and Persistent Storage</h3>
<div class="paragraph">
<p>Configure Infinispan CLI startup operations and customize the location for persistent storage.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>Create at least one Infinispan user.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Optionally set a custom path to the Infinispan CLI storage directory in one of the following ways:</p>
<div class="ulist">
<ul>
<li>
<p>Using the <code>cli.dir</code> system property:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$ bin/cli.sh -Dcli.dir=/path/to/cli/storage ...</code></pre>
</div>
</div>
</li>
<li>
<p>Using the <code>ISPN_CLI_DIR</code> environment variable:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>export ISPN_CLI_DIR=/path/to/cli/storage
$ bin/cli.sh ...</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Set values for configuration properties with the <code class="command">config set</code> command.</p>
<div class="paragraph">
<p>For example, set the <code>autoconnect-url</code> property so that the CLI automatically connects to that URL.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For remote connections, specify the URL and provide credentials:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>http[s]://&lt;username&gt;:&lt;password&gt;@&lt;hostname&gt;:&lt;port&gt;</code> for basic authentication.</p>
</li>
<li>
<p><code>http[s]://&lt;token&gt;@&lt;hostname&gt;:&lt;port&gt;</code> for OAuth authentication.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="bash">$ bin/cli.sh config set autoconnect-url http://&lt;username&gt;:&lt;password&gt;@&lt;hostname&gt;:11222</code></pre>
</div>
</div>
</li>
<li>
<p>Verify configuration properties with the <code class="command">config get</code> command.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Run <code class="command">help config</code> to review available configuration properties and get example usage.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="cli_creating_command_aliases-cli"><a class="anchor" href="#cli_creating_command_aliases-cli"></a>4.2. Creating Command Aliases</h3>
<div class="paragraph">
<p>Create aliases for Infinispan CLI commands to define custom shortcuts.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create aliases with the <code class="command">alias &lt;alias&gt;=&lt;command&gt;</code> command.</p>
<div class="paragraph">
<p>For example, set <code>q</code> as an alias for the <code class="command">quit</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[//containers/default]&gt; alias q=quit</code></pre>
</div>
</div>
</li>
<li>
<p>Run the <code class="command">alias</code> command to check the defined aliases.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[//containers/default]&gt; alias
alias q='quit'</code></pre>
</div>
</div>
</li>
<li>
<p>Delete aliases with the <code class="command">unalias</code> command, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[//containers/default]&gt; unalias q</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="cli_configuring_tls_properties-cli"><a class="anchor" href="#cli_configuring_tls_properties-cli"></a>4.3. Trusting Infinispan Server Connections</h3>
<div class="paragraph">
<p>Secure Infinispan CLI connections to Infinispan Server with SSL/TLS
certificates. If you create a key store as an SSL identity for Infinispan
Server, the CLI can validate server certificates to verify the identity.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Set up an SSL identity for Infinispan Server.</p>
</li>
<li>
<p>Create at least one Infinispan user.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Specify the location of the server key store, as in the following example:</p>
<div class="listingblock">
<div class="content">
<pre>$ bin/cli.sh config set truststore /home/user/my-trust-store.jks</pre>
</div>
</div>
</li>
<li>
<p>Define the key store password, if necessary, as follows:</p>
<div class="listingblock">
<div class="content">
<pre>$ bin/cli.sh config set truststore-password secret</pre>
</div>
</div>
</li>
<li>
<p>Verify your CLI configuration.</p>
<div class="listingblock">
<div class="content">
<pre>$ bin/cli.sh config get truststore
truststore=/home/user/my-trust-store.jks

$ bin/cli.sh config get truststore-password
truststore-password=secret</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../server/server.html#ssl_identity-server">Setting Up SSL Identities for Infinispan Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="cli_storage_directory-cli"><a class="anchor" href="#cli_storage_directory-cli"></a>4.4. Infinispan CLI Storage Directory</h3>
<div class="paragraph">
<p>Infinispan CLI stores configuration in the following default directory:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operating System</th>
<th class="tableblock halign-left valign-top">Default Path</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux/Unix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$HOME/.config/infinispan</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Microsoft Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%APPDATA%/Sun/Java/infinispan</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mac OS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$HOME/Library/Java/infinispan</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This directory contains the following files:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>cli.properties</code></dt>
<dd>
<p>Stores values for CLI configuration properties.</p>
</dd>
<dt class="hdlist1"><code>aliases</code></dt>
<dd>
<p>Stores command aliases.</p>
</dd>
<dt class="hdlist1"><code>history</code></dt>
<dd>
<p>Stores CLI history.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="counters"><a class="anchor" href="#counters"></a>5. Working with Counters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Counters provide atomic increment and decrement operations that record the
count of objects.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Start the Infinispan CLI.</p>
</li>
<li>
<p>Connect to a running Infinispan cluster.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="creating_counters"><a class="anchor" href="#creating_counters"></a>5.1. Creating Counters</h3>
<div class="paragraph">
<p>Create strong and weak counters with the Infinispan CLI.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a CLI connection to Infinispan.</p>
</li>
<li>
<p>Run the <code class="command">create counter</code> command with the appropriate arguments.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create <code>my-weak-counter</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">c</span><span class="error">r</span><span class="error">e</span><span class="error">a</span><span class="error">t</span><span class="error">e</span> <span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span> <span class="error">-</span><span class="error">-</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">c</span><span class="error">u</span><span class="error">r</span><span class="error">r</span><span class="error">e</span><span class="error">n</span><span class="error">c</span><span class="error">y</span><span class="error">-</span><span class="error">l</span><span class="error">e</span><span class="error">v</span><span class="error">e</span><span class="error">l</span><span class="error">=</span><span class="integer">1</span> <span class="error">-</span><span class="error">-</span><span class="error">i</span><span class="error">n</span><span class="error">i</span><span class="error">t</span><span class="error">i</span><span class="error">a</span><span class="error">l</span><span class="error">-</span><span class="error">v</span><span class="error">a</span><span class="error">l</span><span class="error">u</span><span class="error">e</span><span class="error">=</span><span class="integer">5</span> <span class="error">-</span><span class="error">-</span><span class="error">s</span><span class="error">t</span><span class="error">o</span><span class="error">r</span><span class="error">a</span><span class="error">g</span><span class="error">e</span><span class="error">=</span><span class="error">P</span><span class="error">E</span><span class="error">R</span><span class="error">S</span><span class="error">I</span><span class="error">S</span><span class="error">T</span><span class="error">E</span><span class="error">N</span><span class="error">T</span> <span class="error">-</span><span class="error">-</span><span class="error">t</span><span class="error">y</span><span class="error">p</span><span class="error">e</span><span class="error">=</span><span class="error">w</span><span class="error">e</span><span class="error">a</span><span class="error">k</span> <span class="error">m</span><span class="error">y</span><span class="error">-</span><span class="error">w</span><span class="error">e</span><span class="error">a</span><span class="error">k</span><span class="error">-</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span></code></pre>
</div>
</div>
</li>
<li>
<p>Create <code>my-strong-counter</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">c</span><span class="error">r</span><span class="error">e</span><span class="error">a</span><span class="error">t</span><span class="error">e</span> <span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span> <span class="error">-</span><span class="error">-</span><span class="error">i</span><span class="error">n</span><span class="error">i</span><span class="error">t</span><span class="error">i</span><span class="error">a</span><span class="error">l</span><span class="error">-</span><span class="error">v</span><span class="error">a</span><span class="error">l</span><span class="error">u</span><span class="error">e</span><span class="error">=</span><span class="integer">3</span> <span class="error">-</span><span class="error">-</span><span class="error">s</span><span class="error">t</span><span class="error">o</span><span class="error">r</span><span class="error">a</span><span class="error">g</span><span class="error">e</span><span class="error">=</span><span class="error">P</span><span class="error">E</span><span class="error">R</span><span class="error">S</span><span class="error">I</span><span class="error">S</span><span class="error">T</span><span class="error">E</span><span class="error">N</span><span class="error">T</span> <span class="error">-</span><span class="error">-</span><span class="error">t</span><span class="error">y</span><span class="error">p</span><span class="error">e</span><span class="error">=</span><span class="error">s</span><span class="error">t</span><span class="error">r</span><span class="error">o</span><span class="error">n</span><span class="error">g</span> <span class="error">m</span><span class="error">y</span><span class="error">-</span><span class="error">s</span><span class="error">t</span><span class="error">r</span><span class="error">o</span><span class="error">n</span><span class="error">g</span><span class="error">-</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>List available counters.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">l</span><span class="error">s</span> <span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span><span class="error">s</span>
<span class="error">m</span><span class="error">y</span><span class="error">-</span><span class="error">s</span><span class="error">t</span><span class="error">r</span><span class="error">o</span><span class="error">n</span><span class="error">g</span><span class="error">-</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span>
<span class="error">m</span><span class="error">y</span><span class="error">-</span><span class="error">w</span><span class="error">e</span><span class="error">a</span><span class="error">k</span><span class="error">-</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span></code></pre>
</div>
</div>
</li>
<li>
<p>Verify counter configurations.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Describe <code>my-weak-counter</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">d</span><span class="error">e</span><span class="error">s</span><span class="error">c</span><span class="error">r</span><span class="error">i</span><span class="error">b</span><span class="error">e</span> <span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">m</span><span class="error">y</span><span class="error">-</span><span class="error">w</span><span class="error">e</span><span class="error">a</span><span class="error">k</span><span class="error">-</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span>

{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">weak-counter</span><span class="delimiter">&quot;</span></span>:{
        <span class="key"><span class="delimiter">&quot;</span><span class="content">initial-value</span><span class="delimiter">&quot;</span></span>:<span class="integer">5</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">storage</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">PERSISTENT</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">concurrency-level</span><span class="delimiter">&quot;</span></span>:<span class="integer">1</span>
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Describe <code>my-strong-counter</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">d</span><span class="error">e</span><span class="error">s</span><span class="error">c</span><span class="error">r</span><span class="error">i</span><span class="error">b</span><span class="error">e</span> <span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">m</span><span class="error">y</span><span class="error">-</span><span class="error">s</span><span class="error">t</span><span class="error">r</span><span class="error">o</span><span class="error">n</span><span class="error">g</span><span class="error">-</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span>

{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">strong-counter</span><span class="delimiter">&quot;</span></span>:{
        <span class="key"><span class="delimiter">&quot;</span><span class="content">initial-value</span><span class="delimiter">&quot;</span></span>:<span class="integer">3</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">storage</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">PERSISTENT</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">upper-bound</span><span class="delimiter">&quot;</span></span>:<span class="integer">5</span>
    }
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="adding_deltas_to_counters"><a class="anchor" href="#adding_deltas_to_counters"></a>5.2. Adding Deltas to Counters</h3>
<div class="paragraph">
<p>Increment or decrement counters with arbitrary values.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Select a counter.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span> <span class="error">m</span><span class="error">y</span><span class="error">-</span><span class="error">w</span><span class="error">e</span><span class="error">a</span><span class="error">k</span><span class="error">-</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span></code></pre>
</div>
</div>
</li>
<li>
<p>List the current count.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">m</span><span class="error">y</span><span class="error">-</span><span class="error">w</span><span class="error">e</span><span class="error">a</span><span class="error">k</span><span class="error">-</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span>]<span class="error">&gt;</span> <span class="error">l</span><span class="error">s</span>
<span class="integer">5</span></code></pre>
</div>
</div>
</li>
<li>
<p>Increment the counter value by <code>2</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">m</span><span class="error">y</span><span class="error">-</span><span class="error">w</span><span class="error">e</span><span class="error">a</span><span class="error">k</span><span class="error">-</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span>]<span class="error">&gt;</span> <span class="error">a</span><span class="error">d</span><span class="error">d</span> <span class="error">-</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">l</span><span class="error">t</span><span class="error">a</span><span class="error">=</span><span class="integer">2</span></code></pre>
</div>
</div>
</li>
<li>
<p>Decrement the counter value by <code>-4</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">m</span><span class="error">y</span><span class="error">-</span><span class="error">w</span><span class="error">e</span><span class="error">a</span><span class="error">k</span><span class="error">-</span><span class="error">c</span><span class="error">o</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">e</span><span class="error">r</span>]<span class="error">&gt;</span> <span class="error">a</span><span class="error">d</span><span class="error">d</span> <span class="error">-</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">l</span><span class="error">t</span><span class="error">a</span><span class="error">=</span><span class="integer">-4</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Strong counters return values after the operation is applied. Use
<code>--quiet=true</code> to hide the return value.</p>
</div>
<div class="paragraph">
<p>For example, <code>my-strong-counter]&gt; add --delta=3 --quiet=true</code>.</p>
</div>
<div class="paragraph">
<p>Weak counters return empty responses.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xsite_commands"><a class="anchor" href="#xsite_commands"></a>6. Performing Cross-Site Replication Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Infinispan clusters running in different locations can discover and
communicate with each other to backup data.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Start the Infinispan CLI.</p>
</li>
<li>
<p>Connect to a running Infinispan cluster.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="bringing-backup-locations-offline-online_cli"><a class="anchor" href="#bringing-backup-locations-offline-online_cli"></a>6.1. Bringing backup locations offline and online</h3>
<div class="paragraph">
<p>Take backup locations offline manually and bring them back online.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Create a CLI connection to Infinispan.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Check if backup locations are online or offline with the <code class="command">site status</code> command:</p>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; site status --cache=cacheName --site=NYC</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>--site</code> is an optional argument. If not set, the CLI returns all backup
locations.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use the <code>--all-caches</code> option to get the backup location status for all caches.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>+
. Manage backup locations as follows:</p>
</div>
<div class="paragraph">
<p>+
* Bring backup locations online with the <code class="command">bring-online</code> command:</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; site bring-online --cache=customers --site=NYC</pre>
</div>
</div>
<div class="paragraph">
<p>+
* Take backup locations offline with the <code class="command">take-offline</code> command:</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; site take-offline --cache=customers --site=NYC</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use the <code>--all-caches</code> option to bring a backup location online, or take a backup location offline, for all caches.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information and examples, run the <code class="command">help site</code> command.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-cross-site-state-transfer-modes_cli"><a class="anchor" href="#configuring-cross-site-state-transfer-modes_cli"></a>6.2. Configuring cross-site state transfer modes</h3>
<div class="paragraph">
<p>You can configure cross-site state transfer operations to happen automatically when Infinispan detects that backup locations come online.
Alternatively you can use the default mode, which is to manually perform state transfer.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Create a CLI connection to Infinispan.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Use the <code class="command">site</code> command to configure state transfer modes, as in the following examples:</p>
<div class="ulist">
<ul>
<li>
<p>Retrieve the current state transfer mode.</p>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; site state-transfer-mode get --cache=cacheName --site=NYC
"MANUAL"</pre>
</div>
</div>
</li>
<li>
<p>Configure automatic state transfer operations for a cache and backup location.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; site state-transfer-mode set --cache=cacheName --site=NYC --mode=AUTO</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Run the <code class="command">help site</code> command for more information and examples.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="pushing-cross-site-state-transfer_cli"><a class="anchor" href="#pushing-cross-site-state-transfer_cli"></a>6.3. Pushing state to backup locations</h3>
<div class="paragraph">
<p>Transfer cache state to backup locations.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Create a CLI connection to Infinispan.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Use the <code class="command">site push-site-state</code> command to push state transfer, as in the following example:</p>
<div class="listingblock">
<div class="content">
<pre>[//containers/default]&gt; site push-site-state --cache=cacheName --site=NYC</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use the <code>--all-caches</code> option to push state transfer for all caches.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information and examples, run the <code class="command">help site</code> command.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="backup"><a class="anchor" href="#backup"></a>7. Backing Up and Restoring Infinispan Clusters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create archives of Infinispan resources that include cached entries, cache
configurations, Protobuf schemas, and server scripts. You can then use the
backup archives to restore Infinispan Server clusters after a restart or
migration.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Start the Infinispan CLI.</p>
</li>
<li>
<p>Connect to a running Infinispan cluster.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="cli_creating_backups-cli"><a class="anchor" href="#cli_creating_backups-cli"></a>7.1. Backing Up Infinispan Clusters</h3>
<div class="paragraph">
<p>Create backup archives in <code>.zip</code> format that you can download or store on
Infinispan Server.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>Backup archives should reflect the most recent cluster state. For this reason
you should ensure the cluster is no longer accepting write requests before you
create backup archives.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a CLI connection to Infinispan.</p>
</li>
<li>
<p>Run the <code class="command">backup create</code> command with the appropriate options, for example:</p>
<div class="ulist">
<ul>
<li>
<p>Back up all resources with an automatically generated name.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span> <span class="error">c</span><span class="error">r</span><span class="error">e</span><span class="error">a</span><span class="error">t</span><span class="error">e</span></code></pre>
</div>
</div>
</li>
<li>
<p>Back up all resources in a backup archive named <code>example-backup</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span> <span class="error">c</span><span class="error">r</span><span class="error">e</span><span class="error">a</span><span class="error">t</span><span class="error">e</span> <span class="error">-</span><span class="error">n</span> <span class="error">e</span><span class="error">x</span><span class="error">a</span><span class="error">m</span><span class="error">p</span><span class="error">l</span><span class="error">e</span><span class="error">-</span><span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span></code></pre>
</div>
</div>
</li>
<li>
<p>Back up all resources to the <code>/some/server/dir</code> path on the server.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span> <span class="error">c</span><span class="error">r</span><span class="error">e</span><span class="error">a</span><span class="error">t</span><span class="error">e</span> <span class="error">-</span><span class="error">d</span> <span class="error">/</span><span class="error">s</span><span class="error">o</span><span class="error">m</span><span class="error">e</span><span class="error">/</span><span class="error">s</span><span class="error">e</span><span class="error">r</span><span class="error">v</span><span class="error">e</span><span class="error">r</span><span class="error">/</span><span class="error">d</span><span class="error">i</span><span class="error">r</span></code></pre>
</div>
</div>
</li>
<li>
<p>Back up only caches and cache templates.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span> <span class="error">c</span><span class="error">r</span><span class="error">e</span><span class="error">a</span><span class="error">t</span><span class="error">e</span> <span class="error">-</span><span class="error">-</span><span class="error">c</span><span class="error">a</span><span class="error">c</span><span class="error">h</span><span class="error">e</span><span class="error">s</span><span class="error">=</span><span class="error">*</span> <span class="error">-</span><span class="error">-</span><span class="error">t</span><span class="error">e</span><span class="error">m</span><span class="error">p</span><span class="error">l</span><span class="error">a</span><span class="error">t</span><span class="error">e</span><span class="error">s</span><span class="error">=</span><span class="error">*</span></code></pre>
</div>
</div>
</li>
<li>
<p>Back up named Protobuf schemas only.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span> <span class="error">c</span><span class="error">r</span><span class="error">e</span><span class="error">a</span><span class="error">t</span><span class="error">e</span> <span class="error">-</span><span class="error">-</span><span class="error">p</span><span class="error">r</span><span class="error">o</span><span class="error">t</span><span class="error">o</span><span class="error">-</span><span class="error">s</span><span class="error">c</span><span class="error">h</span><span class="error">e</span><span class="error">m</span><span class="error">a</span><span class="error">s</span><span class="error">=</span><span class="error">s</span><span class="error">c</span><span class="error">h</span><span class="error">e</span><span class="error">m</span><span class="error">a</span><span class="integer">1</span>,<span class="error">s</span><span class="error">c</span><span class="error">h</span><span class="error">e</span><span class="error">m</span><span class="error">a</span><span class="integer">2</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>List available backup archives on the server.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span> <span class="error">l</span><span class="error">s</span></code></pre>
</div>
</div>
</li>
<li>
<p>Download the <code>example-backup</code> archive from the server.</p>
<div class="paragraph">
<p>If the backup operation is still in progress, the command waits for it to
complete.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span> <span class="error">g</span><span class="error">e</span><span class="error">t</span> <span class="error">e</span><span class="error">x</span><span class="error">a</span><span class="error">m</span><span class="error">p</span><span class="error">l</span><span class="error">e</span><span class="error">-</span><span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span></code></pre>
</div>
</div>
</li>
<li>
<p>Optionally delete the <code>example-backup</code> archive from the server.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span> <span class="error">d</span><span class="error">e</span><span class="error">l</span><span class="error">e</span><span class="error">t</span><span class="error">e</span> <span class="error">e</span><span class="error">x</span><span class="error">a</span><span class="error">m</span><span class="error">p</span><span class="error">l</span><span class="error">e</span><span class="error">-</span><span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="cli_restoring_backups-cli"><a class="anchor" href="#cli_restoring_backups-cli"></a>7.2. Restoring Infinispan Clusters from Backup Archives</h3>
<div class="paragraph">
<p>Apply the content of backup archives to Infinispan clusters to restore them to
the backed up state.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Create a backup archive that is either local to the Infinispan CLI or stored on Infinispan Server.</p>
</li>
<li>
<p>Ensure that the target container matches the container name in the backup archive. You cannot restore backups if the container names do not match.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a CLI connection to Infinispan.</p>
</li>
<li>
<p>Run the <code class="command">backup restore</code> command with the appropriate options.</p>
<div class="ulist">
<ul>
<li>
<p>Restore all content from a backup archive accessible on the server.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span> <span class="error">r</span><span class="error">e</span><span class="error">s</span><span class="error">t</span><span class="error">o</span><span class="error">r</span><span class="error">e</span> <span class="error">/</span><span class="error">s</span><span class="error">o</span><span class="error">m</span><span class="error">e</span><span class="error">/</span><span class="error">p</span><span class="error">a</span><span class="error">t</span><span class="error">h</span><span class="error">/</span><span class="error">o</span><span class="error">n</span><span class="error">/</span><span class="error">t</span><span class="error">h</span><span class="error">e</span><span class="error">/</span><span class="error">s</span><span class="error">e</span><span class="error">r</span><span class="error">v</span><span class="error">e</span><span class="error">r</span></code></pre>
</div>
</div>
</li>
<li>
<p>Restore all content from a local backup archive.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span> <span class="error">r</span><span class="error">e</span><span class="error">s</span><span class="error">t</span><span class="error">o</span><span class="error">r</span><span class="error">e</span> <span class="error">-</span><span class="error">u</span> <span class="error">/</span><span class="error">s</span><span class="error">o</span><span class="error">m</span><span class="error">e</span><span class="error">/</span><span class="error">l</span><span class="error">o</span><span class="error">c</span><span class="error">a</span><span class="error">l</span><span class="error">/</span><span class="error">p</span><span class="error">a</span><span class="error">t</span><span class="error">h</span></code></pre>
</div>
</div>
</li>
<li>
<p>Restore only cache content from a backup archive on the server.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="json">[<span class="error">/</span><span class="error">/</span><span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">/</span><span class="error">d</span><span class="error">e</span><span class="error">f</span><span class="error">a</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>]<span class="error">&gt;</span> <span class="error">b</span><span class="error">a</span><span class="error">c</span><span class="error">k</span><span class="error">u</span><span class="error">p</span> <span class="error">r</span><span class="error">e</span><span class="error">s</span><span class="error">t</span><span class="error">o</span><span class="error">r</span><span class="error">e</span> <span class="error">/</span><span class="error">s</span><span class="error">o</span><span class="error">m</span><span class="error">e</span><span class="error">/</span><span class="error">p</span><span class="error">a</span><span class="error">t</span><span class="error">h</span><span class="error">/</span><span class="error">o</span><span class="error">n</span><span class="error">/</span><span class="error">t</span><span class="error">h</span><span class="error">e</span><span class="error">/</span><span class="error">s</span><span class="error">e</span><span class="error">r</span><span class="error">v</span><span class="error">e</span><span class="error">r</span> <span class="error">-</span><span class="error">-</span><span class="error">c</span><span class="error">a</span><span class="error">c</span><span class="error">h</span><span class="error">e</span><span class="error">s</span><span class="error">=</span><span class="error">*</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="command_reference"><a class="anchor" href="#command_reference"></a>8. Command Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Review manual pages for Infinispan CLI commands.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use <code>help</code> command to access manual pages directly from your CLI session.</p>
</div>
<div class="paragraph">
<p>For example, to view the manual page for the <code>get</code> command do the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ help get</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="add1"><a class="anchor" href="#add1"></a>8.1. ADD(1)</h3>
<div class="sect3">
<h4 id="name"><a class="anchor" href="#name"></a>8.1.1. NAME</h4>
<div class="paragraph">
<p>add - increments and decrements counters with arbitrary values.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis"><a class="anchor" href="#synopsis"></a>8.1.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>add</strong> ['OPTIONS'] ['COUNTER_NAME']</p>
</div>
</div>
<div class="sect3">
<h4 id="options"><a class="anchor" href="#options"></a>8.1.3. OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--delta</strong>='nnn'</dt>
<dd>
<p>Sets a delta to increment or decrement the counter value. Defaults to <code>1</code>.</p>
</dd>
<dt class="hdlist1"><strong>-q, --quiet</strong>='[true|false]'</dt>
<dd>
<p>Hides return values for strong counters. The default is <code>false</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples"><a class="anchor" href="#examples"></a>8.1.4. EXAMPLES</h4>
<div class="paragraph">
<p><code>add --delta=10 cnt_a</code><br>
Increments the value of <code>cnt_a</code> by <code>10</code>.</p>
</div>
<div class="paragraph">
<p><code>add --delta=-5 cnt_a</code><br>
Decrements the value of <code>cnt_a</code> by <code>5</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also"><a class="anchor" href="#see_also"></a>8.1.5. SEE ALSO</h4>
<div class="paragraph">
<p>cas(1), reset(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="alias1"><a class="anchor" href="#alias1"></a>8.2. ALIAS(1)</h3>
<div class="sect3">
<h4 id="name_2"><a class="anchor" href="#name_2"></a>8.2.1. NAME</h4>
<div class="paragraph">
<p>alias - creates or displays aliases.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_2"><a class="anchor" href="#synopsis_2"></a>8.2.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>alias</strong> ['ALIAS-NAME'='COMMAND']</p>
</div>
</div>
<div class="sect3">
<h4 id="examples_2"><a class="anchor" href="#examples_2"></a>8.2.3. EXAMPLES</h4>
<div class="paragraph">
<p><code>alias q=quit</code><br>
Creates <code>q</code> as an alias for the <code>quit</code> command.</p>
</div>
<div class="paragraph">
<p><code>alias</code><br>
Lists all defined aliases.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_2"><a class="anchor" href="#see_also_2"></a>8.2.4. SEE ALSO</h4>
<div class="paragraph">
<p>config(1), unalias(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="alter1"><a class="anchor" href="#alter1"></a>8.3. ALTER(1)</h3>
<div class="sect3">
<h4 id="name_3"><a class="anchor" href="#name_3"></a>8.3.1. NAME</h4>
<div class="paragraph">
<p>alter - modifies the configuration of caches on ${infinispan.brand.name} Server.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_3"><a class="anchor" href="#synopsis_3"></a>8.3.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>alter cache</strong> ['OPTIONS'] <code>CACHE_NAME</code></p>
</div>
<div class="paragraph">
<p>You can modify a cache with the <code>alter</code> command only if the changes are compatible with the existing configuration.</p>
</div>
<div class="paragraph">
<p>For example you cannot use a replicated cache configuration to modify a distributed cache.
Likewise if you create a cache configuration with a specific attribute, you cannot modify the configuration to use a different attribute instead.
For example, attempting to modify cache configuration by specifying a value for the <code>max-count</code> attribute results in invalid configuration if the <code>max-size</code> is already set.</p>
</div>
</div>
<div class="sect3">
<h4 id="alter_cache_options"><a class="anchor" href="#alter_cache_options"></a>8.3.3. ALTER CACHE OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-f, --file</strong>='FILE'</dt>
<dd>
<p>Specifies a configuration file in XML, JSON or YAML format that modifies an existing configuration.
Mutually exclusive with the <code>--attribute</code> option.</p>
</dd>
<dt class="hdlist1"><strong>--attribute</strong>='ATTRIBUTE'</dt>
<dd>
<p>Specifies an attribute to modify in an existing configuration. Press the tab key to display a list of attributes.
Must be used in combination with the <code>--value</code> option.
Mutually exclusive with the <code>--file</code> option.</p>
</dd>
<dt class="hdlist1"><strong>--value</strong>='VALUE'</dt>
<dd>
<p>Specifies the new value for a configuration attribute.
Must be used in combination with the <code>--attribute</code> option.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples_3"><a class="anchor" href="#examples_3"></a>8.3.4. EXAMPLES</h4>
<div class="paragraph">
<p><code>alter cache mycache --file=/path/to/mycache.json</code><br>
Modifies the configuration of a cache named <code>mycache</code> with the <code>mycache.json</code> file.</p>
</div>
<div class="paragraph">
<p><code>alter cache mycache --attribute=clustering.remote-timeout --value=5000</code><br>
Modifies the configuration of a cache named <code>mycache</code> so that the <code>clustering.remote-timeout</code> attribute has a value of '5000'.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_3"><a class="anchor" href="#see_also_3"></a>8.3.5. SEE ALSO</h4>
<div class="paragraph">
<p>create(1), drop(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="availability1"><a class="anchor" href="#availability1"></a>8.4. AVAILABILITY(1)</h3>
<div class="sect3">
<h4 id="name_4"><a class="anchor" href="#name_4"></a>8.4.1. NAME</h4>
<div class="paragraph">
<p>availability - manage availability of clustered caches in network partitions.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_4"><a class="anchor" href="#synopsis_4"></a>8.4.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>availability</strong> ['OPTIONS'] ['CACHE_NAME']</p>
</div>
</div>
<div class="sect3">
<h4 id="options_2"><a class="anchor" href="#options_2"></a>8.4.3. OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--mode</strong>='[AVAILABLE|DEGRADED_MODE]'</dt>
<dd>
<p>Sets cache availability to AVAILABLE or DEGRADED_MODE when using either the DENY_READ_WRITES or ALLOW_READS partition handling strategy.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>AVAILABLE makes caches available to all nodes in a network partition.
DEGRADED_MODE prevents read and write operations on caches when network partitions occur.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples_4"><a class="anchor" href="#examples_4"></a>8.4.4. EXAMPLES</h4>
<div class="paragraph">
<p><code>availability cache1</code><br>
Gets the current availability of the cache 'cache1'.</p>
</div>
<div class="paragraph">
<p><code>availability --mode=AVAILABLE cache1</code><br>
Sets the availability of the cache 'cache1' to AVAILABLE.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="backup1"><a class="anchor" href="#backup1"></a>8.5. BACKUP(1)</h3>
<div class="sect3">
<h4 id="name_5"><a class="anchor" href="#name_5"></a>8.5.1. NAME</h4>
<div class="paragraph">
<p>backup - manage container backup creation and restoration.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_5"><a class="anchor" href="#synopsis_5"></a>8.5.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>backup create</strong> ['OPTIONS']</p>
</div>
<div class="paragraph">
<p><strong>backup delete</strong> ['OPTIONS'] <code>BACKUP_NAME</code></p>
</div>
<div class="paragraph">
<p><strong>backup get</strong> ['OPTIONS'] <code>BACKUP_NAME</code></p>
</div>
<div class="paragraph">
<p><strong>backup ls</strong></p>
</div>
<div class="paragraph">
<p><strong>backup restore</strong> ['OPTIONS'] <code>BACKUP_PATH</code></p>
</div>
</div>
<div class="sect3">
<h4 id="backup_create_options"><a class="anchor" href="#backup_create_options"></a>8.5.3. BACKUP CREATE OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-d, --dir</strong>='PATH'</dt>
<dd>
<p>Specifies a directory on the server to create and store the backup archive.</p>
</dd>
<dt class="hdlist1"><strong>-n, --name</strong>='NAME'</dt>
<dd>
<p>Defines a name for the backup archive.</p>
</dd>
<dt class="hdlist1"><strong>--caches</strong>='cache1,cache2,&#8230;&#8203;'</dt>
<dd>
<p>Lists caches to back up. Use '*' to back up all caches.</p>
</dd>
<dt class="hdlist1"><strong>--templates</strong>='template1,template2,&#8230;&#8203;'</dt>
<dd>
<p>Lists cache templates to back up. Use '*' to back up all templates.</p>
</dd>
<dt class="hdlist1"><strong>--counters</strong>='counter1,counter2,&#8230;&#8203;'</dt>
<dd>
<p>Lists of counters to back up. Use '*' to back up all counters.</p>
</dd>
<dt class="hdlist1"><strong>--proto-schemas</strong>='schema1,schema2,&#8230;&#8203;'</dt>
<dd>
<p>Lists Protobuf schemas to back up. Use '*' to back up all schemas.</p>
</dd>
<dt class="hdlist1"><strong>--tasks</strong>='task1,task2,&#8230;&#8203;'</dt>
<dd>
<p>Lists server tasks to back up. Use '*' to back up all tasks.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="backup_get_options"><a class="anchor" href="#backup_get_options"></a>8.5.4. BACKUP GET OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--no-content</strong></dt>
<dd>
<p>Does not download content. The command returns only when the backup operation is complete.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="backup_restore_options"><a class="anchor" href="#backup_restore_options"></a>8.5.5. BACKUP RESTORE OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-u, --upload</strong></dt>
<dd>
<p>Defines the path to a local backup archive that is uploaded to the server.</p>
</dd>
<dt class="hdlist1"><strong>-n, --name</strong>='NAME'</dt>
<dd>
<p>Defines a name for the restore request.</p>
</dd>
<dt class="hdlist1"><strong>--caches</strong>='cache1,cache2,&#8230;&#8203;'</dt>
<dd>
<p>Lists caches to restore. Use '*' to restore all caches from the backup archive.</p>
</dd>
<dt class="hdlist1"><strong>--templates</strong>='template1,template2,&#8230;&#8203;'</dt>
<dd>
<p>Lists cache templates to restore. Use '*' to restore all templates from the backup archive.</p>
</dd>
<dt class="hdlist1"><strong>--counters</strong>='counter1,counter2,&#8230;&#8203;'</dt>
<dd>
<p>Lists counters to restore. Use '*' to restore all counters from the backup archive.</p>
</dd>
<dt class="hdlist1"><strong>--proto-schemas</strong>='schema1,schema2,&#8230;&#8203;'</dt>
<dd>
<p>Lists Protobuf schemas to restore. Use '*' to restore all schemas from the backup archive.</p>
</dd>
<dt class="hdlist1"><strong>--tasks</strong>='task1,task2,&#8230;&#8203;'</dt>
<dd>
<p>Lists server tasks to restore. Use '*' to restore all tasks from the backup archive.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples_5"><a class="anchor" href="#examples_5"></a>8.5.6. EXAMPLES</h4>
<div class="paragraph">
<p><code>backup create -n example-backup</code><br>
Initiates a backup of all container content with name <code>example-backup</code>.</p>
</div>
<div class="paragraph">
<p><code>backup create -d /some/server/dir</code><br>
Initiates a backup of all container content and stores it on the server at path <code>/some/server/dir</code>.</p>
</div>
<div class="paragraph">
<p><code>backup create --caches=* --templates=*</code><br>
Initiates a backup that contains only cache and cache configuration resources.</p>
</div>
<div class="paragraph">
<p><code>backup create --proto-schemas=schema1,schema2</code><br>
Initiates a backup that contains the named schema resources only.</p>
</div>
<div class="paragraph">
<p><code>backup ls</code><br>
Lists all backups available on the server.</p>
</div>
<div class="paragraph">
<p><code>backup get example-backup</code><br>
Downloads the <code>example-backup</code> archive from the server. If the backup operation is in progress, the command waits for it to complete.</p>
</div>
<div class="paragraph">
<p><code>backup restore /some/path/on/the/server</code><br>
Restores all content from a backup archive on the server.</p>
</div>
<div class="paragraph">
<p><code>backup restore -u /some/local/path</code><br>
Restores all content from a local backup archive that is uploaded to the server.</p>
</div>
<div class="paragraph">
<p><code>backup restore /some/path/on/the/server --caches=*</code><br>
Restores only cache content from a backup archive on the server.</p>
</div>
<div class="paragraph">
<p><code>backup restore /some/path/on/the/server --proto-schemas=schema1,schema2</code><br>
Restores only the named schema resources from a backup archive on the server.</p>
</div>
<div class="paragraph">
<p><code>backup delete example-backup</code><br>
Deletes the <code>example-backup</code> archive from the server.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_4"><a class="anchor" href="#see_also_4"></a>8.5.7. SEE ALSO</h4>
<div class="paragraph">
<p>drop(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="benchmark1"><a class="anchor" href="#benchmark1"></a>8.6. BENCHMARK(1)</h3>
<div class="sect3">
<h4 id="name_6"><a class="anchor" href="#name_6"></a>8.6.1. NAME</h4>
<div class="paragraph">
<p>benchmark - runs a performance benchmark against a cache.</p>
</div>
<div class="paragraph">
<p>You can run performance benchmarks for the following HTTP and Hot Rod
protocols: <code>http</code>, <code>https</code>, <code>hotrod</code>, and <code>hotrods</code>. You specify the protocol
for the benchmark with a URI. If you do not specify a protocol, the benchmark
uses the URI of the current CLI connection.</p>
</div>
<div class="paragraph">
<p>Benchmarks for Hot Rod URIs connect to the entire cluster. For HTTP URIs,
benchmarks connect to a single node only.</p>
</div>
<div class="paragraph">
<p>Benchmarks test performance against an existing cache. Before you run a
benchmark, you should create a cache with the capabilities you want to measure.
For example, if you want to evaluate the performance of cross-site replication,
you should create a cache that has backup locations. If you want to test the
performance of persistence, create a cache that uses an appropriate cache store.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_6"><a class="anchor" href="#synopsis_6"></a>8.6.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>benchmark</strong> ['OPTIONS'] [<code>uri</code>]</p>
</div>
</div>
<div class="sect3">
<h4 id="benchmark_options"><a class="anchor" href="#benchmark_options"></a>8.6.3. BENCHMARK OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-t, --threads</strong>='num'</dt>
<dd>
<p>Specifies the number of threads to create. Defaults to <code>10</code>.</p>
</dd>
<dt class="hdlist1"><strong>--cache</strong>='cache'</dt>
<dd>
<p>Names the cache against which the benchmark is performed. Defaults to <code>benchmark</code>. You must create the cache before running the benchmark if it does not already exist.</p>
</dd>
<dt class="hdlist1"><strong>*--key-size</strong>='num'</dt>
<dd>
<p>Sets the size, in bytes, of the key. Defaults to 16 bytes.</p>
</dd>
<dt class="hdlist1"><strong>*--value-size</strong>='num'</dt>
<dd>
<p>Sets the size, in bytes, of the value. Defaults to 1000 bytes.</p>
</dd>
<dt class="hdlist1"><strong>*--keyset-size</strong>='num'</dt>
<dd>
<p>Defines the size, in bytes, of the test key set. Defaults to <code>1000</code>.</p>
</dd>
<dt class="hdlist1"><strong>--verbosity</strong>=['SILENT', 'NORMAL', 'EXTRA']</dt>
<dd>
<p>Specifies the verbosity level of the output. Possible values, from least to most verbose, are <code>SILENT</code>, <code>NORMAL</code>, and <code>EXTRA</code>. The default is <code>NORMAL</code>.</p>
</dd>
<dt class="hdlist1"><strong>-c, --count</strong>='num'</dt>
<dd>
<p>Specifies how many measurement iterations to perform. Defaults to <code>5</code>.</p>
</dd>
<dt class="hdlist1"><strong>--time</strong>='time'</dt>
<dd>
<p>Sets the amount of time, in seconds, that each iteration takes. Defaults to <code>10</code>.</p>
</dd>
<dt class="hdlist1"><strong>--warmup-count</strong>='num'</dt>
<dd>
<p>Specifies how many warmup iterations to perform. Defaults to <code>5</code>.</p>
</dd>
<dt class="hdlist1"><strong>--warmup-time</strong>='time'</dt>
<dd>
<p>Sets the amount of time, in seconds, that each warmup iteration takes. Defaults to <code>1</code>.</p>
</dd>
<dt class="hdlist1"><strong>--mode</strong>='mode'</dt>
<dd>
<p>Specifies the benchmark mode. Possible values are <code>Throughput</code>, <code>AverageTime</code>, <code>SampleTime</code>, <code>SingleShotTime</code>, and <code>All</code>. The default is <code>Throughput</code>.</p>
</dd>
<dt class="hdlist1"><strong>--time-unit</strong>='unit'</dt>
<dd>
<p>Specifies the time unit for results in the benchmark report. Possible values are <code>NANOSECONDS</code>, <code>MICROSECONDS</code>, <code>MILLISECONDS</code>, and <code>SECONDS</code>. The default is <code>MICROSECONDS</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples_6"><a class="anchor" href="#examples_6"></a>8.6.4. EXAMPLES</h4>
<div class="paragraph">
<p><code>benchmark hotrod://localhost:11222</code><br>
Performs a benchmark test with the Hot Rod protocol.</p>
</div>
<div class="paragraph">
<p><code>benchmark --value-size=10000 --cache=largecache hotrod://localhost:11222</code><br>
Performs a benchmark test with the Hot Rod protocol against the <code>largecache</code> cache using test values that are 10000 bytes in size.</p>
</div>
<div class="paragraph">
<p><code>benchmark --mode=All --threads=20 <a href="https://user:password@server:11222" class="bare">https://user:password@server:11222</a></code><br>
Performs a benchmark test with the HTTPS protocol using 20 threads and includes all modes in the report.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cache1"><a class="anchor" href="#cache1"></a>8.7. CACHE(1)</h3>
<div class="sect3">
<h4 id="name_7"><a class="anchor" href="#name_7"></a>8.7.1. NAME</h4>
<div class="paragraph">
<p>cache - selects the default cache for subsequent commands.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_7"><a class="anchor" href="#synopsis_7"></a>8.7.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>cache</strong> ['CACHE_NAME']</p>
</div>
</div>
<div class="sect3">
<h4 id="example"><a class="anchor" href="#example"></a>8.7.3. EXAMPLE</h4>
<div class="paragraph">
<p><code>cache mycache</code><br>
Selects <code>mycache</code> and is the same as navigating the resource tree using <code>cd caches/mycache</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_5"><a class="anchor" href="#see_also_5"></a>8.7.4. SEE ALSO</h4>
<div class="paragraph">
<p>cd(1), clear(1), container(1), get(1), put(1), remove(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cas1"><a class="anchor" href="#cas1"></a>8.8. CAS(1)</h3>
<div class="sect3">
<h4 id="name_8"><a class="anchor" href="#name_8"></a>8.8.1. NAME</h4>
<div class="paragraph">
<p>cas - performs 'compare-and-swap' operations on strong counters.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_8"><a class="anchor" href="#synopsis_8"></a>8.8.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>cas</strong> ['OPTIONS'] ['COUNTER_NAME']</p>
</div>
</div>
<div class="sect3">
<h4 id="options_3"><a class="anchor" href="#options_3"></a>8.8.3. OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--expect</strong>='nnn'</dt>
<dd>
<p>Specifies the expected value of the counter.</p>
</dd>
<dt class="hdlist1"><strong>--value</strong>='nnn'</dt>
<dd>
<p>Sets a new value for the counter.</p>
</dd>
<dt class="hdlist1"><strong>-q, --quiet</strong>='[true|false]'</dt>
<dd>
<p>Hides return values. The default is false.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="example_2"><a class="anchor" href="#example_2"></a>8.8.4. EXAMPLE</h4>
<div class="paragraph">
<p><code>cas --expect=10 --value=20 cnt_a</code><br>
Sets the value of <code>cnt_a</code> to <code>20</code> only if the current value is <code>10</code></p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_6"><a class="anchor" href="#see_also_6"></a>8.8.5. SEE ALSO</h4>
<div class="paragraph">
<p>add(1), cas(1), reset(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cd1"><a class="anchor" href="#cd1"></a>8.9. CD(1)</h3>
<div class="sect3">
<h4 id="name_9"><a class="anchor" href="#name_9"></a>8.9.1. NAME</h4>
<div class="paragraph">
<p>cd - navigates the server resource tree.</p>
</div>
</div>
<div class="sect3">
<h4 id="description"><a class="anchor" href="#description"></a>8.9.2. DESCRIPTION</h4>
<div class="paragraph">
<p><code>PATH</code> can be absolute or relative to the current resource.
<code>../</code> specifies parent resources.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_9"><a class="anchor" href="#synopsis_9"></a>8.9.3. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>cd</strong> ['PATH']</p>
</div>
</div>
<div class="sect3">
<h4 id="example_3"><a class="anchor" href="#example_3"></a>8.9.4. EXAMPLE</h4>
<div class="paragraph">
<p><code>cd caches</code><br>
Changes to the <code>caches</code> path in the resource tree.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_7"><a class="anchor" href="#see_also_7"></a>8.9.5. SEE ALSO</h4>
<div class="paragraph">
<p>cache(1), ls(1), container(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="clearcache1"><a class="anchor" href="#clearcache1"></a>8.10. CLEARCACHE(1)</h3>
<div class="sect3">
<h4 id="name_10"><a class="anchor" href="#name_10"></a>8.10.1. NAME</h4>
<div class="paragraph">
<p>clearcache - removes all entries from a cache.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_10"><a class="anchor" href="#synopsis_10"></a>8.10.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>clearcache</strong> ['CACHE_NAME']</p>
</div>
</div>
<div class="sect3">
<h4 id="examples_7"><a class="anchor" href="#examples_7"></a>8.10.3. EXAMPLES</h4>
<div class="paragraph">
<p><code>clearcache mycache</code><br>
Removes all entries from <code>mycache</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_8"><a class="anchor" href="#see_also_8"></a>8.10.4. SEE ALSO</h4>
<div class="paragraph">
<p>cache(1), drop(1), remove(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="config1"><a class="anchor" href="#config1"></a>8.11. CONFIG(1)</h3>
<div class="sect3">
<h4 id="name_11"><a class="anchor" href="#name_11"></a>8.11.1. NAME</h4>
<div class="paragraph">
<p>config - manages CLI configuration properties.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_11"><a class="anchor" href="#synopsis_11"></a>8.11.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>config</strong></p>
</div>
<div class="paragraph">
<p><strong>config set</strong> 'name' 'value'</p>
</div>
<div class="paragraph">
<p><strong>config get</strong> 'name'</p>
</div>
<div class="paragraph">
<p><strong>config convert</strong> --outputFormat=[xml|json|yaml] [-o outputFile] [inputFile]</p>
</div>
</div>
<div class="sect3">
<h4 id="description_2"><a class="anchor" href="#description_2"></a>8.11.3. DESCRIPTION</h4>
<div class="paragraph">
<p>Manage (list, set, get) CLI configuration properties and provide configuration conversion between the different formats (XML, JSON, YAML)</p>
</div>
</div>
<div class="sect3">
<h4 id="command_synopsis"><a class="anchor" href="#command_synopsis"></a>8.11.4. COMMAND SYNOPSIS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>config</strong></dt>
<dd>
<p>Lists all configuration properties that are set.</p>
</dd>
<dt class="hdlist1"><strong>config set</strong> 'name' ['value']</dt>
<dd>
<p>Sets the value of a specific property. If you do not specify a value, the property is not set.</p>
</dd>
<dt class="hdlist1"><strong>config get</strong> 'name'</dt>
<dd>
<p>Retrieves the value of a specific property.</p>
</dd>
<dt class="hdlist1"><strong>config convert</strong> --format=[xml|json|yaml] [-o outputFile] [inputFile]</dt>
<dd>
<p>Converts a configuration file to a different format.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="common_options"><a class="anchor" href="#common_options"></a>8.11.5. COMMON OPTIONS</h4>
<div class="paragraph">
<p>These options apply to all commands:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-h, --help</strong></dt>
<dd>
<p>Displays a help page for the command or sub-command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="convert_options"><a class="anchor" href="#convert_options"></a>8.11.6. CONVERT OPTIONS</h4>
<div class="paragraph">
<p>The following options apply to the <code>convert</code> command:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-f, --format</strong>='xml|json|yaml'</dt>
<dd>
<p>Specifies the format for the conversion.</p>
</dd>
<dt class="hdlist1"><strong>-o, --output</strong>='path'</dt>
<dd>
<p>Specifies the path to the output file. Uses standard output (<code>stdout</code>) if you do not specify a path.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="properties"><a class="anchor" href="#properties"></a>8.11.7. PROPERTIES</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>autoconnect-url</strong></dt>
<dd>
<p>Specifies the URL to which the CLI automatically connects on startup.</p>
</dd>
<dt class="hdlist1"><strong>autoexec</strong></dt>
<dd>
<p>Specifies the path of a CLI batch file to execute on startup.</p>
</dd>
<dt class="hdlist1"><strong>trustall</strong></dt>
<dd>
<p>Specifies whether to trust all server certificates. Values are <code>false</code> (default) and <code>true</code>.</p>
</dd>
<dt class="hdlist1"><strong>truststore</strong></dt>
<dd>
<p>Defines the path to a keystore that contains a certificate chain that verifies server identity.</p>
</dd>
<dt class="hdlist1"><strong>truststore-password</strong></dt>
<dd>
<p>Specifies a password to access the keystore.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples_8"><a class="anchor" href="#examples_8"></a>8.11.8. EXAMPLES</h4>
<div class="paragraph">
<p><code>config set autoconnect-url <a href="http://192.0.2.0:11222" class="bare">http://192.0.2.0:11222</a></code><br>
Connects to a server at a custom IP address when you start the CLI.</p>
</div>
<div class="paragraph">
<p><code>config get autoconnect-url</code><br>
Returns the value for the <code>autoconnect-url</code> configuration property.</p>
</div>
<div class="paragraph">
<p><code>config set autoexec /path/to/mybatchfile</code><br>
Runs a batch file named "mybatchfile" when you start the CLI.</p>
</div>
<div class="paragraph">
<p><code>config set trustall true</code><br>
Trusts all server certificates.</p>
</div>
<div class="paragraph">
<p><code>config set truststore /home/user/my-trust-store.jks</code><br>
Specifies the path of a keystore named "my-trust-store.jks".</p>
</div>
<div class="paragraph">
<p><code>config set truststore-password secret</code><br>
Sets the keystore password, if required.</p>
</div>
<div class="paragraph">
<p><code>config convert -f yaml -o infinispan.yaml infinispan.xml</code><br>
Converts the <code>infinispan.xml</code> file to YAML and writes the output to the <code>infinispan.yaml</code> file.</p>
</div>
<div class="paragraph">
<p><code>config convert -f json</code><br>
Converts the configuration from standard input to JSON, and writes the output to standard output.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_9"><a class="anchor" href="#see_also_9"></a>8.11.9. SEE ALSO</h4>
<div class="paragraph">
<p>alias(1), unalias(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="connect1"><a class="anchor" href="#connect1"></a>8.12. CONNECT(1)</h3>
<div class="sect3">
<h4 id="name_12"><a class="anchor" href="#name_12"></a>8.12.1. NAME</h4>
<div class="paragraph">
<p>connect - connects to running ${infinispan.brand.name} servers.</p>
</div>
</div>
<div class="sect3">
<h4 id="description_3"><a class="anchor" href="#description_3"></a>8.12.2. DESCRIPTION</h4>
<div class="paragraph">
<p>Defaults to <code><a href="http://localhost:11222" class="bare">http://localhost:11222</a></code> and prompts for credentials if
authentication is required.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_12"><a class="anchor" href="#synopsis_12"></a>8.12.3. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>connect</strong> ['OPTIONS'] ['SERVER_LOCATION']</p>
</div>
</div>
<div class="sect3">
<h4 id="options_4"><a class="anchor" href="#options_4"></a>8.12.4. OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-u, --username</strong>='USERNAME'</dt>
<dd>
<p>Specifies a username to authenticate with ${infinispan.brand.name} servers.</p>
</dd>
<dt class="hdlist1"><strong>-p, --password</strong>='PASSWORD'</dt>
<dd>
<p>Specifies passwords.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="example_4"><a class="anchor" href="#example_4"></a>8.12.5. EXAMPLE</h4>
<div class="paragraph">
<p><code>connect 127.0.0.1:11322 -u test -p changeme</code><br>
Connects to a locally running server using a port offset of <code>100</code> and example
credentials.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_10"><a class="anchor" href="#see_also_10"></a>8.12.6. SEE ALSO</h4>
<div class="paragraph">
<p>disconnect(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="container1"><a class="anchor" href="#container1"></a>8.13. CONTAINER(1)</h3>
<div class="sect3">
<h4 id="name_13"><a class="anchor" href="#name_13"></a>8.13.1. NAME</h4>
<div class="paragraph">
<p>container - selects the container for running subsequent commands.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_13"><a class="anchor" href="#synopsis_13"></a>8.13.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>container</strong> ['CONTAINER_NAME']</p>
</div>
</div>
<div class="sect3">
<h4 id="example_5"><a class="anchor" href="#example_5"></a>8.13.3. EXAMPLE</h4>
<div class="paragraph">
<p><code>container default</code><br>
Selects the default container and is the same as navigating the resource tree
using <code>cd containers/default</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_11"><a class="anchor" href="#see_also_11"></a>8.13.4. SEE ALSO</h4>
<div class="paragraph">
<p>cd(1), clear(1), container(1), get(1), put(1), remove(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="counter1"><a class="anchor" href="#counter1"></a>8.14. COUNTER(1)</h3>
<div class="sect3">
<h4 id="name_14"><a class="anchor" href="#name_14"></a>8.14.1. NAME</h4>
<div class="paragraph">
<p>counter - selects the default counter for subsequent commands.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_14"><a class="anchor" href="#synopsis_14"></a>8.14.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>counter</strong> ['COUNTER_NAME']</p>
</div>
</div>
<div class="sect3">
<h4 id="example_6"><a class="anchor" href="#example_6"></a>8.14.3. EXAMPLE</h4>
<div class="paragraph">
<p><code>counter cnt_a</code><br>
Selects <code>cnt_a</code> and is the same as navigating the resource tree using <code>cd counters/cnt_a</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_12"><a class="anchor" href="#see_also_12"></a>8.14.4. SEE ALSO</h4>
<div class="paragraph">
<p>add(1), cas(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create1"><a class="anchor" href="#create1"></a>8.15. CREATE(1)</h3>
<div class="sect3">
<h4 id="name_15"><a class="anchor" href="#name_15"></a>8.15.1. NAME</h4>
<div class="paragraph">
<p>create - creates caches and counters on ${infinispan.brand.name} servers.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_15"><a class="anchor" href="#synopsis_15"></a>8.15.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>create cache</strong> ['OPTIONS'] <code>CACHE_NAME</code></p>
</div>
<div class="paragraph">
<p><strong>create counter</strong> ['OPTIONS'] <code>COUNTER_NAME</code></p>
</div>
</div>
<div class="sect3">
<h4 id="create_cache_options"><a class="anchor" href="#create_cache_options"></a>8.15.3. CREATE CACHE OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-f, --file</strong>='FILE'</dt>
<dd>
<p>Specifies a configuration file in XML, JSON or YAML format.</p>
</dd>
<dt class="hdlist1"><strong>-t, --template</strong>='TEMPLATE'</dt>
<dd>
<p>Specifies a configuration template. Use tab autocompletion to see available templates.</p>
</dd>
<dt class="hdlist1"><strong>-v, --volatile</strong>='[true|false]'</dt>
<dd>
<p>Specifies whether the cache is persistent or volatile. The default is false.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="create_counter_options"><a class="anchor" href="#create_counter_options"></a>8.15.4. CREATE COUNTER OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-t, --type</strong>='[weak|strong]'</dt>
<dd>
<p>Specifies if the counter is weak or strong.</p>
</dd>
<dt class="hdlist1"><strong>-s, --storage</strong>='[PERSISTENT|VOLATILE]'</dt>
<dd>
<p>Specifies whether the counter is persistent or volatile.</p>
</dd>
<dt class="hdlist1"><strong>-c, --concurrency-level</strong>='nnn'</dt>
<dd>
<p>Sets the concurrency level of the counter.</p>
</dd>
<dt class="hdlist1"><strong>-i, --initial-value</strong>='nnn'</dt>
<dd>
<p>Sets the initial value of the counter.</p>
</dd>
<dt class="hdlist1"><strong>-l, --lower-bound</strong>='nnn'</dt>
<dd>
<p>Sets the lower bound of a <strong>strong</strong> counter.</p>
</dd>
<dt class="hdlist1"><strong>-u, --upper-bound</strong>='nnn'</dt>
<dd>
<p>Sets the upper bound of a <strong>strong</strong> counter.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples_9"><a class="anchor" href="#examples_9"></a>8.15.5. EXAMPLES</h4>
<div class="paragraph">
<p><code>create cache --template=org.infinispan.DIST_SYNC mycache</code><br>
Creates a cache named <code>mycache</code> from the <code>DIST_SYNC</code> template.</p>
</div>
<div class="paragraph">
<p><code>create counter --initial-value=3 --storage=PERSISTENT --type=strong cnt_a</code><br>
Creates a strong counter named <code>cnt_a</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_13"><a class="anchor" href="#see_also_13"></a>8.15.6. SEE ALSO</h4>
<div class="paragraph">
<p>drop(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="credentials1"><a class="anchor" href="#credentials1"></a>8.16.  CREDENTIALS(1)</h3>
<div class="sect3">
<h4 id="name_16"><a class="anchor" href="#name_16"></a>8.16.1. NAME</h4>
<div class="paragraph">
<p>credentials - manages keystores that contain ${infinispan.brand.name} Server credentials</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_16"><a class="anchor" href="#synopsis_16"></a>8.16.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>credentials ls</strong></p>
</div>
<div class="paragraph">
<p><strong>credentials add</strong> 'alias'</p>
</div>
<div class="paragraph">
<p><strong>credentials remove</strong> 'alias'</p>
</div>
</div>
<div class="sect3">
<h4 id="description_4"><a class="anchor" href="#description_4"></a>8.16.3. DESCRIPTION</h4>
<div class="paragraph">
<p>List, create, and remove credentials inside a keystore.
By default, commands manage the <code>credentials.pfx</code> keystore in the server configuration directory.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_17"><a class="anchor" href="#synopsis_17"></a>8.16.4. SYNOPSIS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>credentials ls</strong></dt>
<dd>
<p>Lists credential aliases stored in the keystore.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Add a credential</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>credentials add</strong> 'alias'</dt>
<dd>
<p>Adds an alias and corresponding credential to the keystore.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Remove a credential</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>credentials remove</strong> 'alias'</dt>
<dd>
<p>Deletes an alias and corresponding credential from the keystore.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="options_5"><a class="anchor" href="#options_5"></a>8.16.5. OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-h, --help</strong></dt>
<dd>
<p>Prints command help.</p>
</dd>
<dt class="hdlist1"><strong>-s, --server-root</strong>='path-to-server-root'</dt>
<dd>
<p>Specifies the path to the server root directory. Defaults to <code>server</code>.</p>
</dd>
<dt class="hdlist1"><strong>--path</strong>='credentials.pfx'</dt>
<dd>
<p>Specifies the path to the credential keystore. Defaults to the server configuration directory, <code>server/conf</code>.</p>
</dd>
<dt class="hdlist1"><strong>-p, --password</strong>='password'</dt>
<dd>
<p>Specifies a password for the credential keystore.</p>
</dd>
<dt class="hdlist1"><strong>-t, --type</strong>='PKCS12'</dt>
<dd>
<p>Specifies the type of keystore that contains credentials. Supported types are <code>PKCS12</code> or <code>JCEKS</code>. Defaults to <code>PKCS12</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="credentials_add_options"><a class="anchor" href="#credentials_add_options"></a>8.16.6. CREDENTIALS ADD OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-c, --credential</strong>='credential'</dt>
<dd>
<p>Specifies the credential to store.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples_10"><a class="anchor" href="#examples_10"></a>8.16.7. EXAMPLES</h4>
<div class="paragraph">
<p><code>credentials add dbpassword -c changeme -p "secret1234!"</code><br>
Creates a new default credential keystore, if does not already exist, and adds an alias of "dbpassword" for a password of "changeme".
This command also sets "secret1234!" as the password for the credential keystore, which must match the password in the server configuration:
 <code>&lt;clear-text-credential clear-text="secret1234!"/&gt;</code></p>
</div>
<div class="paragraph">
<p><code>credentials ls -p "secret1234!"</code><br>
Lists all aliases in the default credential keystore.</p>
</div>
<div class="paragraph">
<p><code>credentials add ldappassword -t JCEKS -p "secret1234!"</code><br>
Creates a credential keystore in JCEKS format and adds an alias "ldappassword".
This command prompts you to specify the password that corresponds to the alias.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="describe1"><a class="anchor" href="#describe1"></a>8.17. DESCRIBE(1)</h3>
<div class="sect3">
<h4 id="name_17"><a class="anchor" href="#name_17"></a>8.17.1. NAME</h4>
<div class="paragraph">
<p>describe - displays information about resources.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_18"><a class="anchor" href="#synopsis_18"></a>8.17.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>describe</strong> ['PATH']</p>
</div>
</div>
<div class="sect3">
<h4 id="examples_11"><a class="anchor" href="#examples_11"></a>8.17.3. EXAMPLES</h4>
<div class="paragraph">
<p><code>describe //containers/default</code><br>
Displays information about the default container.</p>
</div>
<div class="paragraph">
<p><code>describe //containers/default/caches/mycache</code><br>
Displays information about the <code>mycache</code> cache.</p>
</div>
<div class="paragraph">
<p><code>describe //containers/default/caches/mycache/k1</code><br>
Displays information about the <code>k1</code> key.</p>
</div>
<div class="paragraph">
<p><code>describe //containers/default/counters/cnt1</code><br>
Displays information about the <code>cnt1</code> counter.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_14"><a class="anchor" href="#see_also_14"></a>8.17.4. SEE ALSO</h4>
<div class="paragraph">
<p>cd(1), ls(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="disconnect1"><a class="anchor" href="#disconnect1"></a>8.18. DISCONNECT(1)</h3>
<div class="sect3">
<h4 id="name_18"><a class="anchor" href="#name_18"></a>8.18.1. NAME</h4>
<div class="paragraph">
<p>disconnect - ends CLI sessions with ${infinispan.brand.name} servers.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_19"><a class="anchor" href="#synopsis_19"></a>8.18.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>disconnect</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="example_7"><a class="anchor" href="#example_7"></a>8.18.3. EXAMPLE</h4>
<div class="paragraph">
<p><code>disconnect</code><br>
Ends the current CLI session.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_15"><a class="anchor" href="#see_also_15"></a>8.18.4. SEE ALSO</h4>
<div class="paragraph">
<p>connect(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="drop1"><a class="anchor" href="#drop1"></a>8.19. DROP(1)</h3>
<div class="sect3">
<h4 id="name_19"><a class="anchor" href="#name_19"></a>8.19.1. NAME</h4>
<div class="paragraph">
<p>drop - deletes caches and counters.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_20"><a class="anchor" href="#synopsis_20"></a>8.19.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>drop cache</strong> <code>CACHE_NAME</code></p>
</div>
<div class="paragraph">
<p><strong>drop counter</strong> <code>COUNTER_NAME</code></p>
</div>
</div>
<div class="sect3">
<h4 id="examples_12"><a class="anchor" href="#examples_12"></a>8.19.3. EXAMPLES</h4>
<div class="paragraph">
<p><code>drop cache mycache</code><br>
Deletes the <code>mycache</code> cache.</p>
</div>
<div class="paragraph">
<p><code>drop counter cnt_a</code><br>
Deletes the <code>cnt_a</code> counter.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_16"><a class="anchor" href="#see_also_16"></a>8.19.4. SEE ALSO</h4>
<div class="paragraph">
<p>create(1), clearcache(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="encoding1"><a class="anchor" href="#encoding1"></a>8.20. ENCODING(1)</h3>
<div class="sect3">
<h4 id="name_20"><a class="anchor" href="#name_20"></a>8.20.1. NAME</h4>
<div class="paragraph">
<p>encoding - displays and sets the encoding for cache entries.</p>
</div>
</div>
<div class="sect3">
<h4 id="description_5"><a class="anchor" href="#description_5"></a>8.20.2. DESCRIPTION</h4>
<div class="paragraph">
<p>Sets a default encoding for <strong>put</strong> and <strong>get</strong> operations on a cache. If no
argument is specified, the <strong>encoding</strong> command displays the current encoding.</p>
</div>
<div class="paragraph">
<p>Valid encodings use standard MIME type (IANA media types) naming conventions,
such as the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>text/plain</code></p>
</li>
<li>
<p><code>application/json</code></p>
</li>
<li>
<p><code>application/xml</code></p>
</li>
<li>
<p><code>application/octet-stream</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_21"><a class="anchor" href="#synopsis_21"></a>8.20.3. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>encoding</strong> ['ENCODING']</p>
</div>
</div>
<div class="sect3">
<h4 id="example_8"><a class="anchor" href="#example_8"></a>8.20.4. EXAMPLE</h4>
<div class="paragraph">
<p><code>encoding application/json</code><br>
Configures the currently selected cache to encode entries as <code>application/json</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_17"><a class="anchor" href="#see_also_17"></a>8.20.5. SEE ALSO</h4>
<div class="paragraph">
<p>get(1), put(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="get1"><a class="anchor" href="#get1"></a>8.21. GET(1)</h3>
<div class="sect3">
<h4 id="name_21"><a class="anchor" href="#name_21"></a>8.21.1. NAME</h4>
<div class="paragraph">
<p>get - retrieves entries from a cache.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_22"><a class="anchor" href="#synopsis_22"></a>8.21.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>get</strong> ['OPTIONS'] <code>KEY</code></p>
</div>
</div>
<div class="sect3">
<h4 id="options_6"><a class="anchor" href="#options_6"></a>8.21.3. OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-c, --cache</strong>='NAME'</dt>
<dd>
<p>Specifies the cache from which to retrieve entries. Defaults to the currently
selected cache.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="example_9"><a class="anchor" href="#example_9"></a>8.21.4. EXAMPLE</h4>
<div class="paragraph">
<p><code>get hello -c mycache</code><br>
Retrieves the value of the key named <code>hello</code> from <code>mycache</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_18"><a class="anchor" href="#see_also_18"></a>8.21.5. SEE ALSO</h4>
<div class="paragraph">
<p>query(1), put(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="help1"><a class="anchor" href="#help1"></a>8.22. HELP(1)</h3>
<div class="sect3">
<h4 id="name_22"><a class="anchor" href="#name_22"></a>8.22.1. NAME</h4>
<div class="paragraph">
<p>help - prints manual pages for commands.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_23"><a class="anchor" href="#synopsis_23"></a>8.22.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>help</strong> ['COMMAND']</p>
</div>
</div>
<div class="sect3">
<h4 id="example_10"><a class="anchor" href="#example_10"></a>8.22.3. EXAMPLE</h4>
<div class="paragraph">
<p><code>help get</code><br>
Prints the manual page for the <strong>get</strong> command.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_19"><a class="anchor" href="#see_also_19"></a>8.22.4. SEE ALSO</h4>
<div class="paragraph">
<p>version(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="install1"><a class="anchor" href="#install1"></a>8.23. INSTALL(1)</h3>
<div class="sect3">
<h4 id="name_23"><a class="anchor" href="#name_23"></a>8.23.1. NAME</h4>
<div class="paragraph">
<p>install - download and install artifacts for ${infinispan.brand.name} Server.</p>
</div>
</div>
<div class="sect3">
<h4 id="description_6"><a class="anchor" href="#description_6"></a>8.23.2. DESCRIPTION</h4>
<div class="paragraph">
<p>Download and install artifacts to the <code>server/lib</code> directory.
You can specify the download location for artifacts as Maven artifact coordinates, a URL, or a local file path.</p>
</div>
<div class="paragraph">
<p>When downloading Maven artifacts, an optional Maven <code>settings.xml</code> file determines the location of the remote and local repositories as well as credentials and proxy configuration.</p>
</div>
<div class="paragraph">
<p>If you download artifacts as <code>zip</code>, <code>tar.gz</code>, or <code>tgz</code> archives, the content is extracted.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_24"><a class="anchor" href="#synopsis_24"></a>8.23.3. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>install</strong> 'artifact-1[[|algorithm]|checksum]' ['artifact-2[[|algorithm]|checksum]'&#8230;&#8203;]</p>
</div>
</div>
<div class="sect3">
<h4 id="artifact_names"><a class="anchor" href="#artifact_names"></a>8.23.4. ARTIFACT NAMES</h4>
<div class="paragraph">
<p>Artifact names can be any of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven coordinates using the <code>groupId:artifactId:version</code> format, for example <code>org.postgresql:postgresql:42.3.1</code>.</p>
</li>
<li>
<p>HTTP, HTTPS, or FTP URLs</p>
</li>
<li>
<p>Local paths</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="checksum_validation"><a class="anchor" href="#checksum_validation"></a>8.23.5. CHECKSUM VALIDATION</h4>
<div class="paragraph">
<p>You can validate the checksum of an artifact after download.
The algorithm defaults to <code>SHA-256</code> but it can also be <code>MD-5</code>, <code>SHA-1</code>, <code>SHA-256</code>, <code>SHA-384</code>, or `SHA-512'.</p>
</div>
</div>
<div class="sect3">
<h4 id="patch_list_options"><a class="anchor" href="#patch_list_options"></a>8.23.6. PATCH LIST OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--server-home</strong>='path/to/server'</dt>
<dd>
<p>Sets the path of the server installation.</p>
</dd>
<dt class="hdlist1"><strong>--server-root</strong>='server'</dt>
<dd>
<p>Sets the server root directory relative to the server home.</p>
</dd>
<dt class="hdlist1">*--maven-settings='$HOME/.m2/maven-settings.xml'</dt>
<dd>
<p>Sets the path of a Maven <code>settings.xml</code> file and uses the default location, if not specified.</p>
</dd>
<dt class="hdlist1"><strong>-o, --overwrite</strong></dt>
<dd>
<p>Forces overwriting of artifacts in the <code>server/lib</code> directory. By default artifacts are not overwritten, which causes the installation to fail if an artifact already exists.</p>
</dd>
<dt class="hdlist1"><strong>-v, --verbose</strong></dt>
<dd>
<p>Shows verbose information about artifact downloads.</p>
</dd>
<dt class="hdlist1"><strong>-f, --force</strong></dt>
<dd>
<p>Forces download of remote artifacts, even if they are already present locally.</p>
</dd>
<dt class="hdlist1"><strong>-r, --retries=num</strong></dt>
<dd>
<p>The number of retries in case the downloaded artifacts do not match the supplied checksums.</p>
</dd>
<dt class="hdlist1"><strong>--clean</strong></dt>
<dd>
<p>Deletes all the contents of the <code>server/lib</code> directory before downloading artifacts.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples_13"><a class="anchor" href="#examples_13"></a>8.23.7. EXAMPLES</h4>
<div class="paragraph">
<p><code>install -o org.postgresql:postgresql:42.3.1</code><br>
Installs the PostgreSQL JDBC driver JAR and overwrites if it already exists.</p>
</div>
<div class="paragraph">
<p><code>install <a href="https://example.org/artifact.zip" class="bare">https://example.org/artifact.zip</a></code><br>
Downloads the <code>artifact.zip</code> and extracts the contents.</p>
</div>
<div class="paragraph">
<p><code>install <a href="https://example.org/artifact.zip|52d73f9b3611610ebbb4dca7c2ac1171218eb09891c1faba10f5f54c1d2acc13" class="bare">https://example.org/artifact.zip|52d73f9b3611610ebbb4dca7c2ac1171218eb09891c1faba10f5f54c1d2acc13</a></code><br>
Downloads the <code>artifact.zip</code>, verifies its SHA-256 checksum, and extracts the contents.</p>
</div>
<div class="paragraph">
<p><code>install <a href="https://example.org/artifact.zip|MD5|2b48d1871ee26f969d8481db94e103c2" class="bare">https://example.org/artifact.zip|MD5|2b48d1871ee26f969d8481db94e103c2</a></code><br>
Downloads the <code>artifact.zip</code>, verifies its MD-5 checksum, and extracts the contents.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging1"><a class="anchor" href="#logging1"></a>8.24. LOGGING(1)</h3>
<div class="sect3">
<h4 id="name_24"><a class="anchor" href="#name_24"></a>8.24.1. NAME</h4>
<div class="paragraph">
<p>logging - inspects and manipulates the ${infinispan.brand.name} server runtime logging configuration.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_25"><a class="anchor" href="#synopsis_25"></a>8.24.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>logging list-loggers</strong></p>
</div>
<div class="paragraph">
<p><strong>logging list-appenders</strong></p>
</div>
<div class="paragraph">
<p><strong>logging set</strong>  ['OPTIONS'] [<code>LOGGER_NAME</code>]</p>
</div>
<div class="paragraph">
<p><strong>logging remove</strong> <code>LOGGER_NAME</code></p>
</div>
</div>
<div class="sect3">
<h4 id="logging_set_options"><a class="anchor" href="#logging_set_options"></a>8.24.3. LOGGING SET OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-l, --level</strong>='OFF|TRACE|DEBUG|INFO|WARN|ERROR|ALL'</dt>
<dd>
<p>Specifies the logging level for the specific logger.</p>
</dd>
<dt class="hdlist1"><strong>-a, --appender</strong>='APPENDER'</dt>
<dd>
<p>Specifies an appenders to set on the specific logger. The option can be repeated for multiple appenders.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
calling <strong>logging set</strong> without a logger name will modify the root logger.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="examples_14"><a class="anchor" href="#examples_14"></a>8.24.4. EXAMPLES</h4>
<div class="paragraph">
<p><code>logging list-loggers</code><br>
Lists all available loggers</p>
</div>
<div class="paragraph">
<p><code>logging set --level=DEBUG --appenders=FILE org.infinispan</code><br>
Sets the log level for the <code>org.infinispan</code> logger to <code>DEBUG</code> and configures it to use the <code>FILE</code> appender.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ls1"><a class="anchor" href="#ls1"></a>8.25. LS(1)</h3>
<div class="sect3">
<h4 id="name_25"><a class="anchor" href="#name_25"></a>8.25.1. NAME</h4>
<div class="paragraph">
<p>ls - lists resources for the current path or a given path.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_26"><a class="anchor" href="#synopsis_26"></a>8.25.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>ls</strong> ['PATH']</p>
</div>
</div>
<div class="sect3">
<h4 id="examples_15"><a class="anchor" href="#examples_15"></a>8.25.3. EXAMPLES</h4>
<div class="paragraph">
<p><code>ls caches</code><br>
Lists the available caches.</p>
</div>
<div class="paragraph">
<p><code>ls ../</code><br>
Lists parent resources.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_20"><a class="anchor" href="#see_also_20"></a>8.25.4. SEE ALSO</h4>
<div class="paragraph">
<p>cd(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="migrate1"><a class="anchor" href="#migrate1"></a>8.26. MIGRATE(1)</h3>
<div class="sect3">
<h4 id="name_26"><a class="anchor" href="#name_26"></a>8.26.1. NAME</h4>
<div class="paragraph">
<p>migrate - migrates data from one version of ${infinispan.brand.name} to another.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_27"><a class="anchor" href="#synopsis_27"></a>8.26.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>migrate cluster connect</strong></p>
</div>
<div class="paragraph">
<p><strong>migrate cluster synchronize</strong></p>
</div>
<div class="paragraph">
<p><strong>migrate cluster disconnect</strong></p>
</div>
<div class="paragraph">
<p><strong>migrate cluster source-connection</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="description_7"><a class="anchor" href="#description_7"></a>8.26.3. DESCRIPTION</h4>
<div class="paragraph">
<p>Use the <code>migrate</code> command to migrate data from one version of ${infinispan.brand.name} to another.</p>
</div>
</div>
<div class="sect3">
<h4 id="command_synopsis_2"><a class="anchor" href="#command_synopsis_2"></a>8.26.4. COMMAND SYNOPSIS</h4>
<div class="paragraph">
<p>Migrate clusters</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>migrate cluster connect</strong></dt>
<dd>
<p>Connects the target cluster to the source cluster.</p>
</dd>
<dt class="hdlist1"><strong>migrate cluster synchronize</strong></dt>
<dd>
<p>Synchronize data between the source cluster and the target cluster.</p>
</dd>
<dt class="hdlist1"><strong>migrate cluster disconnect</strong></dt>
<dd>
<p>Disconnects the target cluster from the source cluster.</p>
</dd>
<dt class="hdlist1"><strong>migrate cluster source-connection</strong></dt>
<dd>
<p>Gets connection configuration of the target cluster. The command will print "Not Found" if the connections hasn&#8217;t been established.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="common_options_2"><a class="anchor" href="#common_options_2"></a>8.26.5. COMMON OPTIONS</h4>
<div class="paragraph">
<p>These options apply to all commands:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-h, --help</strong></dt>
<dd>
<p>Displays a help page for the command or sub-command.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>CLUSTER CONNECT OPTIONS</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*-c, --cache*='name'::
The name of the cache to connect to the source.

*-f, --file*='FILE'::
Specifies a configuration file in JSON format, containing a single 'remote-store' element.

CLUSTER SYNCHRONIZE OPTIONS
---------------------------

*-c, --cache*='name'::
The name of the cache to synchronize.

*-b, --read-batch*='num'::
The amount of entries to process in a batch. Defaults to 10000.

*-t, --threads*='num'::
The number of threads to use. Defaults to the number of cores on the server.


CLUSTER DISCONNECT OPTIONS</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-c, --cache</strong>='name'</dt>
<dd>
<p>The name of the cache to disconnect from the source.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="cluster_connection_options"><a class="anchor" href="#cluster_connection_options"></a>8.26.6. CLUSTER CONNECTION OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-c, --cache</strong>='name'</dt>
<dd>
<p>The name of the cache to obtain the connection configuration.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="patch1"><a class="anchor" href="#patch1"></a>8.27. PATCH(1)</h3>
<div class="sect3">
<h4 id="name_27"><a class="anchor" href="#name_27"></a>8.27.1. NAME</h4>
<div class="paragraph">
<p>patch - manages server patches.</p>
</div>
</div>
<div class="sect3">
<h4 id="description_8"><a class="anchor" href="#description_8"></a>8.27.2. DESCRIPTION</h4>
<div class="paragraph">
<p>List, describe, install, rollback, and create server patches.</p>
</div>
<div class="paragraph">
<p>Patches are zip archive files that contain artifacts to upgrade servers and
resolve issues or add new features. Patches can apply target versions to
multiple server installations with different versions.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_28"><a class="anchor" href="#synopsis_28"></a>8.27.3. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>patch ls</strong></p>
</div>
<div class="paragraph">
<p><strong>patch install</strong> 'patch-file'</p>
</div>
<div class="paragraph">
<p><strong>patch describe</strong> 'patch-file'</p>
</div>
<div class="paragraph">
<p><strong>patch rollback</strong></p>
</div>
<div class="paragraph">
<p><strong>patch create</strong> 'patch-file' 'target-server' 'source-server-1' ['source-server-2'&#8230;&#8203;]</p>
</div>
</div>
<div class="sect3">
<h4 id="patch_list_options_2"><a class="anchor" href="#patch_list_options_2"></a>8.27.4. PATCH LIST OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--server</strong>='path/to/server'</dt>
<dd>
<p>Sets the path to a target server outside the current server home directory.</p>
</dd>
<dt class="hdlist1"><strong>-v, --verbose</strong></dt>
<dd>
<p>Shows the content of each installed patch, including information about
individual files.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="patch_install_options"><a class="anchor" href="#patch_install_options"></a>8.27.5. PATCH INSTALL OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--dry-run</strong></dt>
<dd>
<p>Shows the operations that the patch peforms without applying any changes.</p>
</dd>
<dt class="hdlist1"><strong>--server</strong>='path/to/server'</dt>
<dd>
<p>Sets the path to a target server outside the current server home directory.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="patch_describe_options"><a class="anchor" href="#patch_describe_options"></a>8.27.6. PATCH DESCRIBE OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-v, --verbose</strong></dt>
<dd>
<p>Shows the content of the patch, including information about individual files</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="patch_rollback_options"><a class="anchor" href="#patch_rollback_options"></a>8.27.7. PATCH ROLLBACK OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--dry-run</strong></dt>
<dd>
<p>Shows the operations that the patch peforms without applying any changes.</p>
</dd>
<dt class="hdlist1"><strong>--server</strong>='path/to/server'</dt>
<dd>
<p>Sets the path to a target server outside the current server home directory.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="patch_create_options"><a class="anchor" href="#patch_create_options"></a>8.27.8. PATCH CREATE OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-q, --qualifier</strong>='name'</dt>
<dd>
<p>Specifies a descriptive qualifier string for the patch; for example, 'one-off for issue nnnn'.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples_16"><a class="anchor" href="#examples_16"></a>8.27.9. EXAMPLES</h4>
<div class="paragraph">
<p><code>patch ls</code><br>
Lists the patches currently installed on a server in order of installation.</p>
</div>
<div class="paragraph">
<p><code>patch install mypatch.zip</code><br>
Installs "mypatch.zip" on a server in the current directory.</p>
</div>
<div class="paragraph">
<p><code>patch install mypatch.zip --server=/path/to/server/home</code><br>
Installs "mypatch.zip" on a server in a different directory.</p>
</div>
<div class="paragraph">
<p><code>patch describe mypatch.zip</code><br>
Displays the target version and list of source versions for "mypatch.zip".</p>
</div>
<div class="paragraph">
<p><code>patch create mypatch.zip 'target-server' 'source-server-1' ['source-server-2'&#8230;&#8203;]</code><br>
Creates a patch file named "mypatch.zip" that uses the version of the target server and applies to the source server versions.</p>
</div>
<div class="paragraph">
<p><code>patch rollback</code><br>
Rolls back the last patch that was applied to a server and restores the
previous version.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="put1"><a class="anchor" href="#put1"></a>8.28. PUT(1)</h3>
<div class="sect3">
<h4 id="name_28"><a class="anchor" href="#name_28"></a>8.28.1. NAME</h4>
<div class="paragraph">
<p>put - adds or updates cache entries.</p>
</div>
</div>
<div class="sect3">
<h4 id="description_9"><a class="anchor" href="#description_9"></a>8.28.2. DESCRIPTION</h4>
<div class="paragraph">
<p>Creates entries for new keys. Replaces values for existing keys.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_29"><a class="anchor" href="#synopsis_29"></a>8.28.3. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>put</strong> ['OPTIONS'] <code>KEY</code> [<code>VALUE</code>]</p>
</div>
</div>
<div class="sect3">
<h4 id="options_7"><a class="anchor" href="#options_7"></a>8.28.4. OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-c, --cache</strong>='NAME'</dt>
<dd>
<p>Specifies the name of the cache. Defaults to the currently selected cache.</p>
</dd>
<dt class="hdlist1"><strong>-e, --encoding</strong>='ENCODING'</dt>
<dd>
<p>Sets the media type for the value.</p>
</dd>
<dt class="hdlist1"><strong>-f, --file</strong>='FILE'</dt>
<dd>
<p>Specifies a file that contains the value for the entry.</p>
</dd>
<dt class="hdlist1"><strong>-l, --ttl</strong>='TTL'</dt>
<dd>
<p>Sets the number of seconds before the entry is automatically deleted
(time-to-live). Defaults to the value for <code>lifespan</code> in the cache configuration
if <code>0</code> or not specified. If you set a negative value, the entry is never
deleted.</p>
</dd>
<dt class="hdlist1"><strong>-i, --max-idle</strong>='MAXIDLE'</dt>
<dd>
<p>Sets the number of seconds that the entry can be idle. If a read or write
operation does not occur for an entry after the maximum idle time elapses, the
entry is automatically deleted. Defaults to the value for <code>maxIdle</code> in the
cache configuration if <code>0</code> or not specified. If you set a negative value, the
entry is never deleted.</p>
</dd>
<dt class="hdlist1"><strong>-a, --if-absent</strong>=[true|false]</dt>
<dd>
<p>Puts an entry only if it does not exist.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples_17"><a class="anchor" href="#examples_17"></a>8.28.5. EXAMPLES</h4>
<div class="paragraph">
<p><code>put -c mycache hello world</code><br>
Adds the <code>hello</code> key with a value of <code>world</code> to the <code>mycache</code> cache.</p>
</div>
<div class="paragraph">
<p><code>put -c mycache -f myfile -i 500 hola</code><br>
Adds the <code>hola</code> key with the value from the contents of <code>myfile</code>. Also sets a
maximum idle of <code>500</code> seconds.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_21"><a class="anchor" href="#see_also_21"></a>8.28.6. SEE ALSO</h4>
<div class="paragraph">
<p>get(1), remove(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query1"><a class="anchor" href="#query1"></a>8.29. QUERY(1)</h3>
<div class="sect3">
<h4 id="name_29"><a class="anchor" href="#name_29"></a>8.29.1. NAME</h4>
<div class="paragraph">
<p>query - performs Ickle queries to match entries in remote caches.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_30"><a class="anchor" href="#synopsis_30"></a>8.29.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>query</strong> ['OPTIONS'] <code>QUERY_STRING</code></p>
</div>
</div>
<div class="sect3">
<h4 id="options_8"><a class="anchor" href="#options_8"></a>8.29.3. OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-c, --cache</strong>='NAME'</dt>
<dd>
<p>Specifies the cache to query. Defaults to the currently selected cache.</p>
</dd>
<dt class="hdlist1"><strong>--max-results</strong>='MAX_RESULTS'</dt>
<dd>
<p>Sets the maximum number of results to return. The default is <code>10</code>.</p>
</dd>
<dt class="hdlist1"><strong>-o, --offset</strong>='OFFSET'</dt>
<dd>
<p>Specifies the index of the first result to return. The default is <code>0</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples_18"><a class="anchor" href="#examples_18"></a>8.29.4. EXAMPLES</h4>
<div class="paragraph">
<p><code>query "from org.infinispan.example.Person p where p.gender = 'MALE'"</code><br>
Queries values in a remote cache to find entries from a Protobuf <code>Person</code>
entity where the gender datatype is <code>MALE</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_22"><a class="anchor" href="#see_also_22"></a>8.29.5. SEE ALSO</h4>
<div class="paragraph">
<p>schema(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="quit1"><a class="anchor" href="#quit1"></a>8.30. QUIT(1)</h3>
<div class="sect3">
<h4 id="name_30"><a class="anchor" href="#name_30"></a>8.30.1. NAME</h4>
<div class="paragraph">
<p>quit - exits the command line interface.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_31"><a class="anchor" href="#synopsis_31"></a>8.30.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>quit</strong></p>
</div>
<div class="paragraph">
<p><strong>exit</strong> and <strong>bye</strong> are command aliases.</p>
</div>
</div>
<div class="sect3">
<h4 id="example_11"><a class="anchor" href="#example_11"></a>8.30.3. EXAMPLE</h4>
<div class="paragraph">
<p><code>quit</code><br>
Ends the CLI session.</p>
</div>
<div class="paragraph">
<p><code>exit</code><br>
Ends the CLI session.</p>
</div>
<div class="paragraph">
<p><code>bye</code><br>
Ends the CLI session.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_23"><a class="anchor" href="#see_also_23"></a>8.30.4. SEE ALSO</h4>
<div class="paragraph">
<p>disconnect(1), shutdown(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rebalance1"><a class="anchor" href="#rebalance1"></a>8.31. REBALANCE(1)</h3>
<div class="sect3">
<h4 id="name_31"><a class="anchor" href="#name_31"></a>8.31.1. NAME</h4>
<div class="paragraph">
<p>rebalance - manages automatic rebalancing for caches</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_32"><a class="anchor" href="#synopsis_32"></a>8.31.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>rebalance enable</strong> ['PATH']</p>
</div>
<div class="paragraph">
<p><strong>rebalance disable</strong> ['PATH']</p>
</div>
</div>
<div class="sect3">
<h4 id="examples_19"><a class="anchor" href="#examples_19"></a>8.31.3. EXAMPLES</h4>
<div class="paragraph">
<p><code>rebalance enable</code><br>
Enables automatic rebalancing in the current context. Running this command in the root context enables rebalancing for all caches.</p>
</div>
<div class="paragraph">
<p><code>rebalance enable caches/mycache</code><br>
Enables automatic rebalancing for the cache named <code>mycache</code>.</p>
</div>
<div class="paragraph">
<p><code>rebalance disable</code><br>
Disables automatic rebalancing in the current context. Running this command in the root context disables rebalancing for all caches.</p>
</div>
<div class="paragraph">
<p><code>rebalance disable caches/mycache</code><br>
Disables automatic rebalancing for the cache named <code>mycache</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="remove1"><a class="anchor" href="#remove1"></a>8.32. REMOVE(1)</h3>
<div class="sect3">
<h4 id="name_32"><a class="anchor" href="#name_32"></a>8.32.1. NAME</h4>
<div class="paragraph">
<p>remove - deletes entries from a cache.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_33"><a class="anchor" href="#synopsis_33"></a>8.32.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>remove</strong> <code>KEY</code> ['OPTIONS']</p>
</div>
</div>
<div class="sect3">
<h4 id="options_9"><a class="anchor" href="#options_9"></a>8.32.3. OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--cache</strong>='NAME'</dt>
<dd>
<p>Specifies the cache from which to remove entries. Defaults to the currently
selected cache.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="example_12"><a class="anchor" href="#example_12"></a>8.32.4. EXAMPLE</h4>
<div class="paragraph">
<p><code>remove --cache=mycache hola</code><br>
Deletes the <code>hola</code> entry from the <code>mycache</code> cache.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_24"><a class="anchor" href="#see_also_24"></a>8.32.5. SEE ALSO</h4>
<div class="paragraph">
<p>cache(1), drop(1), clearcache(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reset1"><a class="anchor" href="#reset1"></a>8.33. RESET(1)</h3>
<div class="sect3">
<h4 id="name_33"><a class="anchor" href="#name_33"></a>8.33.1. NAME</h4>
<div class="paragraph">
<p>reset - restores the initial values of counters.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_34"><a class="anchor" href="#synopsis_34"></a>8.33.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>reset</strong> ['COUNTER_NAME']</p>
</div>
</div>
<div class="sect3">
<h4 id="example_13"><a class="anchor" href="#example_13"></a>8.33.3. EXAMPLE</h4>
<div class="paragraph">
<p><code>reset cnt_a</code><br>
Resets the <code>cnt_a</code> counter.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_25"><a class="anchor" href="#see_also_25"></a>8.33.4. SEE ALSO</h4>
<div class="paragraph">
<p>add(1), cas(1), drop(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="schema1"><a class="anchor" href="#schema1"></a>8.34. SCHEMA(1)</h3>
<div class="sect3">
<h4 id="name_34"><a class="anchor" href="#name_34"></a>8.34.1. NAME</h4>
<div class="paragraph">
<p>schema - uploads and registers protobuf schemas.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_35"><a class="anchor" href="#synopsis_35"></a>8.34.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>schema</strong> ['OPTIONS'] <code>SCHEMA_NAME</code></p>
</div>
</div>
<div class="sect3">
<h4 id="options_10"><a class="anchor" href="#options_10"></a>8.34.3. OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-u, --upload</strong>='FILE'</dt>
<dd>
<p>Uploads a file as a protobuf schema with the given name.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="example_14"><a class="anchor" href="#example_14"></a>8.34.4. EXAMPLE</h4>
<div class="paragraph">
<p><code>schema --upload=person.proto person.proto</code><br>
Registers a <code>person.proto</code> Protobuf schema.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_26"><a class="anchor" href="#see_also_26"></a>8.34.5. SEE ALSO</h4>
<div class="paragraph">
<p>query(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="server1"><a class="anchor" href="#server1"></a>8.35. SERVER(1)</h3>
<div class="sect3">
<h4 id="name_35"><a class="anchor" href="#name_35"></a>8.35.1. NAME</h4>
<div class="paragraph">
<p>server - server configuration and state management.</p>
</div>
</div>
<div class="sect3">
<h4 id="description_10"><a class="anchor" href="#description_10"></a>8.35.2. DESCRIPTION</h4>
<div class="paragraph">
<p>The <strong>server</strong> command describes and manages server endpoint connectors and datasources and retrieves aggregated diagnostic reports about both the server and host.</p>
</div>
<div class="paragraph">
<p>Reports provide details about CPU, memory, open files, network sockets and routing, threads, in addition to configuration and log files.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_36"><a class="anchor" href="#synopsis_36"></a>8.35.3. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>server report</strong></p>
</div>
<div class="paragraph">
<p><strong>server connector ls</strong></p>
</div>
<div class="paragraph">
<p><strong>server connector describe</strong> 'connector-name'</p>
</div>
<div class="paragraph">
<p><strong>server connector start</strong> 'connector-name'</p>
</div>
<div class="paragraph">
<p><strong>server connector stop</strong> 'connector-name'</p>
</div>
<div class="paragraph">
<p><strong>server connector ipfilter ls</strong> 'connector-name'</p>
</div>
<div class="paragraph">
<p><strong>server connector ipfilter set</strong> 'connector-name' --rules='[ACCEPT|REJECT]/cidr',&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p><strong>server connector ipfilter clear</strong> 'connector-name'</p>
</div>
<div class="paragraph">
<p><strong>server datasource ls</strong></p>
</div>
<div class="paragraph">
<p><strong>server datasource test</strong> 'datasource-name'</p>
</div>
</div>
<div class="sect3">
<h4 id="server_connector_ipfilter_options"><a class="anchor" href="#server_connector_ipfilter_options"></a>8.35.4. SERVER CONNECTOR IPFILTER OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--rules</strong>='[ACCEPT|REJECT]/cidr',&#8230;&#8203;</dt>
<dd>
<p>One or more IP filtering rules.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples_20"><a class="anchor" href="#examples_20"></a>8.35.5. EXAMPLES</h4>
<div class="paragraph">
<p><code>server report</code><br>
Obtains a server report, including information about network, threads, memory, etc.</p>
</div>
<div class="paragraph">
<p><code>server connector ls</code><br>
Lists all available connectors on the server.</p>
</div>
<div class="paragraph">
<p><code>server connector describe endpoint-default</code><br>
Shows information about the specified connector, including host, port, local and global connections, IP filtering rules.</p>
</div>
<div class="paragraph">
<p><code>server connector stop my-hotrod-connector</code><br>
Stops a connector dropping all established connections across the cluster.
This command will be refused if attempting to stop the connector which is handling the request.</p>
</div>
<div class="paragraph">
<p><code>server connector start my-hotrod-connector</code><br>
Starts a connector so that it can accept connections across the cluster.</p>
</div>
<div class="paragraph">
<p><code>server connector ipfilter ls my-hotrod-connector</code><br>
Lists all IP filtering rules active on a connector across the cluster.</p>
</div>
<div class="paragraph">
<p><code>server connector ipfilter set my-hotrod-connector --rules=ACCEPT/192.168.0.0/16,REJECT/10.0.0.0/8</code>
Sets IP filtering rules on a connector across the cluster. Replaces all existing rules.
This command will be refused if one of the rejection rules matches the address of the connection on which it is invoked.</p>
</div>
<div class="paragraph">
<p><code>server connector ipfilter clear my-hotrod-connector</code><br>
Removes all IP filtering rules on a connector across the cluster.</p>
</div>
<div class="paragraph">
<p><code>server datasource ls</code><br>
Lists all available datasources on the server.</p>
</div>
<div class="paragraph">
<p><code>server datasource test my-datasource</code><br>
Performs a test connection on the datasource.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shutdown1"><a class="anchor" href="#shutdown1"></a>8.36. SHUTDOWN(1)</h3>
<div class="sect3">
<h4 id="name_36"><a class="anchor" href="#name_36"></a>8.36.1. NAME</h4>
<div class="paragraph">
<p>shutdown - stops running servers or brings clusters down gracefully.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_37"><a class="anchor" href="#synopsis_37"></a>8.36.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>shutdown server</strong> ['SERVERS']</p>
</div>
<div class="paragraph">
<p><strong>shutdown cluster</strong></p>
</div>
<div class="paragraph">
<p><strong>shutdown container</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="examples_21"><a class="anchor" href="#examples_21"></a>8.36.3. EXAMPLES</h4>
<div class="paragraph">
<p><code>shutdown server</code><br>
Stops the server to which the CLI is connected.</p>
</div>
<div class="paragraph">
<p><code>shutdown server my_server01</code><br>
Stops the server with hostname <code>my_server01</code>.</p>
</div>
<div class="paragraph">
<p><code>shutdown cluster</code><br>
Stores cluster state, persists entries if you use a cache store, and stops all nodes.</p>
</div>
<div class="paragraph">
<p><code>shutdown container</code><br>
Stores cluster state and persists entries if you use a cache store. The servers remain running with active endpoints
and clustering, however REST calls to container resources will result in a 503 Service Unavailable response.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_27"><a class="anchor" href="#see_also_27"></a>8.36.4. SEE ALSO</h4>
<div class="paragraph">
<p>connect(1), disconnect(1), quit(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="site1"><a class="anchor" href="#site1"></a>8.37. SITE(1)</h3>
<div class="sect3">
<h4 id="name_37"><a class="anchor" href="#name_37"></a>8.37.1. NAME</h4>
<div class="paragraph">
<p>site - manages backup locations and performs cross-site replication operations.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_38"><a class="anchor" href="#synopsis_38"></a>8.37.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>site status</strong> ['OPTIONS']</p>
</div>
<div class="paragraph">
<p><strong>site bring-online</strong> ['OPTIONS']</p>
</div>
<div class="paragraph">
<p><strong>site take-offline</strong> ['OPTIONS']</p>
</div>
<div class="paragraph">
<p><strong>site push-site-state</strong> ['OPTIONS']</p>
</div>
<div class="paragraph">
<p><strong>site cancel-push-state</strong> ['OPTIONS']</p>
</div>
<div class="paragraph">
<p><strong>site cancel-receive-state</strong> ['OPTIONS']</p>
</div>
<div class="paragraph">
<p><strong>site push-site-status</strong> ['OPTIONS']</p>
</div>
<div class="paragraph">
<p><strong>site state-transfer-mode get|set</strong> ['OPTIONS']</p>
</div>
<div class="paragraph">
<p><strong>site name</strong></p>
</div>
<div class="paragraph">
<p><strong>site view</strong></p>
</div>
<div class="paragraph">
<p><strong>site is-relay-node</strong></p>
</div>
<div class="paragraph">
<p><strong>site relay-nodes</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="options_11"><a class="anchor" href="#options_11"></a>8.37.3. OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-c, --cache</strong>='CACHE_NAME'</dt>
<dd>
<p>Specifies a cache.</p>
</dd>
<dt class="hdlist1"><strong>-a, --all-caches</strong></dt>
<dd>
<p>Applies the command to all caches.</p>
</dd>
<dt class="hdlist1"><strong>-s, --site</strong>='SITE_NAME'</dt>
<dd>
<p>Specifies a backup location.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="state_transfer_mode_options"><a class="anchor" href="#state_transfer_mode_options"></a>8.37.4. STATE TRANSFER MODE OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--mode</strong>='MODE'</dt>
<dd>
<p>Sets the state transfer mode. Values are <code>MANUAL</code> (default) or <code>AUTO</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="examples_22"><a class="anchor" href="#examples_22"></a>8.37.5. EXAMPLES</h4>
<div class="paragraph">
<p><code>site status --cache=mycache</code><br>
Returns the status of all backup locations for <code>mycache</code>.</p>
</div>
<div class="paragraph">
<p><code>site status --all-caches</code><br>
Returns the status of each backup location for all caches with backups.</p>
</div>
<div class="paragraph">
<p><code>site status --cache=mycache --site=NYC</code><br>
Returns the status of <code>NYC</code> for <code>mycache</code>.</p>
</div>
<div class="paragraph">
<p><code>site bring-online --cache=mycache --site=NYC</code><br>
Brings the site <code>NYC</code> online for <code>mycache</code>.</p>
</div>
<div class="paragraph">
<p><code>site take-offline --cache=mycache --site=NYC</code><br>
Takes the site <code>NYC</code> offline for <code>mycache</code>.</p>
</div>
<div class="paragraph">
<p><code>site push-site-state --cache=mycache --site=NYC</code><br>
Backs up caches to remote backup locations.</p>
</div>
<div class="paragraph">
<p><code>site push-site-status --cache=mycache</code><br>
Displays the status of the operation to backup <code>mycache</code>.</p>
</div>
<div class="paragraph">
<p><code>site cancel-push-state --cache=mycache --site=NYC</code><br>
Cancels the operation to backup <code>mycache</code> to <code>NYC</code>.</p>
</div>
<div class="paragraph">
<p><code>site cancel-receive-state --cache=mycache --site=NYC</code><br>
Cancels the operation to receive state from <code>NYC</code>.</p>
</div>
<div class="paragraph">
<p><code>site clear-push-state-status --cache=myCache</code><br>
Clears the status of the push state operation for <code>mycache</code>.</p>
</div>
<div class="paragraph">
<p><code>site state-transfer-mode get --cache=myCache --site=NYC</code><br>
Retrieves the state transfer mode for <code>mycache</code> to <code>NYC</code>.</p>
</div>
<div class="paragraph">
<p><code>site state-transfer-mode set --cache=myCache --site=NYC --mode=AUTO</code><br>
Configures automatic state transfer for <code>mycache</code> to <code>NYC</code>.</p>
</div>
<div class="paragraph">
<p><code>site name</code><br>
Returns the name of the local site. If cross-site replication is not configured, the name of the local site is always "local".</p>
</div>
<div class="paragraph">
<p><code>site view</code><br>
Returns a list of names for all sites or an empty list ("[]") if cross-site replication is not configured.</p>
</div>
<div class="paragraph">
<p><code>site is-relay-node</code><br>
Returns true if the node handles RELAY messages between clusters.</p>
</div>
<div class="paragraph">
<p><code>site relay-nodes</code><br>
Returns a list of relay nodes by their logical names.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="stats1"><a class="anchor" href="#stats1"></a>8.38. STATS(1)</h3>
<div class="sect3">
<h4 id="name_38"><a class="anchor" href="#name_38"></a>8.38.1. NAME</h4>
<div class="paragraph">
<p>stats - displays statistics about resources.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_39"><a class="anchor" href="#synopsis_39"></a>8.38.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>stats</strong> ['PATH']</p>
</div>
</div>
<div class="sect3">
<h4 id="examples_23"><a class="anchor" href="#examples_23"></a>8.38.3. EXAMPLES</h4>
<div class="paragraph">
<p><code>stats //containers/default</code><br>
Displays statistics about the default container.</p>
</div>
<div class="paragraph">
<p><code>stats //containers/default/caches/mycache</code><br>
Displays statistics about the <code>mycache</code> cache.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_28"><a class="anchor" href="#see_also_28"></a>8.38.4. SEE ALSO</h4>
<div class="paragraph">
<p>cd(1), ls(1), describe(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="task1"><a class="anchor" href="#task1"></a>8.39. TASK(1)</h3>
<div class="sect3">
<h4 id="name_39"><a class="anchor" href="#name_39"></a>8.39.1. NAME</h4>
<div class="paragraph">
<p>task - executes and uploads server-side tasks and scripts</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_40"><a class="anchor" href="#synopsis_40"></a>8.39.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>task upload</strong> --file='script' 'TASK_NAME'</p>
</div>
<div class="paragraph">
<p><strong>task exec</strong> ['TASK_NAME']</p>
</div>
</div>
<div class="sect3">
<h4 id="examples_24"><a class="anchor" href="#examples_24"></a>8.39.3. EXAMPLES</h4>
<div class="paragraph">
<p><code>task upload --file=hello.js hello</code><br>
Uploads a script from a <code>hello.js</code> file and names it <code>hello</code>.</p>
</div>
<div class="paragraph">
<p><code>task exec @@cache@names</code><br>
Runs a task that returns available cache names.</p>
</div>
<div class="paragraph">
<p><code>task exec hello -Pgreetee=world</code><br>
Runs a script named <code>hello</code> and specifies the <code>greetee</code> parameter with a value
of <code>world</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="options_12"><a class="anchor" href="#options_12"></a>8.39.4. OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-P, --parameters</strong>='PARAMETERS'</dt>
<dd>
<p>Passes parameter values to tasks and scripts.</p>
</dd>
<dt class="hdlist1"><strong>-f, --file</strong>='FILE'</dt>
<dd>
<p>Uploads script files with the given names.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="see_also_29"><a class="anchor" href="#see_also_29"></a>8.39.5. SEE ALSO</h4>
<div class="paragraph">
<p>ls(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="unalias1"><a class="anchor" href="#unalias1"></a>8.40. UNALIAS(1)</h3>
<div class="sect3">
<h4 id="name_40"><a class="anchor" href="#name_40"></a>8.40.1. NAME</h4>
<div class="paragraph">
<p>unalias - deletes aliases.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_41"><a class="anchor" href="#synopsis_41"></a>8.40.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>unalias</strong> 'ALIAS-NAME'</p>
</div>
</div>
<div class="sect3">
<h4 id="examples_25"><a class="anchor" href="#examples_25"></a>8.40.3. EXAMPLES</h4>
<div class="paragraph">
<p><code>unalias q</code><br>
Deletes the <code>q</code> alias.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_30"><a class="anchor" href="#see_also_30"></a>8.40.4. SEE ALSO</h4>
<div class="paragraph">
<p>config(1), alias(1)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="user1"><a class="anchor" href="#user1"></a>8.41. USER(1)</h3>
<div class="sect3">
<h4 id="name_41"><a class="anchor" href="#name_41"></a>8.41.1. NAME</h4>
<div class="paragraph">
<p>user - manages ${infinispan.brand.name} users in property security realms.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_42"><a class="anchor" href="#synopsis_42"></a>8.41.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>user ls</strong></p>
</div>
<div class="paragraph">
<p><strong>user create</strong> 'username'</p>
</div>
<div class="paragraph">
<p><strong>user describe</strong> 'username'</p>
</div>
<div class="paragraph">
<p><strong>user remove</strong> 'username'</p>
</div>
<div class="paragraph">
<p><strong>user password</strong> 'username'</p>
</div>
<div class="paragraph">
<p><strong>user groups</strong> 'username'</p>
</div>
<div class="paragraph">
<p><strong>user encrypt-all</strong></p>
</div>
<div class="paragraph">
<p><strong>user roles ls</strong> 'principal'</p>
</div>
<div class="paragraph">
<p><strong>user roles grant</strong> --roles='role1'[,'role2'&#8230;&#8203;] 'principal'</p>
</div>
<div class="paragraph">
<p><strong>user roles deny</strong> --roles='role1'[,'role2'&#8230;&#8203;] 'principal'</p>
</div>
</div>
<div class="sect3">
<h4 id="description_11"><a class="anchor" href="#description_11"></a>8.41.3. DESCRIPTION</h4>
<div class="paragraph">
<p>Manage users in property realms with the <code>ls</code>, <code>create</code>, <code>describe</code>, <code>remove</code>, <code>password</code>, <code>groups</code> and <code>encrypt-all</code> subcommands.
List and modify principal to role mappings with the <code>roles</code> subcommand when using the cluster role mapper for authorization.</p>
</div>
</div>
<div class="sect3">
<h4 id="command_synopsis_3"><a class="anchor" href="#command_synopsis_3"></a>8.41.4. COMMAND SYNOPSIS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>user ls</strong></dt>
<dd>
<p>Lists the users or groups which are present in the property file.</p>
</dd>
<dt class="hdlist1"><strong>user create</strong> 'username'</dt>
<dd>
<p>Creates a user after prompting for a password.</p>
</dd>
<dt class="hdlist1"><strong>user describe</strong> 'username'</dt>
<dd>
<p>Describes a user, including its username, realm and any groups it belongs to.</p>
</dd>
<dt class="hdlist1"><strong>user remove</strong> 'username'</dt>
<dd>
<p>Removes the specified user from the property file.</p>
</dd>
<dt class="hdlist1"><strong>user password</strong> 'username'</dt>
<dd>
<p>Changes the password for a user.</p>
</dd>
<dt class="hdlist1"><strong>user groups</strong> 'username'</dt>
<dd>
<p>Sets the groups to which a user belongs.</p>
</dd>
<dt class="hdlist1"><strong>user encrypt-all</strong></dt>
<dd>
<p>Encrypt all passwords in a plain-text user property file.</p>
</dd>
<dt class="hdlist1"><strong>user roles ls</strong> 'principal'</dt>
<dd>
<p>Lists all roles of the specified principal (user or group).</p>
</dd>
<dt class="hdlist1"><strong>user roles grant</strong> --roles='role1'[,'role2'&#8230;&#8203;] 'principal'</dt>
<dd>
<p>Grants one or more roles to a principal.</p>
</dd>
<dt class="hdlist1"><strong>user roles deny</strong> --roles='role1'[,'role2'&#8230;&#8203;] 'principal'</dt>
<dd>
<p>Denies one or more roles to a principal.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="common_options_3"><a class="anchor" href="#common_options_3"></a>8.41.5. COMMON OPTIONS</h4>
<div class="paragraph">
<p>These options apply to all commands:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-h, --help</strong></dt>
<dd>
<p>Displays a help page for the command or sub-command.</p>
</dd>
<dt class="hdlist1"><strong>-s, --server-root</strong>='path-to-server-root'</dt>
<dd>
<p>The path to the server root. Defaults to <code>server</code>.</p>
</dd>
<dt class="hdlist1"><strong>-f, --users-file</strong>='users.properties'</dt>
<dd>
<p>The name of the property file which contains the user passwords. Defaults to <code>users.properties</code>.</p>
</dd>
<dt class="hdlist1"><strong>-w, --groups-file</strong>='groups.properties'</dt>
<dd>
<p>The name of the property file which contains the user to groups mapping. Defaults to <code>groups.properties</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="user_createmodify_options"><a class="anchor" href="#user_createmodify_options"></a>8.41.6. USER CREATE/MODIFY OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-a, --algorithms</strong></dt>
<dd>
<p>Specifies the algorithms used to hash the password.</p>
</dd>
<dt class="hdlist1"><strong>-g, --groups</strong>='group1,group2,&#8230;&#8203;'</dt>
<dd>
<p>Specifies the groups to which the user belongs.</p>
</dd>
<dt class="hdlist1"><strong>-p, --password</strong>='password'</dt>
<dd>
<p>Specifies the user&#8217;s password.</p>
</dd>
<dt class="hdlist1"><strong>-r, --realm</strong>='realm'</dt>
<dd>
<p>Specifies the realm name.</p>
</dd>
<dt class="hdlist1"><strong>--plain-text</strong></dt>
<dd>
<p>Whether passwords should be stored in plain-text (not recommended).</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="user_ls_options"><a class="anchor" href="#user_ls_options"></a>8.41.7. USER LS OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--groups</strong></dt>
<dd>
<p>Shows a list of groups instead of the users.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="user_encrypt_all_options"><a class="anchor" href="#user_encrypt_all_options"></a>8.41.8. USER ENCRYPT-ALL OPTIONS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-a, --algorithms</strong></dt>
<dd>
<p>Specifies the algorithms used to hash the password.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version1"><a class="anchor" href="#version1"></a>8.42. VERSION(1)</h3>
<div class="sect3">
<h4 id="name_42"><a class="anchor" href="#name_42"></a>8.42.1. NAME</h4>
<div class="paragraph">
<p>version - displays the server version and CLI version.</p>
</div>
</div>
<div class="sect3">
<h4 id="synopsis_43"><a class="anchor" href="#synopsis_43"></a>8.42.2. SYNOPSIS</h4>
<div class="paragraph">
<p><strong>version</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="example_15"><a class="anchor" href="#example_15"></a>8.42.3. EXAMPLE</h4>
<div class="paragraph">
<p><code>version</code><br>
Returns the version for the server and the CLI.</p>
</div>
</div>
<div class="sect3">
<h4 id="see_also_31"><a class="anchor" href="#see_also_31"></a>8.42.4. SEE ALSO</h4>
<div class="paragraph">
<p>help(1)</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-12-17 14:46:55 UTC
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-8601422-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>