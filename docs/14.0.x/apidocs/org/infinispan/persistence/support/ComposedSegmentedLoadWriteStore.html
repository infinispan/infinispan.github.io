<!DOCTYPE HTML>
<html lang="en">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GPD7V946LB"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-GPD7V946LB');
</script>
<!-- Generated by javadoc (17) on Tue Feb 18 11:42:39 CET 2025 -->
<title>ComposedSegmentedLoadWriteStore (Infinispan 14.0 JavaDoc)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-02-18">
<meta name="description" content="declaration: package: org.infinispan.persistence.support, class: ComposedSegmentedLoadWriteStore">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language">Infinispan 14.0.33.Final</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ComposedSegmentedLoadWriteStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.infinispan.persistence.support</a></div>
<h1 title="Class ComposedSegmentedLoadWriteStore" class="title">Class ComposedSegmentedLoadWriteStore&lt;K,<wbr>V,<wbr>T extends <a href="../../configuration/cache/AbstractSegmentedStoreConfiguration.html" title="class in org.infinispan.configuration.cache">AbstractSegmentedStoreConfiguration</a>&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="AbstractSegmentedAdvancedLoadWriteStore.html" title="class in org.infinispan.persistence.support">org.infinispan.persistence.support.AbstractSegmentedAdvancedLoadWriteStore</a>&lt;K,<wbr>V&gt;
<div class="inheritance">org.infinispan.persistence.support.ComposedSegmentedLoadWriteStore&lt;K,<wbr>V,<wbr>T&gt;</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../commons/api/Lifecycle.html" title="interface in org.infinispan.commons.api">Lifecycle</a></code>, <code><a href="../spi/AdvancedCacheExpirationWriter.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheExpirationWriter</a>&lt;K,<wbr>V&gt;</code>, <code><a href="../spi/AdvancedCacheLoader.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheLoader</a>&lt;K,<wbr>V&gt;</code>, <code><a href="../spi/AdvancedCacheWriter.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheWriter</a>&lt;K,<wbr>V&gt;</code>, <code><a href="../spi/AdvancedLoadWriteStore.html" title="interface in org.infinispan.persistence.spi">AdvancedLoadWriteStore</a>&lt;K,<wbr>V&gt;</code>, <code><a href="../spi/CacheLoader.html" title="interface in org.infinispan.persistence.spi">CacheLoader</a>&lt;K,<wbr>V&gt;</code>, <code><a href="../spi/CacheWriter.html" title="interface in org.infinispan.persistence.spi">CacheWriter</a>&lt;K,<wbr>V&gt;</code>, <code><a href="../spi/ExternalStore.html" title="interface in org.infinispan.persistence.spi">ExternalStore</a>&lt;K,<wbr>V&gt;</code>, <code><a href="../spi/SegmentedAdvancedLoadWriteStore.html" title="interface in org.infinispan.persistence.spi">SegmentedAdvancedLoadWriteStore</a>&lt;K,<wbr>V&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ComposedSegmentedLoadWriteStore&lt;K,<wbr>V,<wbr>T extends <a href="../../configuration/cache/AbstractSegmentedStoreConfiguration.html" title="class in org.infinispan.configuration.cache">AbstractSegmentedStoreConfiguration</a>&gt;</span>
<span class="extends-implements">extends <a href="AbstractSegmentedAdvancedLoadWriteStore.html" title="class in org.infinispan.persistence.support">AbstractSegmentedAdvancedLoadWriteStore</a>&lt;K,<wbr>V&gt;</span></div>
<div class="block">Segmented store that creates multiple inner stores for each segment. This is used by stores that are not segmented
 but have a configuration that implements <a href="../../configuration/cache/AbstractSegmentedStoreConfiguration.html" title="class in org.infinispan.configuration.cache"><code>AbstractSegmentedStoreConfiguration</code></a>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>9.4</dd>
<dt>Author:</dt>
<dd>wburns</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.infinispan.persistence.spi.AdvancedCacheExpirationWriter">Nested classes/interfaces inherited from interface&nbsp;org.infinispan.persistence.spi.<a href="../spi/AdvancedCacheExpirationWriter.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheExpirationWriter</a></h2>
<code><a href="../spi/AdvancedCacheExpirationWriter.ExpirationPurgeListener.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheExpirationWriter.ExpirationPurgeListener</a>&lt;<a href="../spi/AdvancedCacheExpirationWriter.ExpirationPurgeListener.html" title="type parameter in AdvancedCacheExpirationWriter.ExpirationPurgeListener">K</a>,<wbr><a href="../spi/AdvancedCacheExpirationWriter.ExpirationPurgeListener.html" title="type parameter in AdvancedCacheExpirationWriter.ExpirationPurgeListener">V</a>&gt;</code></div>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.infinispan.persistence.spi.AdvancedCacheWriter">Nested classes/interfaces inherited from interface&nbsp;org.infinispan.persistence.spi.<a href="../spi/AdvancedCacheWriter.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheWriter</a></h2>
<code><a href="../spi/AdvancedCacheWriter.PurgeListener.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheWriter.PurgeListener</a>&lt;<a href="../spi/AdvancedCacheWriter.PurgeListener.html" title="type parameter in AdvancedCacheWriter.PurgeListener">K</a>&gt;</code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.infinispan.configuration.cache.AbstractSegmentedStoreConfiguration)" class="member-name-link">ComposedSegmentedLoadWriteStore</a><wbr>(<a href="../../configuration/cache/AbstractSegmentedStoreConfiguration.html" title="class in org.infinispan.configuration.cache">AbstractSegmentedStoreConfiguration</a>&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">T</a>&gt;&nbsp;configuration)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addSegments(org.infinispan.commons.util.IntSet)" class="member-name-link">addSegments</a><wbr>(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Invoked when a node becomes an owner of the given segments.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#bulkUpdate(org.reactivestreams.Publisher)" class="member-name-link">bulkUpdate</a><wbr>(org.reactivestreams.Publisher&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;? extends <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr>? extends <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;&gt;&nbsp;publisher)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Persist all provided entries to the store in chunks, with the size of each chunk determined by the store
 implementation.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clear()" class="member-name-link">clear</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes all the data from the storage.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clear(org.infinispan.commons.util.IntSet)" class="member-name-link">clear</a><wbr>(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes all the data that maps to the given segments from the storage.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#contains(int,java.lang.Object)" class="member-name-link">contains</a><wbr>(int&nbsp;segment,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if the storage contains an entry associated with the given key in the given segment</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#delete(int,java.lang.Object)" class="member-name-link">delete</a><wbr>(int&nbsp;segment,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes the entry for the provided key which is in the given segment.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deleteBatch(java.lang.Iterable)" class="member-name-link">deleteBatch</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;keys)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove all provided keys from the store in a single batch operation.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#destroy()" class="member-name-link">destroy</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method to be used to destroy and clean up any resources associated with this store.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.reactivestreams.Publisher&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr><a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#entryPublisher(java.util.function.Predicate,boolean,boolean)" class="member-name-link">entryPublisher</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;? super <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>&gt;&nbsp;filter,
 boolean&nbsp;fetchValue,
 boolean&nbsp;fetchMetadata)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Publishes all entries from this store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.reactivestreams.Publisher&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr><a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#entryPublisher(org.infinispan.commons.util.IntSet,java.util.function.Predicate,boolean,boolean)" class="member-name-link">entryPublisher</a><wbr>(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;? super <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>&gt;&nbsp;filter,
 boolean&nbsp;fetchValue,
 boolean&nbsp;fetchMetadata)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Publishes all entries from this store.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#forEach(java.util.function.ObjIntConsumer)" class="member-name-link">forEach</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/ObjIntConsumer.html" title="class or interface in java.util.function" class="external-link">ObjIntConsumer</a>&lt;? super <a href="../spi/AdvancedLoadWriteStore.html" title="interface in org.infinispan.persistence.spi">AdvancedLoadWriteStore</a>&gt;&nbsp;consumer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method that allows user to directly invoke some method(s) on the underlying store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr><a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#get(int,java.lang.Object)" class="member-name-link">get</a><wbr>(int&nbsp;segment,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fetches an entry from the storage given a segment to optimize this lookup based on.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/ToIntFunction.html" title="class or interface in java.util.function" class="external-link">ToIntFunction</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getKeyMapper()" class="member-name-link">getKeyMapper</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#init(org.infinispan.persistence.spi.InitializationContext)" class="member-name-link">init</a><wbr>(<a href="../spi/InitializationContext.html" title="interface in org.infinispan.persistence.spi">InitializationContext</a>&nbsp;ctx)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Used to initialize a cache loader.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.reactivestreams.Publisher&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#publishKeys(java.util.function.Predicate)" class="member-name-link">publishKeys</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;? super <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>&gt;&nbsp;filter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Publishes all the keys from this store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.reactivestreams.Publisher&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#publishKeys(org.infinispan.commons.util.IntSet,java.util.function.Predicate)" class="member-name-link">publishKeys</a><wbr>(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;? super <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>&gt;&nbsp;filter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Publishes all the keys that map to the given segments from this store.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#purge(java.util.concurrent.Executor,org.infinispan.persistence.spi.AdvancedCacheExpirationWriter.ExpirationPurgeListener)" class="member-name-link">purge</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor,
 <a href="../spi/AdvancedCacheExpirationWriter.ExpirationPurgeListener.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheExpirationWriter.ExpirationPurgeListener</a>&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr><a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Using the thread in the pool, removed all the expired data from the persistence storage.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeSegments(org.infinispan.commons.util.IntSet)" class="member-name-link">removeSegments</a><wbr>(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Invoked when a node loses ownership of a segment.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#size()" class="member-name-link">size</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the number of elements in the store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#size(org.infinispan.commons.util.IntSet)" class="member-name-link">size</a><wbr>(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the number of elements in the store that map to the given segments that aren't expired.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#start()" class="member-name-link">start</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Invoked on component start</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stop()" class="member-name-link">stop</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Invoked on component stop</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#write(int,org.infinispan.persistence.spi.MarshallableEntry)" class="member-name-link">write</a><wbr>(int&nbsp;segment,
 <a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;? extends <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr>? extends <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;&nbsp;entry)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Persists the entry to the storage with the given segment to optimize future lookups.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.infinispan.persistence.support.AbstractSegmentedAdvancedLoadWriteStore">Methods inherited from class&nbsp;org.infinispan.persistence.support.<a href="AbstractSegmentedAdvancedLoadWriteStore.html" title="class in org.infinispan.persistence.support">AbstractSegmentedAdvancedLoadWriteStore</a></h3>
<code><a href="AbstractSegmentedAdvancedLoadWriteStore.html#contains(java.lang.Object)">contains</a>, <a href="AbstractSegmentedAdvancedLoadWriteStore.html#delete(java.lang.Object)">delete</a>, <a href="AbstractSegmentedAdvancedLoadWriteStore.html#loadEntry(java.lang.Object)">loadEntry</a>, <a href="AbstractSegmentedAdvancedLoadWriteStore.html#write(org.infinispan.persistence.spi.MarshallableEntry)">write</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.infinispan.persistence.spi.AdvancedCacheExpirationWriter">Methods inherited from interface&nbsp;org.infinispan.persistence.spi.<a href="../spi/AdvancedCacheExpirationWriter.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheExpirationWriter</a></h3>
<code><a href="../spi/AdvancedCacheExpirationWriter.html#purge(java.util.concurrent.Executor,org.infinispan.persistence.spi.AdvancedCacheWriter.PurgeListener)">purge</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.infinispan.persistence.spi.CacheWriter">Methods inherited from interface&nbsp;org.infinispan.persistence.spi.<a href="../spi/CacheWriter.html" title="interface in org.infinispan.persistence.spi">CacheWriter</a></h3>
<code><a href="../spi/CacheWriter.html#isAvailable()">isAvailable</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.infinispan.persistence.spi.ExternalStore">Methods inherited from interface&nbsp;org.infinispan.persistence.spi.<a href="../spi/ExternalStore.html" title="interface in org.infinispan.persistence.spi">ExternalStore</a></h3>
<code><a href="../spi/ExternalStore.html#isAvailable()">isAvailable</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.infinispan.configuration.cache.AbstractSegmentedStoreConfiguration)">
<h3>ComposedSegmentedLoadWriteStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ComposedSegmentedLoadWriteStore</span><wbr><span class="parameters">(<a href="../../configuration/cache/AbstractSegmentedStoreConfiguration.html" title="class in org.infinispan.configuration.cache">AbstractSegmentedStoreConfiguration</a>&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">T</a>&gt;&nbsp;configuration)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getKeyMapper()">
<h3>getKeyMapper</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/ToIntFunction.html" title="class or interface in java.util.function" class="external-link">ToIntFunction</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>&nbsp;<span class="element-name">getKeyMapper</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="AbstractSegmentedAdvancedLoadWriteStore.html#getKeyMapper()">getKeyMapper</a></code>&nbsp;in class&nbsp;<code><a href="AbstractSegmentedAdvancedLoadWriteStore.html" title="class in org.infinispan.persistence.support">AbstractSegmentedAdvancedLoadWriteStore</a>&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr><a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="get(int,java.lang.Object)">
<h3>get</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr><a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;</span>&nbsp;<span class="element-name">get</span><wbr><span class="parameters">(int&nbsp;segment,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/SegmentedAdvancedLoadWriteStore.html#get(int,java.lang.Object)">SegmentedAdvancedLoadWriteStore</a></code></span></div>
<div class="block">Fetches an entry from the storage given a segment to optimize this lookup based on. If a <a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi"><code>MarshallableEntry</code></a>
 needs to be created here, <a href="../spi/InitializationContext.html#getMarshallableEntryFactory()"><code>InitializationContext.getMarshallableEntryFactory()</code></a> and <a href="../spi/InitializationContext.html#getByteBufferFactory()"><code>InitializationContext.getByteBufferFactory()</code></a> should be used.
 <p>
 The provided segment may be used for performance purposes, however it it is acceptable to ignore this argument.
 <p>
 This method may be invoked invoked irrespective if the store is <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>StoreConfiguration.segmented()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segment</code> - the segment that the key maps to</dd>
<dd><code>key</code> - the key of the entry to fetch</dd>
<dt>Returns:</dt>
<dd>the entry, or null if the entry does not exist</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contains(int,java.lang.Object)">
<h3>contains</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">contains</span><wbr><span class="parameters">(int&nbsp;segment,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/SegmentedAdvancedLoadWriteStore.html#contains(int,java.lang.Object)">SegmentedAdvancedLoadWriteStore</a></code></span></div>
<div class="block">Returns true if the storage contains an entry associated with the given key in the given segment
 <p>
 The provided segment may be used for performance purposes, however it it is acceptable to ignore this argument.
 <p>
 This method may be invoked invoked irrespective if the store is <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>StoreConfiguration.segmented()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segment</code> - the segment that the key maps to</dd>
<dd><code>key</code> - the key to see if exists</dd>
<dt>Returns:</dt>
<dd>true if the key is present in this loader with a given segment</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="write(int,org.infinispan.persistence.spi.MarshallableEntry)">
<h3>write</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">write</span><wbr><span class="parameters">(int&nbsp;segment,
 <a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;? extends <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr>? extends <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;&nbsp;entry)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/SegmentedAdvancedLoadWriteStore.html#write(int,org.infinispan.persistence.spi.MarshallableEntry)">SegmentedAdvancedLoadWriteStore</a></code></span></div>
<div class="block">Persists the entry to the storage with the given segment to optimize future lookups.
 <p>
 The provided segment may be used for performance purposes, however it it is acceptable to ignore this argument.
 <p>
 This method may be invoked invoked irrespective if the store is <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>StoreConfiguration.segmented()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segment</code> - the segment to persist this entry to</dd>
<dd><code>entry</code> - the entry to write to the store</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi"><code>MarshallableEntry</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="delete(int,java.lang.Object)">
<h3>delete</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">delete</span><wbr><span class="parameters">(int&nbsp;segment,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/SegmentedAdvancedLoadWriteStore.html#delete(int,java.lang.Object)">SegmentedAdvancedLoadWriteStore</a></code></span></div>
<div class="block">Removes the entry for the provided key which is in the given segment. This method then returns whether the
 entry was removed or not.
 <p>
 The provided segment may be used for performance purposes, however it it is acceptable to ignore this argument.
 <p>
 This method may be invoked invoked irrespective if the store is <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>StoreConfiguration.segmented()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segment</code> - the segment that this key maps to</dd>
<dd><code>key</code> - the key of the entry to remove</dd>
<dt>Returns:</dt>
<dd>true if the entry existed in the persistent store and it was deleted.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="size(org.infinispan.commons.util.IntSet)">
<h3>size</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">size</span><wbr><span class="parameters">(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/SegmentedAdvancedLoadWriteStore.html#size(org.infinispan.commons.util.IntSet)">SegmentedAdvancedLoadWriteStore</a></code></span></div>
<div class="block">Returns the number of elements in the store that map to the given segments that aren't expired.
 <p>
 The segments here <b>must</b> be adhered to and the size must not count any entries that don't belong to
 the provided segments.
 <p>
 This method is not invoked invoked when the store is not configured to be <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>StoreConfiguration.segmented()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segments</code> - the segments which should have their entries counted. Always non null.</dd>
<dt>Returns:</dt>
<dd>the count of entries in the given segments</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="size()">
<h3>size</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">size</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/AdvancedCacheLoader.html#size()">AdvancedCacheLoader</a></code></span></div>
<div class="block">Returns the number of elements in the store.</div>
</section>
</li>
<li>
<section class="detail" id="publishKeys(org.infinispan.commons.util.IntSet,java.util.function.Predicate)">
<h3>publishKeys</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.reactivestreams.Publisher&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>&gt;</span>&nbsp;<span class="element-name">publishKeys</span><wbr><span class="parameters">(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;? super <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>&gt;&nbsp;filter)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/SegmentedAdvancedLoadWriteStore.html#publishKeys(org.infinispan.commons.util.IntSet,java.util.function.Predicate)">SegmentedAdvancedLoadWriteStore</a></code></span></div>
<div class="block">Publishes all the keys that map to the given segments from this store. The given publisher can be used by as many
 <code>Subscriber</code>s as desired. Keys are not retrieved until a given Subscriber requests
 them from the <code>Subscription</code>.
 <p>
 Stores will return only non expired keys
 <p>
 The segments here <b>must</b> be adhered to and the keys published must not include any that don't belong to
 the provided segments.
 <p>
 This method is not invoked invoked when the store is not configured to be <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>StoreConfiguration.segmented()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segments</code> - the segments that the keys must map to. Always non null.</dd>
<dd><code>filter</code> - a filter</dd>
<dt>Returns:</dt>
<dd>a publisher that will provide the keys from the store</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="publishKeys(java.util.function.Predicate)">
<h3>publishKeys</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.reactivestreams.Publisher&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>&gt;</span>&nbsp;<span class="element-name">publishKeys</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;? super <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>&gt;&nbsp;filter)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/AdvancedCacheLoader.html#publishKeys(java.util.function.Predicate)">AdvancedCacheLoader</a></code></span></div>
<div class="block">Publishes all the keys from this store. The given publisher can be used by as many
 <code>Subscriber</code>s as desired. Keys are not retrieved until a given Subscriber requests
 them from the <code>Subscription</code>.
 <p>
 Stores will return only non expired keys</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>filter</code> - a filter - null is treated as allowing all entries</dd>
<dt>Returns:</dt>
<dd>a publisher that will provide the keys from the store</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="entryPublisher(org.infinispan.commons.util.IntSet,java.util.function.Predicate,boolean,boolean)">
<h3>entryPublisher</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.reactivestreams.Publisher&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr><a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;&gt;</span>&nbsp;<span class="element-name">entryPublisher</span><wbr><span class="parameters">(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;? super <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>&gt;&nbsp;filter,
 boolean&nbsp;fetchValue,
 boolean&nbsp;fetchMetadata)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/SegmentedAdvancedLoadWriteStore.html#entryPublisher(org.infinispan.commons.util.IntSet,java.util.function.Predicate,boolean,boolean)">SegmentedAdvancedLoadWriteStore</a></code></span></div>
<div class="block">Publishes all entries from this store.  The given publisher can be used by as many <code>Subscriber</code>s as desired. Entries are not retrieved until a given Subscriber requests them from
 the <code>Subscription</code>.
 <p>
 If <b>fetchMetadata</b> is true this store must guarantee to not return any expired entries.
 <p>
 The segments here <b>must</b> be adhered to and the entries published must not include any that don't belong to
 the provided segments.
 <p>
 This method is not invoked invoked when the store is not configured to be <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>StoreConfiguration.segmented()</code></a>.
 <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>StoreConfiguration.segmented()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segments</code> - the segments that the keys of the entries must map to. Always non null.</dd>
<dd><code>filter</code> - a filter on the keys of the entries that if passed will allow the given entry to be returned
                      from the publisher</dd>
<dd><code>fetchValue</code> - whether the value should be included in the marshalled entry</dd>
<dd><code>fetchMetadata</code> - whether the metadata should be included in the marshalled entry</dd>
<dt>Returns:</dt>
<dd>a publisher that will provide the entries from the store that map to the given segments</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="entryPublisher(java.util.function.Predicate,boolean,boolean)">
<h3>entryPublisher</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.reactivestreams.Publisher&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr><a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;&gt;</span>&nbsp;<span class="element-name">entryPublisher</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;? super <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>&gt;&nbsp;filter,
 boolean&nbsp;fetchValue,
 boolean&nbsp;fetchMetadata)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/AdvancedCacheLoader.html#entryPublisher(java.util.function.Predicate,boolean,boolean)">AdvancedCacheLoader</a></code></span></div>
<div class="block">Publishes all entries from this store.  The given publisher can be used by as many
 <code>Subscriber</code>s as desired. Entries are not retrieved until a given Subscriber requests
 them from the <code>Subscription</code>.
 <p>
 If <b>fetchMetadata</b> is true this store must guarantee to not return any expired entries.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>filter</code> - a filter - null is treated as allowing all entries</dd>
<dd><code>fetchValue</code> - whether or not to fetch the value from the persistent store. E.g. if the iteration is
                      intended only over the key set, no point fetching the values from the persistent store as
                      well</dd>
<dd><code>fetchMetadata</code> - whether or not to fetch the metadata from the persistent store. E.g. if the iteration is
                      intended only ove the key set, then no point fetching the metadata from the persistent store
                      as well</dd>
<dt>Returns:</dt>
<dd>a publisher that will provide the entries from the store</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clear()">
<h3>clear</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clear</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/AdvancedCacheWriter.html#clear()">AdvancedCacheWriter</a></code></span></div>
<div class="block">Removes all the data from the storage.</div>
</section>
</li>
<li>
<section class="detail" id="purge(java.util.concurrent.Executor,org.infinispan.persistence.spi.AdvancedCacheExpirationWriter.ExpirationPurgeListener)">
<h3>purge</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">purge</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor,
 <a href="../spi/AdvancedCacheExpirationWriter.ExpirationPurgeListener.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheExpirationWriter.ExpirationPurgeListener</a>&lt;<a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr><a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;&nbsp;listener)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/SegmentedAdvancedLoadWriteStore.html#purge(java.util.concurrent.Executor,org.infinispan.persistence.spi.AdvancedCacheExpirationWriter.ExpirationPurgeListener)">SegmentedAdvancedLoadWriteStore</a></code></span></div>
<div class="block">Using the thread in the pool, removed all the expired data from the persistence storage. For each removed entry,
 the supplied listener is invoked.  This should be preferred to
 <a href="../spi/AdvancedCacheWriter.html#purge(java.util.concurrent.Executor,org.infinispan.persistence.spi.AdvancedCacheWriter.PurgeListener)"><code>AdvancedCacheWriter.purge(Executor, PurgeListener)</code></a> since it allows for value and metadata to be provided
 which provides more accurate expiration when coordination is required.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>executor</code> - the executor to invoke the given command on</dd>
<dd><code>listener</code> - the listener that is notified for each expired entry</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clear(org.infinispan.commons.util.IntSet)">
<h3>clear</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clear</span><wbr><span class="parameters">(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/SegmentedAdvancedLoadWriteStore.html#clear(org.infinispan.commons.util.IntSet)">SegmentedAdvancedLoadWriteStore</a></code></span></div>
<div class="block">Removes all the data that maps to the given segments from the storage.
 <p>
 This method must only remove entries that map to the provided segments.
 <p>
 This method may be invoked irrespective if the configuration is <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>StoreConfiguration.segmented()</code></a> or not.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segments</code> - data mapping to these segments are removed. Always non null.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deleteBatch(java.lang.Iterable)">
<h3>deleteBatch</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">deleteBatch</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;keys)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/CacheWriter.html#deleteBatch(java.lang.Iterable)">CacheWriter</a></code></span></div>
<div class="block">Remove all provided keys from the store in a single batch operation. If this is not supported by the
 underlying store, then keys are removed from the store individually via <a href="../spi/CacheWriter.html#delete(java.lang.Object)"><code>CacheWriter.delete(Object)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>keys</code> - an Iterable of entry Keys to be removed from the store.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="bulkUpdate(org.reactivestreams.Publisher)">
<h3>bulkUpdate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">bulkUpdate</span><wbr><span class="parameters">(org.reactivestreams.Publisher&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;? extends <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">K</a>,<wbr>? extends <a href="ComposedSegmentedLoadWriteStore.html" title="type parameter in ComposedSegmentedLoadWriteStore">V</a>&gt;&gt;&nbsp;publisher)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/CacheWriter.html#bulkUpdate(org.reactivestreams.Publisher)">CacheWriter</a></code></span></div>
<div class="block">Persist all provided entries to the store in chunks, with the size of each chunk determined by the store
 implementation. If chunking is not supported by the underlying store, then entries are written to the store
 individually via <a href="../spi/CacheWriter.html#write(org.infinispan.persistence.spi.MarshallableEntry)"><code>CacheWriter.write(MarshallableEntry)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>publisher</code> - a <code>Publisher</code> of <a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi"><code>MarshallableEntry</code></a> instances</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="init(org.infinispan.persistence.spi.InitializationContext)">
<h3>init</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">init</span><wbr><span class="parameters">(<a href="../spi/InitializationContext.html" title="interface in org.infinispan.persistence.spi">InitializationContext</a>&nbsp;ctx)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/CacheLoader.html#init(org.infinispan.persistence.spi.InitializationContext)">CacheLoader</a></code></span></div>
<div class="block">Used to initialize a cache loader.  Typically invoked by the <code>PersistenceManager</code>
 when setting up cache loaders.</div>
</section>
</li>
<li>
<section class="detail" id="start()">
<h3>start</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">start</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../commons/api/Lifecycle.html#start()">Lifecycle</a></code></span></div>
<div class="block">Invoked on component start</div>
</section>
</li>
<li>
<section class="detail" id="stop()">
<h3>stop</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">stop</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../commons/api/Lifecycle.html#stop()">Lifecycle</a></code></span></div>
<div class="block">Invoked on component stop</div>
</section>
</li>
<li>
<section class="detail" id="destroy()">
<h3>destroy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">destroy</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/ExternalStore.html#destroy()">ExternalStore</a></code></span></div>
<div class="block">Method to be used to destroy and clean up any resources associated with this store. This is normally only
 useful for non shared stores.
 <p>
 This method will ensure the store is stopped and properly cleans up all resources for it.</div>
</section>
</li>
<li>
<section class="detail" id="addSegments(org.infinispan.commons.util.IntSet)">
<h3>addSegments</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addSegments</span><wbr><span class="parameters">(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/SegmentedAdvancedLoadWriteStore.html#addSegments(org.infinispan.commons.util.IntSet)">SegmentedAdvancedLoadWriteStore</a></code></span></div>
<div class="block">Invoked when a node becomes an owner of the given segments. Note this method is only invoked for non shared
 store implementations.
 <p>
 This method may be invoked irrespective if the configuration is <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>StoreConfiguration.segmented()</code></a> or not.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segments</code> - segments to associate with this store</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeSegments(org.infinispan.commons.util.IntSet)">
<h3>removeSegments</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeSegments</span><wbr><span class="parameters">(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/SegmentedAdvancedLoadWriteStore.html#removeSegments(org.infinispan.commons.util.IntSet)">SegmentedAdvancedLoadWriteStore</a></code></span></div>
<div class="block">Invoked when a node loses ownership of a segment. The provided segments are the ones this node no longer owns.
 Note this method is only invoked for non shared store implementations.
 <p>
 This method may be invoked irrespective if the configuration is <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>StoreConfiguration.segmented()</code></a> or not.
 <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>StoreConfiguration.segmented()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segments</code> - segments that should no longer be associated with this store</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="forEach(java.util.function.ObjIntConsumer)">
<h3>forEach</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">forEach</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/ObjIntConsumer.html" title="class or interface in java.util.function" class="external-link">ObjIntConsumer</a>&lt;? super <a href="../spi/AdvancedLoadWriteStore.html" title="interface in org.infinispan.persistence.spi">AdvancedLoadWriteStore</a>&gt;&nbsp;consumer)</span></div>
<div class="block">Method that allows user to directly invoke some method(s) on the underlying store. The segment that each
 store maps to is also provided as an argument to the consumer</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>consumer</code> - callback for every store that is currently installed</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 <a href="http://www.jboss.org">JBoss, a division of Red Hat</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
