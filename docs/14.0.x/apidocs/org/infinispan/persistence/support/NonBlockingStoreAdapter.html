<!DOCTYPE HTML>
<html lang="en">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GPD7V946LB"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-GPD7V946LB');
</script>
<!-- Generated by javadoc (17) on Tue Feb 18 11:42:39 CET 2025 -->
<title>NonBlockingStoreAdapter (Infinispan 14.0 JavaDoc)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-02-18">
<meta name="description" content="declaration: package: org.infinispan.persistence.support, class: NonBlockingStoreAdapter">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language">Infinispan 14.0.33.Final</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/NonBlockingStoreAdapter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.infinispan.persistence.support</a></div>
<h1 title="Class NonBlockingStoreAdapter" class="title">Class NonBlockingStoreAdapter&lt;K,<wbr>V&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.infinispan.persistence.support.NonBlockingStoreAdapter&lt;K,<wbr>V&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;K,<wbr>V&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">NonBlockingStoreAdapter&lt;K,<wbr>V&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;K,<wbr>V&gt;</span></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.infinispan.persistence.spi.NonBlockingStore">Nested classes/interfaces inherited from interface&nbsp;org.infinispan.persistence.spi.<a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a></h2>
<code><a href="../spi/NonBlockingStore.Characteristic.html" title="enum in org.infinispan.persistence.spi">NonBlockingStore.Characteristic</a>, <a href="../spi/NonBlockingStore.SegmentedPublisher.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore.SegmentedPublisher</a>&lt;<a href="../spi/NonBlockingStore.SegmentedPublisher.html" title="type parameter in NonBlockingStore.SegmentedPublisher">Type</a>&gt;</code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.infinispan.persistence.spi.NonBlockingStore">Fields inherited from interface&nbsp;org.infinispan.persistence.spi.<a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a></h3>
<code><a href="../spi/NonBlockingStore.html#SIZE_UNAVAILABLE_FUTURE">SIZE_UNAVAILABLE_FUTURE</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.infinispan.commons.api.Lifecycle)" class="member-name-link">NonBlockingStoreAdapter</a><wbr>(<a href="../../commons/api/Lifecycle.html" title="interface in org.infinispan.commons.api">Lifecycle</a>&nbsp;oldStoreImpl)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addSegments(org.infinispan.commons.util.IntSet)" class="member-name-link">addSegments</a><wbr>(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Invoked when a node becomes an owner of the given segments.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../spi/AdvancedCacheLoader.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheLoader</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#advancedLoader()" class="member-name-link">advancedLoader</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../spi/AdvancedCacheWriter.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheWriter</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#advancedWriter()" class="member-name-link">advancedWriter</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#approximateSize(org.infinispan.commons.util.IntSet)" class="member-name-link">approximateSize</a><wbr>(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an estimation of the amount of entries that map to the given segments in the store.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#batch(int,org.reactivestreams.Publisher,org.reactivestreams.Publisher)" class="member-name-link">batch</a><wbr>(int&nbsp;publisherCount,
 org.reactivestreams.Publisher&lt;<a href="../spi/NonBlockingStore.SegmentedPublisher.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore.SegmentedPublisher</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&gt;&nbsp;removePublisher,
 org.reactivestreams.Publisher&lt;<a href="../spi/NonBlockingStore.SegmentedPublisher.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore.SegmentedPublisher</a>&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;&gt;&gt;&nbsp;writePublisher)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Writes and removes the entries provided by the Publishers into the store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../spi/NonBlockingStore.Characteristic.html" title="enum in org.infinispan.persistence.spi">NonBlockingStore.Characteristic</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#characteristics()" class="member-name-link">characteristics</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a set of characteristics for this store and its elements.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clear()" class="member-name-link">clear</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Clears all entries from the store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#commit(javax.transaction.Transaction)" class="member-name-link">commit</a><wbr>(javax.transaction.Transaction&nbsp;transaction)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Commit changes in the provided transaction to the underlying store.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#containsKey(int,java.lang.Object)" class="member-name-link">containsKey</a><wbr>(int&nbsp;segment,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a stage that will contain whether the value can be found in the store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#delete(int,java.lang.Object)" class="member-name-link">delete</a><wbr>(int&nbsp;segment,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes the entry for given key and segment from the store
 and optionally report if the entry was actually removed or not.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#destroy()" class="member-name-link">destroy</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is to be invoked when the store should clean up all underlying data and storage of said data.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../commons/api/Lifecycle.html" title="interface in org.infinispan.commons.api">Lifecycle</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getActualStore()" class="member-name-link">getActualStore</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#ignoreCommandWithFlags(long)" class="member-name-link">ignoreCommandWithFlags</a><wbr>(long&nbsp;commandFlags)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Some stores may not want to perform operations based on if a command has certain flags.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isAvailable()" class="member-name-link">isAvailable</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a stage that, when complete, returns a boolean indicating whether the current store can be accessed for
 requests.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#load(int,java.lang.Object)" class="member-name-link">load</a><wbr>(int&nbsp;segment,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a stage that will contain the value loaded from the store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../spi/CacheLoader.html" title="interface in org.infinispan.persistence.spi">CacheLoader</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loader()" class="member-name-link">loader</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareWithModifications(javax.transaction.Transaction,int,org.reactivestreams.Publisher,org.reactivestreams.Publisher)" class="member-name-link">prepareWithModifications</a><wbr>(javax.transaction.Transaction&nbsp;transaction,
 int&nbsp;publisherCount,
 org.reactivestreams.Publisher&lt;<a href="../spi/NonBlockingStore.SegmentedPublisher.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore.SegmentedPublisher</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&gt;&nbsp;removePublisher,
 org.reactivestreams.Publisher&lt;<a href="../spi/NonBlockingStore.SegmentedPublisher.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore.SegmentedPublisher</a>&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;&gt;&gt;&nbsp;writePublisher)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Write remove and put modifications to the store in the prepare phase, which should not yet persisted until the
 same transaction is committed via <a href="../spi/NonBlockingStore.html#commit(javax.transaction.Transaction)"><code>NonBlockingStore.commit(Transaction)</code></a> or they are discarded if the transaction is rolled back via
 <a href="../spi/NonBlockingStore.html#rollback(javax.transaction.Transaction)"><code>NonBlockingStore.rollback(Transaction)</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.reactivestreams.Publisher&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#publishEntries(org.infinispan.commons.util.IntSet,java.util.function.Predicate,boolean)" class="member-name-link">publishEntries</a><wbr>(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;? super <a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>&gt;&nbsp;filter,
 boolean&nbsp;includeValues)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Publishes entries from this store that are in one of the provided segments and also pass the provided filter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.reactivestreams.Publisher&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#publishKeys(org.infinispan.commons.util.IntSet,java.util.function.Predicate)" class="member-name-link">publishKeys</a><wbr>(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;? super <a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>&gt;&nbsp;filter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Publishes keys from this store that are in one of the provided segments and also pass the provided filter.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.reactivestreams.Publisher&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#purgeExpired()" class="member-name-link">purgeExpired</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a Publisher that, after it is subscribed to, removes any expired entries from the store and publishes
 them to the returned Publisher.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeSegments(org.infinispan.commons.util.IntSet)" class="member-name-link">removeSegments</a><wbr>(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Invoked when a node loses ownership of the given segments.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#rollback(javax.transaction.Transaction)" class="member-name-link">rollback</a><wbr>(javax.transaction.Transaction&nbsp;transaction)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Roll back the changes from the provided transaction to the underlying store.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../spi/SegmentedAdvancedLoadWriteStore.html" title="interface in org.infinispan.persistence.spi">SegmentedAdvancedLoadWriteStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#segmentedStore()" class="member-name-link">segmentedStore</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#size(org.infinispan.commons.util.IntSet)" class="member-name-link">size</a><wbr>(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the amount of entries that map to the given segments in the store.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#start(org.infinispan.persistence.spi.InitializationContext)" class="member-name-link">start</a><wbr>(<a href="../spi/InitializationContext.html" title="interface in org.infinispan.persistence.spi">InitializationContext</a>&nbsp;ctx)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The first method to invoke so that the store can be configured and additional steps, such as connecting through
 a socket or opening file descriptors, are performed.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stop()" class="member-name-link">stop</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is invoked when the cache is being shutdown.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../spi/TransactionalCacheWriter.html" title="interface in org.infinispan.persistence.spi">TransactionalCacheWriter</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#transactionalStore()" class="member-name-link">transactionalStore</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#write(int,org.infinispan.persistence.spi.MarshallableEntry)" class="member-name-link">write</a><wbr>(int&nbsp;segment,
 <a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;? extends <a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr>? extends <a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;&nbsp;entry)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Writes the entry to the store for the given segment returning a stage that completes normally when it is finished.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../spi/CacheWriter.html" title="interface in org.infinispan.persistence.spi">CacheWriter</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writer()" class="member-name-link">writer</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.infinispan.commons.api.Lifecycle)">
<h3>NonBlockingStoreAdapter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">NonBlockingStoreAdapter</span><wbr><span class="parameters">(<a href="../../commons/api/Lifecycle.html" title="interface in org.infinispan.commons.api">Lifecycle</a>&nbsp;oldStoreImpl)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getActualStore()">
<h3>getActualStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../commons/api/Lifecycle.html" title="interface in org.infinispan.commons.api">Lifecycle</a></span>&nbsp;<span class="element-name">getActualStore</span>()</div>
</section>
</li>
<li>
<section class="detail" id="start(org.infinispan.persistence.spi.InitializationContext)">
<h3>start</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">start</span><wbr><span class="parameters">(<a href="../spi/InitializationContext.html" title="interface in org.infinispan.persistence.spi">InitializationContext</a>&nbsp;ctx)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#start(org.infinispan.persistence.spi.InitializationContext)">NonBlockingStore</a></code></span></div>
<div class="block">The first method to invoke so that the store can be configured and additional steps, such as connecting through
 a socket or opening file descriptors, are performed.
 <p>
 The provided <a href="../spi/InitializationContext.html" title="interface in org.infinispan.persistence.spi"><code>InitializationContext</code></a> contains many helpful objects, including the configuration of the
 cache and store, concurrency utilities such as <a href="../../util/concurrent/BlockingManager.html" title="interface in org.infinispan.util.concurrent"><code>BlockingManager</code></a> or
 an executor reserved for non-blocking operations only <a href="../spi/InitializationContext.html#getNonBlockingExecutor()"><code>InitializationContext.getNonBlockingExecutor()</code></a>.
 <p>
 This method is guaranteed not to be invoked concurrently with other operations. This means other methods are
 not invoked on this store until after the returned Stage completes.
 <p>
 It is expected that an implementation should be able to "restart" by invoking <code>start</code> a second time if
 <a href="../spi/NonBlockingStore.html#stop()"><code>NonBlockingStore.stop()</code></a> has been invoked and allowed for its stage to complete.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#start(org.infinispan.persistence.spi.InitializationContext)">start</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>ctx</code> - initialization context used to initialize this store.</dd>
<dt>Returns:</dt>
<dd>a stage that, when complete, indicates that this store has started successfully.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stop()">
<h3>stop</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">stop</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#stop()">NonBlockingStore</a></code></span></div>
<div class="block">This method is invoked when the cache is being shutdown. It is expected that all resources related to the
 store are freed when the returned stage is complete.
 <p>
 This method is guaranteed not to be invoked concurrently with other operations. This means other methods are
 not invoked on this store until after the returned Stage completes.
 <p>
 It is expected that an implementation should be able to "restart" by invoking <a href="../spi/NonBlockingStore.html#start(org.infinispan.persistence.spi.InitializationContext)"><code>NonBlockingStore.start(InitializationContext)</code></a>
 a second time if <code>stop</code> has been invoked and allowed for its stage to complete.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#stop()">stop</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>a stage that, when complete, indicates that this store has stopped.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="destroy()">
<h3>destroy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">destroy</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#destroy()">NonBlockingStore</a></code></span></div>
<div class="block">This method is to be invoked when the store should clean up all underlying data and storage of said data. For
 example a database store would remove the underlying table(s) that it is using and a file based store would
 remove all of the various files or directories it may have created.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#destroy()">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>a stage that, when complete, indicates that this store is stopped and all data and storage for it are also
    cleaned up</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="characteristics()">
<h3>characteristics</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../spi/NonBlockingStore.Characteristic.html" title="enum in org.infinispan.persistence.spi">NonBlockingStore.Characteristic</a>&gt;</span>&nbsp;<span class="element-name">characteristics</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#characteristics()">NonBlockingStore</a></code></span></div>
<div class="block">Returns a set of characteristics for this store and its elements. This method may be invoked multiple times
 to determine which methods of the store can be used and how the data in the store can be handled.
 <p>
 Refer to <a href="../spi/NonBlockingStore.Characteristic.html" title="enum in org.infinispan.persistence.spi"><code>NonBlockingStore.Characteristic</code></a> and its values for descriptions of each characteristic for stores.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#characteristics()">characteristics</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>the set of characteristics that this store supports.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="size(org.infinispan.commons.util.IntSet)">
<h3>size</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</span>&nbsp;<span class="element-name">size</span><wbr><span class="parameters">(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#size(org.infinispan.commons.util.IntSet)">NonBlockingStore</a></code></span></div>
<div class="block">Returns the amount of entries that map to the given segments in the store.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#BULK_READ"><code>NonBlockingStore.Characteristic.BULK_READ</code></a></td>
       <td valign="top">This method is only invoked if the store has this characteristic.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SEGMENTABLE"><code>NonBlockingStore.Characteristic.SEGMENTABLE</code></a></td>
       <td valign="top">When this is not set or segmentation is disabled in the
       <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>configuration</code></a>,
       the <code>segments</code> parameter may be ignored.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#size(org.infinispan.commons.util.IntSet)">size</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>segments</code> - the segments for which the entries are counted.</dd>
<dt>Returns:</dt>
<dd>a stage that, when complete, contains the count of how many entries are present for the given segments.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="approximateSize(org.infinispan.commons.util.IntSet)">
<h3>approximateSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</span>&nbsp;<span class="element-name">approximateSize</span><wbr><span class="parameters">(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#approximateSize(org.infinispan.commons.util.IntSet)">NonBlockingStore</a></code></span></div>
<div class="block">Returns an estimation of the amount of entries that map to the given segments in the store. This is similar to
 <a href="../spi/NonBlockingStore.html#size(org.infinispan.commons.util.IntSet)"><code>NonBlockingStore.size(IntSet)</code></a> except that it is not strict about the returned size. For instance, this method might ignore
 if an entry is expired or if the store has some underlying optimizations to eventually have a consistent size.
 <p>
 The implementations should be O(1).
 If a size approximation cannot be returned without iterating over all the entries in the store,
 the implementation should return <code>-1L</code>.
 </p>
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#BULK_READ"><code>NonBlockingStore.Characteristic.BULK_READ</code></a></td>
       <td valign="top">This method is only invoked if the store has this characteristic.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SEGMENTABLE"><code>NonBlockingStore.Characteristic.SEGMENTABLE</code></a></td>
       <td valign="top">When the store does not have this characteristic or segmentation is disabled in the
       <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>configuration</code></a>,
       the <code>segment</code> parameter is always <code>IntSets.immutableRangeSet(numSegments)</code>.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.
 <p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#approximateSize(org.infinispan.commons.util.IntSet)">approximateSize</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>segments</code> - the segments for which the entries are counted.</dd>
<dt>Returns:</dt>
<dd>a stage that, when complete, contains the approximate count of the entries in the given segments,
 or <code>-1L</code> if an approximate count cannot be provided.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="publishEntries(org.infinispan.commons.util.IntSet,java.util.function.Predicate,boolean)">
<h3>publishEntries</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.reactivestreams.Publisher&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;&gt;</span>&nbsp;<span class="element-name">publishEntries</span><wbr><span class="parameters">(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;? super <a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>&gt;&nbsp;filter,
 boolean&nbsp;includeValues)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#publishEntries(org.infinispan.commons.util.IntSet,java.util.function.Predicate,boolean)">NonBlockingStore</a></code></span></div>
<div class="block">Publishes entries from this store that are in one of the provided segments and also pass the provided filter.
 The returned publisher must support being subscribed to any number of times. That is subsequent invocations of
 <code>Publisher.subscribe(Subscriber)</code> should provide independent views of the underlying entries to the Subscribers.
 Entries should not be retrieved until a given Subscriber requests them via the
 <code>Subscription.request(long)</code> method.
 <p>
 Subscribing to the returned <code>Publisher</code> should not block the invoking thread. It is the responsibility of
 the store implementation to ensure this occurs. If however the store must block to perform an operation it
 is recommended to wrap your Publisher before returning with the
 <a href="../../util/concurrent/BlockingManager.html#blockingPublisher(org.reactivestreams.Publisher)"><code>BlockingManager.blockingPublisher(Publisher)</code></a> method and it will handle
 subscription and observation on the blocking and non-blocking executors respectively.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#BULK_READ"><code>NonBlockingStore.Characteristic.BULK_READ</code></a></td>
       <td valign="top">This method is only invoked if the store has this characteristic.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#EXPIRATION"><code>NonBlockingStore.Characteristic.EXPIRATION</code></a></td>
       <td valign="top">When set the returned publisher must not return expired entries.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SEGMENTABLE"><code>NonBlockingStore.Characteristic.SEGMENTABLE</code></a></td>
       <td valign="top">When this is not set or segmentation is disabled in the
       <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>configuration</code></a>,
       the <code>segment</code> parameter may be ignored.</td>
    </tr>
 </table></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#publishEntries(org.infinispan.commons.util.IntSet,java.util.function.Predicate,boolean)">publishEntries</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>segments</code> - a set of segments to filter entries by. This will always be non-null.</dd>
<dd><code>filter</code> - a filter to filter the keys by. If this is null then no additional filtering should be done after segments.</dd>
<dt>Returns:</dt>
<dd>a publisher that provides the keys from the store.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="publishKeys(org.infinispan.commons.util.IntSet,java.util.function.Predicate)">
<h3>publishKeys</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.reactivestreams.Publisher&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>&gt;</span>&nbsp;<span class="element-name">publishKeys</span><wbr><span class="parameters">(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;? super <a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>&gt;&nbsp;filter)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#publishKeys(org.infinispan.commons.util.IntSet,java.util.function.Predicate)">NonBlockingStore</a></code></span></div>
<div class="block">Publishes keys from this store that are in one of the provided segments and also pass the provided filter.
 The returned publisher must support being subscribed to any number of times. That is subsequent invocations of
 <code>Publisher.subscribe(Subscriber)</code> should provide independent views of the underlying keys to the Subscribers.
 Keys should not be retrieved until a given Subscriber requests them via the
 <code>Subscription.request(long)</code> method.
 <p>
 Subscribing to the returned <code>Publisher</code> should not block the invoking thread. It is the responsibility of
 the store implementation to ensure this occurs. If however the store must block to perform an operation it
 is recommended to wrap your Publisher before returning with the
 <a href="../../util/concurrent/BlockingManager.html#blockingPublisher(org.reactivestreams.Publisher)"><code>BlockingManager.blockingPublisher(Publisher)</code></a> method and it will handle
 subscription and observation on the blocking and non-blocking executors respectively.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#BULK_READ"><code>NonBlockingStore.Characteristic.BULK_READ</code></a></td>
       <td valign="top">This method is only invoked if the store has this characteristic.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#EXPIRATION"><code>NonBlockingStore.Characteristic.EXPIRATION</code></a></td>
       <td valign="top">When set the returned publisher must not return expired keys.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SEGMENTABLE"><code>NonBlockingStore.Characteristic.SEGMENTABLE</code></a></td>
       <td valign="top">When this is not set or segmentation is disabled in the
       <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>configuration</code></a>,
       the <code>segment</code> parameter may be ignored.</td>
    </tr>
 </table>
 <p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#publishKeys(org.infinispan.commons.util.IntSet,java.util.function.Predicate)">publishKeys</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>segments</code> - a set of segments to filter keys by. This will always be non-null.</dd>
<dd><code>filter</code> - a filter to filter the keys by. If this is null then no additional filtering should be done after segments.</dd>
<dt>Returns:</dt>
<dd>a publisher that provides the keys from the store.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="purgeExpired()">
<h3>purgeExpired</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.reactivestreams.Publisher&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;&gt;</span>&nbsp;<span class="element-name">purgeExpired</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#purgeExpired()">NonBlockingStore</a></code></span></div>
<div class="block">Returns a Publisher that, after it is subscribed to, removes any expired entries from the store and publishes
 them to the returned Publisher.
 <p>
 When the Publisher is subscribed to, it is expected to do point-in-time expiration and should
 not return a Publisher that has infinite entries or never completes.
 <p>
 Subscribing to the returned <code>Publisher</code> should not block the invoking thread. It is the responsibility of
 the store implementation to ensure this occurs. If however the store must block to perform an operation it
 is recommended to wrap your Publisher before returning with the
 <a href="../../util/concurrent/BlockingManager.html#blockingPublisher(org.reactivestreams.Publisher)"><code>BlockingManager.blockingPublisher(Publisher)</code></a> method and it will handle
 subscription and observation on the blocking and non-blocking executors respectively.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#EXPIRATION"><code>NonBlockingStore.Characteristic.EXPIRATION</code></a></td>
       <td valign="top">This method is only invoked if the store has this characteristic.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#purgeExpired()">purgeExpired</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>a Publisher that publishes the entries that are expired at the time of subscription.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isAvailable()">
<h3>isAvailable</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</span>&nbsp;<span class="element-name">isAvailable</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#isAvailable()">NonBlockingStore</a></code></span></div>
<div class="block">Returns a stage that, when complete, returns a boolean indicating whether the current store can be accessed for
 requests. This can be useful for store implementations that rely on an external source, such as a remote database,
 that may become unreachable. This can reduce sending requests to a store that is not available, as subsequent cache
 requests will result in a <a href="../spi/StoreUnavailableException.html" title="class in org.infinispan.persistence.spi"><code>StoreUnavailableException</code></a> being thrown until the store becomes available again.
 <p>
 Store availability is polled periodically to update the status of stores if their availability changes. This method
 is not invoked concurrently with itself. In other words, this method is not invoked until after the previous stage
 has completed. However, this method is invoked concurrently with other operations, except for
 <a href="../spi/NonBlockingStore.html#start(org.infinispan.persistence.spi.InitializationContext)"><code>NonBlockingStore.start(InitializationContext)</code></a> and <a href="../spi/NonBlockingStore.html#stop()"><code>NonBlockingStore.stop()</code></a>.
 <p>
    If a store is configured to be <a href="../../configuration/cache/StoreConfiguration.html#async()"><code>StoreConfiguration.async()</code></a> and the store becomes unavailable, then it is
    possible for the cache operations to be accepted in the interim period between the loss of availability and the
    modification-queue becoming full. This allows for this store to be unavailable for short periods of time without a
    <a href="../spi/StoreUnavailableException.html" title="class in org.infinispan.persistence.spi"><code>StoreUnavailableException</code></a> being thrown; however if the store does not become available before the queue
    fills, then a <a href="../spi/StoreUnavailableException.html" title="class in org.infinispan.persistence.spi"><code>StoreUnavailableException</code></a> is thrown.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#isAvailable()">isAvailable</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>stage that, when complete, indicates if the store is available.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="load(int,java.lang.Object)">
<h3>load</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;&gt;</span>&nbsp;<span class="element-name">load</span><wbr><span class="parameters">(int&nbsp;segment,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#load(int,java.lang.Object)">NonBlockingStore</a></code></span></div>
<div class="block">Returns a stage that will contain the value loaded from the store. If a <a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi"><code>MarshallableEntry</code></a> needs to be
 created here, <a href="../spi/InitializationContext.html#getMarshallableEntryFactory()"><code>InitializationContext.getMarshallableEntryFactory()</code></a> and
 <a href="../spi/InitializationContext.html#getByteBufferFactory()"><code>InitializationContext.getByteBufferFactory()</code></a> should be used.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#WRITE_ONLY"><code>NonBlockingStore.Characteristic.WRITE_ONLY</code></a></td>
       <td valign="top">This method will never be invoked.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#EXPIRATION"><code>NonBlockingStore.Characteristic.EXPIRATION</code></a></td>
       <td valign="top">When set this method must not return expired entries.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SEGMENTABLE"><code>NonBlockingStore.Characteristic.SEGMENTABLE</code></a></td>
       <td valign="top">When this is not set or segmentation is disabled in the
       <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>configuration</code></a>,
       the <code>segment</code> parameter may be ignored.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#load(int,java.lang.Object)">load</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>segment</code> - the segment for the given key if segmentation is enabled, otherwise 0.</dd>
<dd><code>key</code> - key of the entry to load.</dd>
<dt>Returns:</dt>
<dd>a stage that, when complete, contains the store value or null if not present.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="containsKey(int,java.lang.Object)">
<h3>containsKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</span>&nbsp;<span class="element-name">containsKey</span><wbr><span class="parameters">(int&nbsp;segment,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#containsKey(int,java.lang.Object)">NonBlockingStore</a></code></span></div>
<div class="block">Returns a stage that will contain whether the value can be found in the store.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#WRITE_ONLY"><code>NonBlockingStore.Characteristic.WRITE_ONLY</code></a></td>
       <td valign="top">This method will never be invoked.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#EXPIRATION"><code>NonBlockingStore.Characteristic.EXPIRATION</code></a></td>
       <td valign="top">When set this method must not return true if the entry was expired.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SEGMENTABLE"><code>NonBlockingStore.Characteristic.SEGMENTABLE</code></a></td>
       <td valign="top">When this is not set or segmentation is disabled in the
       <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>configuration</code></a>,
       the <code>segment</code> parameter may be ignored.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.
 <p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#containsKey(int,java.lang.Object)">containsKey</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>segment</code> - the segment for the given key if segmentation is enabled, otherwise 0.</dd>
<dd><code>key</code> - key of the entry to check.</dd>
<dt>Returns:</dt>
<dd>a stage that, when complete, contains a boolean stating if the value is contained in the store.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="write(int,org.infinispan.persistence.spi.MarshallableEntry)">
<h3>write</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">write</span><wbr><span class="parameters">(int&nbsp;segment,
 <a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;? extends <a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr>? extends <a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;&nbsp;entry)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#write(int,org.infinispan.persistence.spi.MarshallableEntry)">NonBlockingStore</a></code></span></div>
<div class="block">Writes the entry to the store for the given segment returning a stage that completes normally when it is finished.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#READ_ONLY"><code>NonBlockingStore.Characteristic.READ_ONLY</code></a></td>
       <td valign="top">This method will never be invoked.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#EXPIRATION"><code>NonBlockingStore.Characteristic.EXPIRATION</code></a></td>
       <td valign="top">When set, this method must store the expiration metadata.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SEGMENTABLE"><code>NonBlockingStore.Characteristic.SEGMENTABLE</code></a></td>
       <td valign="top">When set and segmentation is not disabled in the
       <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>configuration</code></a>,
       this method must ensure the segment is stored with the entry.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#write(int,org.infinispan.persistence.spi.MarshallableEntry)">write</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>segment</code> - the segment for the given key if segmentation is enabled, otherwise 0.</dd>
<dd><code>entry</code> - the entry to persist to the store.</dd>
<dt>Returns:</dt>
<dd>a stage that when complete indicates that the store has written the value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="delete(int,java.lang.Object)">
<h3>delete</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</span>&nbsp;<span class="element-name">delete</span><wbr><span class="parameters">(int&nbsp;segment,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#delete(int,java.lang.Object)">NonBlockingStore</a></code></span></div>
<div class="block">Removes the entry for given key and segment from the store
 and optionally report if the entry was actually removed or not.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#READ_ONLY"><code>NonBlockingStore.Characteristic.READ_ONLY</code></a></td>
       <td valign="top">This method will never be invoked.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SEGMENTABLE"><code>NonBlockingStore.Characteristic.SEGMENTABLE</code></a></td>
       <td valign="top">When this is not set or segmentation is disabled in the
       <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>configuration</code></a>,
       the <code>segment</code> parameter may be ignored.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#delete(int,java.lang.Object)">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>segment</code> - the segment for the given key if segmentation is enabled, otherwise 0.</dd>
<dd><code>key</code> - key of the entry to delete from the store.</dd>
<dt>Returns:</dt>
<dd>a stage that completes with <code>TRUE</code> if the key existed in the store,
 <code>FALSE</code> if the key did not exist in the store,
 or <code>null</code> if the store does not report this information.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addSegments(org.infinispan.commons.util.IntSet)">
<h3>addSegments</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">addSegments</span><wbr><span class="parameters">(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#addSegments(org.infinispan.commons.util.IntSet)">NonBlockingStore</a></code></span></div>
<div class="block">Invoked when a node becomes an owner of the given segments. Some store implementations may require initializing
 additional resources when a new segment is required. For example a store could store entries in a different file
 per segment.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SHAREABLE"><code>NonBlockingStore.Characteristic.SHAREABLE</code></a></td>
       <td valign="top">If the store has this characteristic and is configured to be <a href="../../configuration/cache/StoreConfiguration.html#shared()"><code>StoreConfiguration.shared()</code></a>,
          this method will never be invoked.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SEGMENTABLE"><code>NonBlockingStore.Characteristic.SEGMENTABLE</code></a></td>
       <td valign="top">This method is invoked only if the store has this characteristic and is configured to be
          <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>segmented</code></a>.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#addSegments(org.infinispan.commons.util.IntSet)">addSegments</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>segments</code> - the segments to add.</dd>
<dt>Returns:</dt>
<dd>a stage that, when complete, indicates that the segments have been added.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeSegments(org.infinispan.commons.util.IntSet)">
<h3>removeSegments</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">removeSegments</span><wbr><span class="parameters">(<a href="../../commons/util/IntSet.html" title="interface in org.infinispan.commons.util">IntSet</a>&nbsp;segments)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#removeSegments(org.infinispan.commons.util.IntSet)">NonBlockingStore</a></code></span></div>
<div class="block">Invoked when a node loses ownership of the given segments. A store must then remove any entries that map to the
 given segments and can remove any resources related to the given segments. For example, a database store can
 delete rows of the given segment or a file-based store can delete files related to the given segments.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SHAREABLE"><code>NonBlockingStore.Characteristic.SHAREABLE</code></a></td>
       <td valign="top">If the store has this characteristic and is configured to be
       <a href="../../configuration/cache/StoreConfiguration.html#shared()"><code>shared</code></a>, this method will never be invoked.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SEGMENTABLE"><code>NonBlockingStore.Characteristic.SEGMENTABLE</code></a></td>
       <td valign="top">This method is invoked only if the store has this characteristic and is configured to be
          <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>segmented</code></a>.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#removeSegments(org.infinispan.commons.util.IntSet)">removeSegments</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>segments</code> - the segments to remove.</dd>
<dt>Returns:</dt>
<dd>a stage that, when complete, indicates that the segments have been removed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clear()">
<h3>clear</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">clear</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#clear()">NonBlockingStore</a></code></span></div>
<div class="block">Clears all entries from the store.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#READ_ONLY"><code>NonBlockingStore.Characteristic.READ_ONLY</code></a></td>
       <td valign="top">This method will never be invoked.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#clear()">clear</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>a stage that, when complete, indicates that the store has been cleared.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="batch(int,org.reactivestreams.Publisher,org.reactivestreams.Publisher)">
<h3>batch</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">batch</span><wbr><span class="parameters">(int&nbsp;publisherCount,
 org.reactivestreams.Publisher&lt;<a href="../spi/NonBlockingStore.SegmentedPublisher.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore.SegmentedPublisher</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&gt;&nbsp;removePublisher,
 org.reactivestreams.Publisher&lt;<a href="../spi/NonBlockingStore.SegmentedPublisher.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore.SegmentedPublisher</a>&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;&gt;&gt;&nbsp;writePublisher)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#batch(int,org.reactivestreams.Publisher,org.reactivestreams.Publisher)">NonBlockingStore</a></code></span></div>
<div class="block">Writes and removes the entries provided by the Publishers into the store. Both are provided in the same method
 so that a batch may be performed as a single atomic operation if desired, although it is up to the store to
 manage its batching. If needed a store may generate batches of a configured size by using the
 <a href="../../configuration/cache/StoreConfiguration.html#maxBatchSize()"><code>StoreConfiguration.maxBatchSize()</code></a> setting.
 <p>
 Each of the <code>Publisher</code>s may publish up to <code>publisherCount</code> publishers where each
 publisher is separated by the segment each entry maps to. Failure to request at least <code>publisherCount</code> publishers from the Publisher may cause a
 deadlock. Many reactive tools have methods such as <code>flatMap</code> that take an argument of how many concurrent
 subscriptions it manages, which is perfectly matched with this argument.
 <p>
 WARNING: For performance reasons neither Publisher will emit any <a href="../spi/NonBlockingStore.SegmentedPublisher.html" title="interface in org.infinispan.persistence.spi"><code>NonBlockingStore.SegmentedPublisher</code></a>s until both write
 and remove Publishers are subscribed to. These Publishers should also be only subscribed once.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#READ_ONLY"><code>NonBlockingStore.Characteristic.READ_ONLY</code></a></td>
       <td valign="top">This method will never be invoked.</td>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#SEGMENTABLE"><code>NonBlockingStore.Characteristic.SEGMENTABLE</code></a></td>
       <td valign="top">If not set or segmentation is disabled in the
       <a href="../../configuration/cache/StoreConfiguration.html#segmented()"><code>configuration</code></a>,
       the <code>publisherCount</code> parameter has a value of 1,
       which means there is only be one <code>SegmentedPublisher</code> to subscribe to.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.
 <p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#batch(int,org.reactivestreams.Publisher,org.reactivestreams.Publisher)">batch</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>publisherCount</code> - the maximum number of <code>SegmentPublisher</code>s either publisher will publish</dd>
<dd><code>removePublisher</code> - publishes what keys should be removed from the store</dd>
<dd><code>writePublisher</code> - publishes the entries to write to the store</dd>
<dt>Returns:</dt>
<dd>a stage that when complete signals that the store has written the values</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareWithModifications(javax.transaction.Transaction,int,org.reactivestreams.Publisher,org.reactivestreams.Publisher)">
<h3>prepareWithModifications</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">prepareWithModifications</span><wbr><span class="parameters">(javax.transaction.Transaction&nbsp;transaction,
 int&nbsp;publisherCount,
 org.reactivestreams.Publisher&lt;<a href="../spi/NonBlockingStore.SegmentedPublisher.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore.SegmentedPublisher</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&gt;&nbsp;removePublisher,
 org.reactivestreams.Publisher&lt;<a href="../spi/NonBlockingStore.SegmentedPublisher.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore.SegmentedPublisher</a>&lt;<a href="../spi/MarshallableEntry.html" title="interface in org.infinispan.persistence.spi">MarshallableEntry</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;&gt;&gt;&nbsp;writePublisher)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#prepareWithModifications(javax.transaction.Transaction,int,org.reactivestreams.Publisher,org.reactivestreams.Publisher)">NonBlockingStore</a></code></span></div>
<div class="block">Write remove and put modifications to the store in the prepare phase, which should not yet persisted until the
 same transaction is committed via <a href="../spi/NonBlockingStore.html#commit(javax.transaction.Transaction)"><code>NonBlockingStore.commit(Transaction)</code></a> or they are discarded if the transaction is rolled back via
 <a href="../spi/NonBlockingStore.html#rollback(javax.transaction.Transaction)"><code>NonBlockingStore.rollback(Transaction)</code></a>.
 <p>
 Each of the <code>Publisher</code>s may publish up to <code>publisherCount</code> publishers where each
 publisher is separated by the segment each entry maps to. Failure to request at least <code>publisherCount</code> publishers from the Publisher may cause a
 deadlock. Many reactive tools have methods such as <code>flatMap</code> that take an argument of how many concurrent
 subscriptions it manages, which is perfectly matched with this argument.
 <p>
 WARNING: For performance reasons neither Publisher will emit any <a href="../spi/NonBlockingStore.SegmentedPublisher.html" title="interface in org.infinispan.persistence.spi"><code>NonBlockingStore.SegmentedPublisher</code></a>s until both write
 and remove Publishers are subscribed to. These Publishers should also be only subscribed once.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#TRANSACTIONAL"><code>NonBlockingStore.Characteristic.TRANSACTIONAL</code></a></td>
       <td valign="top">This method is invoked only if the store has this characteristic.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#prepareWithModifications(javax.transaction.Transaction,int,org.reactivestreams.Publisher,org.reactivestreams.Publisher)">prepareWithModifications</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>transaction</code> - the current transactional context.</dd>
<dd><code>publisherCount</code> - the maximum number of <code>SegmentPublisher</code>s either publisher will publish</dd>
<dd><code>removePublisher</code> - publishes what keys should be removed from the store</dd>
<dd><code>writePublisher</code> - publishes the entries to write to the store</dd>
<dt>Returns:</dt>
<dd>a stage that when complete signals that the store has written the values</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="commit(javax.transaction.Transaction)">
<h3>commit</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">commit</span><wbr><span class="parameters">(javax.transaction.Transaction&nbsp;transaction)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#commit(javax.transaction.Transaction)">NonBlockingStore</a></code></span></div>
<div class="block">Commit changes in the provided transaction to the underlying store.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#TRANSACTIONAL"><code>NonBlockingStore.Characteristic.TRANSACTIONAL</code></a></td>
       <td valign="top">This method is invoked only if the store has this characteristic.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#commit(javax.transaction.Transaction)">commit</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>transaction</code> - the current transactional context.</dd>
<dt>Returns:</dt>
<dd>a stage that, when completed, indicates that the transaction was committed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rollback(javax.transaction.Transaction)">
<h3>rollback</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" title="class or interface in java.util.concurrent" class="external-link">CompletionStage</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">rollback</span><wbr><span class="parameters">(javax.transaction.Transaction&nbsp;transaction)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#rollback(javax.transaction.Transaction)">NonBlockingStore</a></code></span></div>
<div class="block">Roll back the changes from the provided transaction to the underlying store.
 <p>
 <h4>Summary of Characteristics Effects</h4>
 <table border="1" cellpadding="1" cellspacing="1" summary="Summary of Characteristics Effects">
    <tr>
       <th bgcolor="#CCCCFF" align="left">Characteristic</th>
       <th bgcolor="#CCCCFF" align="left">Effect</th>
    </tr>
    <tr>
       <td valign="top"><a href="../spi/NonBlockingStore.Characteristic.html#TRANSACTIONAL"><code>NonBlockingStore.Characteristic.TRANSACTIONAL</code></a></td>
       <td valign="top">This method is invoked only if the store has this characteristic.</td>
    </tr>
 </table>
 <p>
 If a problem is encountered, it is recommended to wrap any created/caught Throwable in a
 <a href="../spi/PersistenceException.html" title="class in org.infinispan.persistence.spi"><code>PersistenceException</code></a> and the stage be completed exceptionally.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#rollback(javax.transaction.Transaction)">rollback</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>transaction</code> - the current transactional context.</dd>
<dt>Returns:</dt>
<dd>a stage that, when completed, indicates that the transaction was rolled back.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ignoreCommandWithFlags(long)">
<h3>ignoreCommandWithFlags</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">ignoreCommandWithFlags</span><wbr><span class="parameters">(long&nbsp;commandFlags)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../spi/NonBlockingStore.html#ignoreCommandWithFlags(long)">NonBlockingStore</a></code></span></div>
<div class="block">Some stores may not want to perform operations based on if a command has certain flags. This method is currently
 only used for testing single write operations. This method may be removed at any time as it is experimental, it is
 not recommended for end users to implement it.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../spi/NonBlockingStore.html#ignoreCommandWithFlags(long)">ignoreCommandWithFlags</a></code>&nbsp;in interface&nbsp;<code><a href="../spi/NonBlockingStore.html" title="interface in org.infinispan.persistence.spi">NonBlockingStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>commandFlags</code> - the flags attributed to the command when performing the operation.</dd>
<dt>Returns:</dt>
<dd>whether the operation should occur.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="transactionalStore()">
<h3>transactionalStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../spi/TransactionalCacheWriter.html" title="interface in org.infinispan.persistence.spi">TransactionalCacheWriter</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</span>&nbsp;<span class="element-name">transactionalStore</span>()</div>
</section>
</li>
<li>
<section class="detail" id="segmentedStore()">
<h3>segmentedStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../spi/SegmentedAdvancedLoadWriteStore.html" title="interface in org.infinispan.persistence.spi">SegmentedAdvancedLoadWriteStore</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</span>&nbsp;<span class="element-name">segmentedStore</span>()</div>
</section>
</li>
<li>
<section class="detail" id="advancedLoader()">
<h3>advancedLoader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../spi/AdvancedCacheLoader.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheLoader</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</span>&nbsp;<span class="element-name">advancedLoader</span>()</div>
</section>
</li>
<li>
<section class="detail" id="advancedWriter()">
<h3>advancedWriter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../spi/AdvancedCacheWriter.html" title="interface in org.infinispan.persistence.spi">AdvancedCacheWriter</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</span>&nbsp;<span class="element-name">advancedWriter</span>()</div>
</section>
</li>
<li>
<section class="detail" id="loader()">
<h3>loader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../spi/CacheLoader.html" title="interface in org.infinispan.persistence.spi">CacheLoader</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</span>&nbsp;<span class="element-name">loader</span>()</div>
</section>
</li>
<li>
<section class="detail" id="writer()">
<h3>writer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../spi/CacheWriter.html" title="interface in org.infinispan.persistence.spi">CacheWriter</a>&lt;<a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">K</a>,<wbr><a href="NonBlockingStoreAdapter.html" title="type parameter in NonBlockingStoreAdapter">V</a>&gt;</span>&nbsp;<span class="element-name">writer</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 <a href="http://www.jboss.org">JBoss, a division of Red Hat</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
