<!DOCTYPE HTML>
<html lang="en">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GPD7V946LB"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-GPD7V946LB');
</script>
<!-- Generated by javadoc (17) on Tue Feb 18 11:42:39 CET 2025 -->
<title>org.infinispan.spring.common.provider (Infinispan 14.0 JavaDoc)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-02-18">
<meta name="description" content="declaration: package: org.infinispan.spring.common.provider">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language">Infinispan 14.0.33.Final</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package org.infinispan.spring.common.provider" class="title">Package org.infinispan.spring.common.provider</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">org.infinispan.spring.common.provider</span></div>
<section class="package-description" id="package-description">
<div class="block"><h1>Spring Infinispan - An implementation of Spring's Cache SPI based on JBoss Infinispan.</h1>
 <p>
 Spring 3.1 introduces caching capabilities a user may comfortably utilize via a set of custom annotations, thus telling
 the Spring runtime which objects to cache under which circumstances.</br>
 Out of the box, Spring ships with <a href="">EHCache</a> as the caching provider to delegate to. It defines, however, a
 simple SPI vendors may implement for their own caching solution, thus enabling Spring users to swap out the default
 EHCache for another cache of their choosing. This SPI comprises two interfaces:
 <ul>
   <li>
     <code><code>Cache</code></code>, Spring's cache abstraction itself, and
   </li>
   <li>
     <code><code>CacheManager</code></code>, a service for creating <code>Cache</code>
     instances
   </li>
 </ul>
 <em>Spring Infinispan</em> implements this SPI for JBoss Infinispan.
 </p>
 <p>
 While <em>Spring Infinispan</em> offers only one implementation of <code>org.springframework.cache.Cache</code>, namely
 <a href="SpringCache.html" title="class in org.infinispan.spring.common.provider"><code><code>org.infinispan.spring.common.provider.SpringCache</code></code></a>, there are two implementations
 of <code>org.springframework.cache.CacheManager</code>:
 <ol>
   <li>
     <code><code>org.infinispan.spring.provider.SpringEmbeddedCacheManager</code></code>
     and
   </li>
   <li>
     <code><code>org.infinispan.spring.provider.SpringRemoteCacheManager</code></code>.
   </li>
 </ol>
 These two implementations cover two distinct use cases:
 <ol>
   <li>
     <strong>Embedded</strong>: Embed your Spring-powered application into the same JVM running an Infinispan node, i.e. every
     communication between application code and Infinispan is in-process. Infinispan supports this use case via the interface
     <a href="../../../manager/EmbeddedCacheManager.html" title="interface in org.infinispan.manager"><code><code>org.infinispan.manager.EmbeddedCacheManager</code></code></a> and its default
     implementation <a href="../../../manager/DefaultCacheManager.html" title="class in org.infinispan.manager"><code><code>org.infinispan.manager.DefaultCacheManager</code></code></a>. The
     latter backs <code><code>SpringEmbeddedCacheManager</code></code>.
   </li>
   <li>
     <strong>Remote</strong>: Application code accesses Infinispan nodes remotely using Infinispan's own <em>hotrod</em>
     protocol. Infinispan supports this use case via <a href="../../../client/hotrod/RemoteCacheManager.html" title="class in org.infinispan.client.hotrod"><code><code>org.infinispan.client.hotrod.RemoteCacheManager</code></code></a>. <code><code>SpringRemoteCacheManager</code></code> delegates to it.
   </li>
 </ol>
 </p>
 <strong>Usage</strong>
 <p>
 Using <em>Spring Infinispan</em> as a Spring Cache provider may be divided into two broad areas:
 <ol>
   <li>
     Telling the Spring runtime to use <em>Spring Infinispan</em> and therefore Infinispan as its caching provider.
   </li>
   <li>
     Using Spring's caching annotations in you application code.
   </li>
 </ol>
 </p>
 <p>
 <em>Register Spring Infinispan with the Spring runtime</em>
 <p>
 Suppose we want to use <em>Spring Infinispan</em> running in embedded mode as our caching provider, and suppose further that
 we want to create two named cache instances, &quot;cars&quot; and &quot;planes&quot;. To that end, we put
 <pre>
 &lt;beans xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:cache="http://www.springframework.org/schema/cache"
        xmlns:p="http://www.springframework.org/schema/p"
        xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
               http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd"&gt;
     &lt;cache:annotation-driven /&gt;

     &lt;bean id="cacheManager" class="org.infinispan.spring.SpringEmbeddedCacheManagerFactoryBean"
              p:configuration-file-location="classpath:/org/infinispan/spring/embedded/example/infinispan-sample-config.xml"/&gt;

 &lt;/beans&gt;
 </pre>
 in our Spring application context. It is important to note that <code>classpath:/org/infinispan/spring/embedded/example/infinispan-sample-config.xml</code>
 points to a configuration file in the standard Infinispan configuration format that includes sections for two named caches
 &quot;cars&quot; and &quot;planes&quot;. If those sections are missing the above application context will still work, yet the
 two caches &quot;cars&quot; and &quot;planes&quot; will be configured using the default settings defined in
 <code>classpath:/org/infinispan/spring/embedded/example/infinispan-sample-config.xml</code>.<br/>
 To further simplify our setup we may omit the reference to an Infinispan configuration file in which case the underlying
 <a href="../../../manager/EmbeddedCacheManager.html" title="interface in org.infinispan.manager"><code><code>org.infinispan.manager.EmbeddedCacheManager</code></code></a> will use Infinispan's
 default settings.
 </p>
 <p>
 For more advanced ways to configure the underlying Infinispan <code>EmbeddedCacheManager</code> see
 <code><code>org.infinispan.spring.provider.SpringEmbeddedCacheManagerFactoryBean</code></code>.
 </p>
 <p>
 If running Infinispan in remote mode the above configuration changes to
 <pre>
 &lt;beans xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:cache="http://www.springframework.org/schema/cache"
        xmlns:p="http://www.springframework.org/schema/p"
        xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
               http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd"&gt;
     &lt;cache:annotation-driven /&gt;

     &lt;bean id="cacheManager" class="org.infinispan.spring.SpringEmbeddedCacheManagerFactoryBean"
              p:configuration-properties-file-location="classpath:/org/infinispan/spring/remote/example/hotrod-client-sample.properties"/&gt;

 &lt;/beans&gt;
 </pre>
 </p>
 <p>
 For more advanced ways to configure the underlying Infinispan <code>RemoteCacheManager</code> see
 <code><code>org.infinispan.spring.provider.SpringRemoteCacheManagerFactoryBean</code></code>.
 </p>
 <em>Using Spring's caching annotations in application code</em>
 <p>
 A detailed discussion about how to use Spring's caching annotations <code><code>@Cacheable</code></code>
 and <code><code>@CacheEvict</code></code> is beyond this documentation's scope. A simple example may
 serve as a starting point:
 <pre>
 import org.springframework.cache.annotation.CacheEvict;
 import org.springframework.cache.annotation.Cacheable;
 import org.springframework.stereotype.Repository;

 &#064;Repository
 public class CarRepository {

   &#064;Cacheable("cars")
   public Car getCar(Long carId){
       ...
   }

   &#064;CacheEvict(value="cars", key="car.id")
   public void saveCar(Car car){
       ...
   }
 }
 </pre>
 In both <code>&#064;Cache("cars")</code> and <code>&#064;CacheEvict(value="cars", key="car.id")</code> &quot;cars&quot; refers to the name of the cache to either
 store the returned <code>Car</code> instance in or to evict the saved/updated <code>Car</code> instance from. For a more detailed explanation of
 how to use <code>&#064;Cacheable</code> and <code>&#064;CacheEvict</code> see the relevant reference documentation
 <a href="http://docs.spring.io/spring/docs/3.2.9.RELEASE/spring-framework-reference/html/cache.html">chapter</a>.
 </p></div>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="../package-summary.html">org.infinispan.spring.common</a></div>
<div class="col-last even-row-color">
<div class="block">Spring Infinispan - Shared classes.</div>
</div>
<div class="col-first odd-row-color"><a href="../config/package-summary.html">org.infinispan.spring.common.config</a></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><a href="../session/package-summary.html">org.infinispan.spring.common.session</a></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="caption"><span>Classes</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SpringCache.html" title="class in org.infinispan.spring.common.provider">SpringCache</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">
 A <code><code>Cache</code></code> implementation that delegates to a
 <a href="../../../Cache.html" title="interface in org.infinispan"><code><code>org.infinispan.Cache</code></code></a> instance supplied at construction
 time.</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 <a href="http://www.jboss.org">JBoss, a division of Red Hat</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
