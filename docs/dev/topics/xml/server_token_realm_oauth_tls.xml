<server xmlns="urn:infinispan:server:{schemaversion}">
   <security>
      <security-realms>
         <security-realm name="keycloak">
            <server-identities>
               <ssl>
                  <truststore path="keycloak-trust.pfx" password="secret"/>
               </ssl>
            </server-identities>
         </security-realm>
         <security-realm name="default">
            <!-- The TLS identity of this server -->
            <server-identities>
               <ssl>
                  <keystore path="server.pfx" password="secret" alias="server"/>1
               </ssl>
            </server-identities>
            <!-- Specifies the URL of the authentication server. -->
            <token-realm name="token"
                         auth-server-url="https://oauth-server/auth/">
               <!-- Specifies the URL of the token introspection endpoint and uses the `keycloak` SSL context defined above to trust the server -->
               <oauth2-introspection introspection-url="https://oauth-server/auth/realms/infinispan/protocol/openid-connect/token/introspect"
                                     client-id="infinispan-server"
                                     client-secret="1fdca4ec-c416-47e0-867a-3d471af7050f"
                                     client-ssl-context="keycloak"
               />
            </token-realm>
         </security-realm>
      </security-realms>
   </security>
   <endpoints socket-binding="default" security-realm="default"/>
</server>
