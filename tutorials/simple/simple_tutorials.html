<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Infinispan Code Tutorials</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Infinispan Code Tutorials</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#building-and-running_{context}">Building and running the tutorials</a></li>
<li><a href="#embedded-tutorials">1. Embedded caches</a>
<ul class="sectlevel2">
<li><a href="#embedded-tutorials_embedded-cache-tutorials">1.1. Embedded cache tutorials</a></li>
<li><a href="#embedded-kubernetes_tutorial_embedded-cache-tutorials">1.2. Kubernetes and Openshift tutorial</a></li>
</ul>
</li>
<li><a href="#remote-tutorials">2. Remote caches</a>
<ul class="sectlevel2">
<li><a href="#remote-tutorials_remote-cache-tutorials">2.1. Remote cache tutorials</a></li>
<li><a href="#hotrod-java-tutorials_remote-cache-tutorials">2.2. Hot Rod Java client tutorials</a></li>
<li><a href="#hotrod-js-tutorials_remote-cache-tutorials">2.3. Hot Rod Node.JS client tutorials</a></li>
<li><a href="#hotrod-dotnet-tutorials_remote-cache-tutorials">2.4. Hot Rod .NET/C# client tutorials</a></li>
<li><a href="#hotrod-cpp-tutorials_remote-cache-tutorials">2.5. Hot Rod C++ client tutorials</a></li>
<li><a href="#cross-site-replication_remote-cache-tutorials">2.6. Cross-site replication</a>
<ul class="sectlevel3">
<li><a href="#_docker_compose">2.6.1. Docker compose</a></li>
<li><a href="#_minikube_and_infinispan_operator">2.6.2. Minikube and Infinispan Operator</a></li>
</ul>
</li>
<li><a href="#secured_with_token_keycloak_remote-cache-tutorials">2.7. Token based Security Realm with Keycloak</a>
<ul class="sectlevel3">
<li><a href="#_docker_compose_2">2.7.1. Docker compose</a></li>
</ul>
</li>
<li><a href="#tracing_remote-cache-tutorials">2.8. Tracing with OpenTelemetry</a>
<ul class="sectlevel3">
<li><a href="#_docker_compose_3">2.8.1. Docker compose</a></li>
</ul>
</li>
<li><a href="#reverse-proxy-nginx_remote-cache-tutorials">2.9. Reverse proxy example with NGINX</a>
<ul class="sectlevel3">
<li><a href="#_docker_compose_4">2.9.1. Docker compose</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#spring-tutorials">3. Spring and Spring Boot</a>
<ul class="sectlevel2">
<li><a href="#spring-tutorials_spring-tutorials">3.1. Spring and Spring Boot tutorials</a></li>
</ul>
</li>
<li><a href="#quarkus-tutorials">4. Quarkus</a>
<ul class="sectlevel2">
<li><a href="#quarkus-tutorials_quarkus-tutorials">4.1. Quarkus tutorials</a>
<ul class="sectlevel3">
<li><a href="#_infinispan_documentation_4">4.1.1. Infinispan documentation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#hibernate-tutorials">5. Hibernate</a>
<ul class="sectlevel2">
<li><a href="#hibernate-tutorials_hibernate-tutorials">5.1. Hibernate tutorials</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Run these code examples that demonstrate Infinispan capabilities and show you how to start using Infinispan caches with your applications.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-and-running_{context}"><a class="anchor" href="#building-and-running_{context}"></a>Building and running the tutorials</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Install the required Java and Maven versions before you build and run Infinispan Code Tutorials.</p>
</div>
<div class="ulist">
<div class="title">Java</div>
<ul>
<li>
<p>Infinispan requires Java 17 as the minimum version.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Maven</div>
<p>To build the tutorials you must use <a href="https://maven.apache.org/">Maven</a> 3.x or greater.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Clone the <a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main">Infinispan Code Tutorials</a> repository.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">$ git clone git@github.com:infinispan/infinispan-simple-tutorials.git</code></pre>
</div>
</div>
</li>
<li>
<p>Run the following command from the root directory:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">$ ./mvnw clean install -DskipTests=true</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="embedded-tutorials"><a class="anchor" href="#embedded-tutorials"></a>1. Embedded caches</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add Infinispan as a dependency to your Java project and use embedded caches that increase application performance and give you capabilities to handle complex use cases.</p>
</div>
<div class="sect2">
<h3 id="embedded-tutorials_embedded-cache-tutorials"><a class="anchor" href="#embedded-tutorials_embedded-cache-tutorials"></a>1.1. Embedded cache tutorials</h3>
<div class="paragraph">
<p>You can run embedded cache tutorials directly in your IDE or from the command line as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">$ ./mvnw clean package exec:exec</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tutorial link</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/cache-distributed">Distributed caches</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how Distributed Caches work.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/cache-replicated">Replicated caches</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how Replicated Caches work.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/cache-invalidated">Invalidated caches</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how Invalidated Caches work.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/cache-alias">Cache alias</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how Cache alias work.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/transactions">Transactions</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how transactions work.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/security">Cache security</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to integrate an application with Infinispan security features.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/streams">Streams</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how Distributed Streams work.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/jcache">JCache integration</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how JCache works.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/functional">Functional Maps</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how Functional Map API works.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/map">Map API</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how the Map API works with Infinispan caches.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/multimap">Multimap</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use Multimap.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/metrics">Metrics</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to enable and extract metrics in Infinispan.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/query">Queries</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses Infinispan Query to perform full-text queries on cache values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/query-programmatic-index">Query with programmatic index definition</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses Infinispan Query to perform full-text queries on cache values, with programmatic index definition.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/listeners">Clustered Listeners</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detects when data changes in an embedded cache with Clustered Listeners.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/counter">Counters</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use an embedded Clustered Counter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/lock">Clustered Locks</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use an embedded Clustered Lock.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/clusterexec">Clustered execution</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use an embedded Clustered Counter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-embedded/kubernetes">Kubernetes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to deploy Infinispan Embedded in Kubernetes.
However, the recommended way to use Kubernetes and Infinispan is the Infinispan Operator.</p></td>
</tr>
</tbody>
</table>
<h4 id="_infinispan_documentation" class="discrete">Infinispan documentation</h4>
<div class="paragraph">
<p>You can find more resources about embedded caches in our documentation at:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/embedding/embedding.html">Embedding Infinispan Caches</a></p>
</li>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/query/query.html">Querying Infinispan caches</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="embedded-kubernetes_tutorial_embedded-cache-tutorials"><a class="anchor" href="#embedded-kubernetes_tutorial_embedded-cache-tutorials"></a>1.2. Kubernetes and Openshift tutorial</h3>
<div class="paragraph">
<p>This tutorial contains instructions on how to run Infinispan library mode (as a microservice) in Kubernetes/OpenShift.</p>
</div>
<div class="paragraph">
<p>Prerequisites: Maven and Docker daemon running in the background.</p>
</div>
<h4 id="_prerequisites" class="discrete">Prerequisites</h4>
<div class="ulist">
<ul>
<li>
<p>A running Openshift or Kubernetes cluster</p>
</li>
</ul>
</div>
<h4 id="_building_the_tutorial" class="discrete">Building the tutorial</h4>
<div class="paragraph">
<p>This tutorial is built using the maven command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">./mvnw package</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that <code>target/</code> directory contains additional directories like <code>docker</code> (with generated Dockerfile) and <code>classes/META-INF/jkube</code> with Kubernetes and OpenShift deployment templates.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If the Docker Daemon is down, the build will omit processing Dockerfiles. Use <code>docker</code> profile to turn it on manually.
</td>
</tr>
</table>
</div>
<h4 id="_deploying_the_tutorial_to_kubernetes" class="discrete">Deploying the tutorial to Kubernetes</h4>
<div class="paragraph">
<p>This is handle by the JKube maven plugin, just invoke:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">mvn k8s:build k8s:push k8s:resource k8s:apply -Doptions.image=&lt;IMAGE_NAME&gt; <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>IMAGE_NAME</code> must be replaced with the FQN of the container to deploy to Kubernetes. This container must be created
in a repository that you have permissions to push to and is accessible from within your Kubernetes cluster.</td>
</tr>
</table>
</div>
<h4 id="_viewing_and_scaling_up" class="discrete">Viewing and scaling up</h4>
<div class="paragraph">
<p>Everything should be up and running at this point. Now login into the OpenShift or Kubernetes cluster and scale the application</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl scale --replicas=3  deployment/$(kubectl get rs --namespace=myproject | grep infinispan | awk '{print $1}') --namespace=myproject</code></pre>
</div>
</div>
<h4 id="_undeploying_the_tutorial" class="discrete">Undeploying the tutorial</h4>
<div class="paragraph">
<p>This is handled by the JKube maven plugin, just invoke:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>mvn k8s:undeploy</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="remote-tutorials"><a class="anchor" href="#remote-tutorials"></a>2. Remote caches</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deploy multiple Infinispan Server instances to create remote cache clusters that give you a fault-tolerant and scalable data tier with high-speed access from Hot Rod and REST clients.</p>
</div>
<div class="sect2">
<h3 id="remote-tutorials_remote-cache-tutorials"><a class="anchor" href="#remote-tutorials_remote-cache-tutorials"></a>2.1. Remote cache tutorials</h3>
<div class="paragraph">
<p>To run these tutorials you need at least one locally running instance of Infinispan Server.
Each tutorial will try to connect to a running server in <code>localhost:11222</code> with
<code>admin/password</code> credentials. However, if a Docker instance is found, and the server is not running,
tutorials will spin up a local server with <code>Testcontainers</code>.</p>
</div>
<div class="paragraph">
<p>To run the Server as a container image, visit the "Get Started" page
in the Infinispan Website:</p>
</div>
<div class="paragraph">
<p><a href="https://infinispan.org/get-started/">Get Started with Infinispan</a></p>
</div>
<div class="paragraph">
<p>You can <a href="https://infinispan.org/download/">download</a> the distribution and run the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">$ ./bin/cli.sh user create admin -p "password"
$ ./bin/server.sh</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Infinispan Server enables authentication and authorization by default.
Creating a user named <code>admin</code> gives you administrative access to Infinispan Server.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Building and running remote cache tutorials</div>
<p>You can build and run remote cache tutorials directly in your IDE or from the command line as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">$ ./mvnw clean package exec:exec</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="hotrod-java-tutorials_remote-cache-tutorials"><a class="anchor" href="#hotrod-java-tutorials_remote-cache-tutorials"></a>2.2. Hot Rod Java client tutorials</h3>
<div class="ulist">
<ul>
<li>
<p>Infinispan requires Java 11 at a minimum. However, Hot Rod Java clients running in applications that require Java 8 can continue using older versions of client libraries.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tutorial link</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/cache">Remote cache use example</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The simplest code example that demonstrates how a remote distributed cache works.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/cache-alias">Remote cache with cache alias example</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to update a cache config to add an alias and use it to manipulate the cache.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/per-cache-configuration">Per cache configuration</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to configure caches dynamically when we connect to the Infinispan Server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/near-cache">Near caches</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how configure near caching to improve the read performance in remote caches.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/cache-admin-api">Cache Admin API</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use the Administration API to create caches and cache templates dynamically.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/encoding">Encoding</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how encoding of caches work.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/programmatic-protostream-marshalling">Custom marshalling</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how custom marshalling works in the context of programmatically creating Protostream schemas and marshallers. Users should generally rely on annotations based generated Protostream marshallers unless exceptional circumstances require manual creation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/schemas">Protostream schemas administration</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use the Administration API to manipulate the Protostream (protobuf format) schemas in Infinispan.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/listeners">Client listeners</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detect when data changes in a remote cache with Client Listeners.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/query">Query</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to query remote cache values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/continuous-query">Continuous query</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use Continuous Query and remote caches.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/transactions">Transactions</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how remote transactions work.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/security/secured-cache">Secured caches</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to configure caches that have authorization enabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/security/tls-authorization">TLS authorization</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to connect to Infinispan Server with TLS authorization.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/multimap">Multimap</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how remote multimap works.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/tasks">Task execution</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to register server tasks and how to execute them from the Hot Rod client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/junit5">JUnit 5 and Testcontainers</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use the Infinispan and JUnit 5 extension.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/persistence">Persistence</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use the Infinispan and persistent caches.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/redis-client">Redis Client</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use the Infinispan and Redis client to read and write using the Resp protocol.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/reactive-api">Reactive API</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use the Infinispan with the reactive API based on Mutiny.</p></td>
</tr>
</tbody>
</table>
<h4 id="_infinispan_documentation_2" class="discrete">Infinispan documentation</h4>
<div class="paragraph">
<p>You can find more resources for Hot Rod Java clients in our documentation at:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html">Hot Rod Java client guide</a></p>
</li>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/encoding/encoding.html">Marshalling and Encoding Data Guide</a></p>
</li>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/query/query.html">Querying Infinispan caches</a></p>
</li>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/rest/rest.html">REST API</a></p>
</li>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/resp/resp-endpoint.html">Resp Protocol</a></p>
</li>
<li>
<p><a href="https://smallrye.io/smallrye-mutiny">Smallrye Mutiny</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="hotrod-js-tutorials_remote-cache-tutorials"><a class="anchor" href="#hotrod-js-tutorials_remote-cache-tutorials"></a>2.3. Hot Rod Node.JS client tutorials</h3>
<h4 id="_prerequisites_2" class="discrete">Prerequisites</h4>
<div class="ulist">
<ul>
<li>
<p>Node.js 12 or 14</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Build</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npm install</code></pre>
</div>
</div>
<h4 id="_running_the_example" class="discrete">Running the example</h4>
<div class="paragraph">
<p>Create a cache named <code>my-cache</code> using the <a href="http://localhost:11222/">Infinispan Console</a>.</p>
</div>
<div class="listingblock">
<div class="title">'my-cache' cache configuration</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"distributed-cache": {
  "mode": "SYNC",
    "encoding": {
    "media-type": "text/plain"
    },
  "statistics": true
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Execution</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">node index.js</code></pre>
</div>
</div>
<div class="paragraph">
<p>Check with the Infinispan Console <a href="http://localhost:11222/console/my-cach">the <code>my-cache</code> cache detail</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="hotrod-dotnet-tutorials_remote-cache-tutorials"><a class="anchor" href="#hotrod-dotnet-tutorials_remote-cache-tutorials"></a>2.4. Hot Rod .NET/C# client tutorials</h3>
<h4 id="_prerequisites_3" class="discrete">Prerequisites</h4>
<div class="ulist">
<ul>
<li>
<p>.NET C# Client assembly. You can get it either:</p>
<div class="ulist">
<ul>
<li>
<p>from source <a href="https://github.com/infinispan/dotnet-client" class="bare">https://github.com/infinispan/dotnet-client</a></p>
</li>
<li>
<p>from install pack <a href="http://infinispan.org/hotrod-clients/" class="bare">http://infinispan.org/hotrod-clients/</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h4 id="_running_the_example_2" class="discrete">Running the example</h4>
<div class="paragraph">
<p>Do one of the following (1,2 may be suitable for devs while 3 is for runtime):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy in this directory (aside this README.md) the following dlls:</p>
<div class="ulist">
<ul>
<li>
<p>hotrodcs.dll</p>
</li>
<li>
<p>hotrod.dll</p>
</li>
<li>
<p>hotrod_wrap.dll</p>
</li>
<li>
<p>libeay32.dll (SSL stuff)</p>
</li>
<li>
<p>ssleay32.dll (SSL stuff)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Update dlls location in simple.csproj with the right paths in your file system</p>
</li>
<li>
<p>Install the binary client on the machine, update the PATH env. variable to include the bin and lib directories of the installed pack, install your application.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>HINT THAT CAN SAVE YOU A LOT OF TIME: the .csproj at build time will copy the dlls into the output directory aside the application,
this is the simplest way to run the example without changing your setting (PATH variable).
As a general rule remember that the unmanaged libraries (hotrod_wrap, hotrod, libeay32, libssl32)
must be either in the PATH or in the application working directory.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="hotrod-cpp-tutorials_remote-cache-tutorials"><a class="anchor" href="#hotrod-cpp-tutorials_remote-cache-tutorials"></a>2.5. Hot Rod C++ client tutorials</h3>
<h4 id="_prerequisites_4" class="discrete">Prerequisites</h4>
<div class="ulist">
<ul>
<li>
<p>Centos 7 (RHEL 7 should work also)</p>
</li>
<li>
<p>Infinispan Server running with the default standalone configuration</p>
</li>
</ul>
</div>
<h4 id="_docker" class="discrete">Docker</h4>
<div class="paragraph">
<p>Here is a easy way to setup a Docker container running Centos 7, so you can run the
tutorial in a confined environment.</p>
</div>
<h5 id="_setup_the_server" class="discrete">Setup the Server</h5>
<div class="paragraph">
<p>On the host machine, start at least one Infinispan Server instance.</p>
</div>
<div class="paragraph">
<p>Create a default cache</p>
</div>
<div class="literalblock">
<div class="content">
<pre>curl -vvvv -X POST http://127.0.0.1:11222/rest/v2/caches/default</pre>
</div>
</div>
<div class="paragraph">
<p>Change to this README directory, download the client .rpm</p>
</div>
<div class="literalblock">
<div class="content">
<pre>    wget https://downloads.jboss.org/infinispan/HotRodCPP/8.3.1.Final/infinispan-hotrod-cpp-8.3.1.Final-RHEL-x86_64.rpm
Start the Centos Docker container</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>docker run -i -t -v $PWD:/home/infinispan/git/infinispan-simple-tutorial:Z --network="host" centos:7</pre>
</div>
</div>
<h5 id="_on_the_container" class="discrete">On the Container</h5>
<h6 id="_build_the_client" class="discrete">Build the client</h6>
<div class="literalblock">
<div class="content">
<pre>cd /home/infinispan/git/infinispan-simple-tutorial/c++
yum install wget unzip cmake make gcc-c++ protobuf-devel cyrus-sasl-devel
rpm -i --force infinispan-hotrod-cpp-8.3.1.Final-RHEL-x86_64.rpm
mkdir build &amp;&amp; pushd build
cmake ..
cmake --build .</pre>
</div>
</div>
<h6 id="_run_the_client" class="discrete">Run the client</h6>
<div class="literalblock">
<div class="content">
<pre>LD_LIBRARY_PATH=/usr/lib ./simple</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cross-site-replication_remote-cache-tutorials"><a class="anchor" href="#cross-site-replication_remote-cache-tutorials"></a>2.6. Cross-site replication</h3>
<div class="paragraph">
<p>Learn how to set up two clusters locally and using Infinispan cross site replication.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/cross-site-replication">Cross site replication tutorial</a></p>
</div>
<div class="paragraph">
<p>In this tutorial, you start two Infinispan clusters, LON and NY, that provide backups for each other.
This tutorial demonstrates Infinispan cross-site replication capabilities locally using <code>docker-compose</code>
or the Infinispan Operator with a local Kubernetes cluster like Minikube.
In production environments, Infinispan cluster backups are typically located in different data centers.</p>
</div>
<div class="sect3">
<h4 id="_docker_compose"><a class="anchor" href="#_docker_compose"></a>2.6.1. Docker compose</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Make sure you have <code>docker</code> and <code>docker-compose</code> installed locally.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Run <code>docker-compose up</code>. The docker-compose yaml creates the LON and NYC clusters using the <code>infinispan-xsite.xml</code> file.
Access the console of the <code>LON</code> cluster site at <code><a href="http://localhost:11222/console" class="bare">http://localhost:11222/console</a></code>.</p>
</li>
<li>
<p>Access the console of the <code>NYC</code> cluster site at <code><a href="http://localhost:31222/console" class="bare">http://localhost:31222/console</a></code>.</p>
</li>
<li>
<p>Run <code>./create-data.sh</code> to create some sample data. The script creates a cache named <code>xsiteCache</code> in the LON cluster that defines the NYC site as a backup.
It is also worth noting that cache topologies can be different when using cross-site replication. In this
example, the cache in LON is distributed while the cache in NYC is replicated.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_minikube_and_infinispan_operator"><a class="anchor" href="#_minikube_and_infinispan_operator"></a>2.6.2. Minikube and Infinispan Operator</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Make sure you have <code>minikube</code> installed locally.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Run <strong><code>./setup.sh</code></strong>: This script starts minikube, installs the Infinispan Operator, deploys two clusters (LON and NYC) and creates the caches.</p>
</li>
<li>
<p>Run <strong><code>./create-data.sh</code></strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Both sites are accessible externally using the Infinispan Console through</p>
</div>
<div class="ulist">
<ul>
<li>
<p>LON <code>(minikube service --url example-cluster-lon-external</code></p>
</li>
<li>
<p>NYC <code>minikube service --url example-cluster-nyc-external</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The credentials are configured using Kubernetes secrets (<code>identities_lon.yaml</code> and <code>identities_nyc.yaml</code>).</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To go further use the Infinispan Console or the REST API, add launch additional Cross-Site operations.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/xsite/xsite.html">Cross-Site Replication Guide</a></p>
</li>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/rest/rest.html#rest_v2_cache_operations">REST API: Cross-Site Replication</a></p>
</li>
<li>
<p><a href="https://infinispan.org/docs/infinispan-operator/main/operator.html">Infinispan Operator</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="secured_with_token_keycloak_remote-cache-tutorials"><a class="anchor" href="#secured_with_token_keycloak_remote-cache-tutorials"></a>2.7. Token based Security Realm with Keycloak</h3>
<div class="paragraph">
<p>Learn how to handle security authentication in Infinispan with Keycloak.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/infinispan-secured-keycloak">Token based security tutorial with Keycloak</a></p>
</div>
<div class="paragraph">
<p>In this tutorial, you start one Infinispan cluster and Keycloak.
This tutorial demonstrates Infinispan security capabilities locally using <code>docker-compose</code>.</p>
</div>
<div class="sect3">
<h4 id="_docker_compose_2"><a class="anchor" href="#_docker_compose_2"></a>2.7.1. Docker compose</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Make sure you have <code>docker</code> and <code>docker-compose</code> installed locally.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Run <code>docker-compose up</code>. Keycloak and Infinispan will start with all the necessary configuration.</p>
</li>
<li>
<p>Access the console at <code><a href="http://localhost:11222/console" class="bare">http://localhost:11222/console</a></code>. You should be redirected to Keycloak login.</p>
</li>
<li>
<p>Enter 'admin/adminPassword' credentials in the login page.</p>
</li>
<li>
<p>You are now back in the console, logged in.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you are using Docker of Mac or Docker Desktop, <code>network_mode: host</code> might still not be supported.
In that case, run <code>docker-compose -f docker-compose-no-linux.yaml up</code> and add <code>127.0.0.1  keycloak</code>
to <code>/etc/hosts</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tracing_remote-cache-tutorials"><a class="anchor" href="#tracing_remote-cache-tutorials"></a>2.8. Tracing with OpenTelemetry</h3>
<div class="paragraph">
<p>Learn how to set up a server with traces enabled.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/infinispan-remote/opentelemetry">Tracing and OpenTelemetry tutorial</a></p>
</div>
<div class="paragraph">
<p>In this tutorial, you start a Infinispan server with tracing enabled. Tracing is done
using Jaeger.
This tutorial demonstrates Infinispan observability capabilities locally using <code>docker-compose</code>.</p>
</div>
<div class="sect3">
<h4 id="_docker_compose_3"><a class="anchor" href="#_docker_compose_3"></a>2.8.1. Docker compose</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Make sure you have <code>docker</code> and <code>docker-compose</code> or <code>podman</code> and <code>podman-compose</code> installed locally.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Run <code>docker-compose up</code>. The docker-compose yaml creates the Infinispan cluster using the <code>infinispan-tracing-configuration-server.yaml</code> file that
sets up the tracing configuration.
Access the console of at <code><a href="http://localhost:11222/console" class="bare">http://localhost:11222/console</a></code> with admin/password.</p>
</li>
<li>
<p>Run the <code>InfinispanRemoteOpenTelemetry</code> main class</p>
</li>
<li>
<p>Check Jaeger console and visualize the traced spans at <code><a href="http://localhost:16686/" class="bare">http://localhost:16686/</a></code></p>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/server/server.html#opentelemetry-tracing">Tracing configuration</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reverse-proxy-nginx_remote-cache-tutorials"><a class="anchor" href="#reverse-proxy-nginx_remote-cache-tutorials"></a>2.9. Reverse proxy example with NGINX</h3>
<div class="paragraph">
<p>Learn how to handle reverse proxy configuration in Infinispan with a NGINX.</p>
</div>
<div class="paragraph">
<p>In this tutorial, you start one Infinispan cluster and NGINX using <code>docker-compose</code>.</p>
</div>
<div class="sect3">
<h4 id="_docker_compose_4"><a class="anchor" href="#_docker_compose_4"></a>2.9.1. Docker compose</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Make sure you have <code>docker</code> and <code>docker-compose</code> installed locally.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Run <code>docker-compose up</code>. NGINX and Infinispan will start with all the necessary configuration.</p>
</li>
<li>
<p>Access the console at <code><a href="http://localhost:8080/infinispan/console/welcome" class="bare">http://localhost:8080/infinispan/console/welcome</a></code>.</p>
</li>
<li>
<p>Enter 'admin/password' credentials in the login pop up (BASIC Authentication).</p>
</li>
<li>
<p>You are now logged in.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring-tutorials"><a class="anchor" href="#spring-tutorials"></a>3. Spring and Spring Boot</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="spring-tutorials_spring-tutorials"><a class="anchor" href="#spring-tutorials_spring-tutorials"></a>3.1. Spring and Spring Boot tutorials</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>These code tutorials use Infinispan Server and require at least one running instance.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Run Spring examples</div>
<p>Two simple tutorials can be run with Spring without Spring Boot:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Test caching</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">$ ./mvnw package exec:exec@spring-caching</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Test annotations</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">$ ./mvnw package exec:exec@spring-annotations</code></pre>
</div>
</div>
<div class="paragraph">
<p>To run the Spring Boot tutorials, use the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">$ ./mvnw spring-boot:run</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Displaying actuator statistics</div>
<p>Navigate to <code><a href="http://localhost:8080/actuator/metrics" class="bare">http://localhost:8080/actuator/metrics</a></code> in your browser to display a list of available metrics.
Cache metrics are prefixed with <strong>"cache."</strong>
Display each metric for each cache using tags.
For example for the 'puts' stats in the basque-names cache:</p>
</div>
<div class="paragraph">
<p><code><a href="http://localhost:8080/actuator/metrics/cache.puts?tag=name:basque-names" class="bare">http://localhost:8080/actuator/metrics/cache.puts?tag=name:basque-names</a></code></p>
</div>
<div class="paragraph">
<div class="title">Collecting statistics with Prometheus</div>
<p>The <code>prometheus.yml</code> file in this project contains a <em>host.docker.internal</em> binding that allows Prometheus to scrap metrics that the Spring actuator exposes.</p>
</div>
<div class="paragraph">
<p>Change the <code>YOUR_PATH</code> value in the following command to the directory where Prometheus is running and then run:</p>
</div>
<div class="listingblock">
<div class="title">Podman</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">$ podman run -d --name=prometheus -p 9090:9090 -v YOUR_PATH/integrations/spring-boot/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus --config.file=/etc/prometheus/prometheus.yml</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tutorial link</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/integrations/spring-boot/cache-remote">Spring Boot and Spring Cache remote mode</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use Spring Caches with Spring Boot and the Infinispan Server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/integrations/spring-boot/cache-remote-reactor">Spring Boot, Spring Cache, Reactor and Infinispan Server</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use Spring Caches with Spring Boot Reactor and the Infinispan Server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/integrations/spring-boot/session-remote">Spring Boot and Spring Session remote mode</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use Spring Session with Spring Boot and the Infinispan Server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/integrations/spring-boot/cache-embedded">Spring Boot and Spring Cache embedded mode</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use Spring Caches with Spring Boot and Infinispan Embedded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/integrations/spring-boot/session-embedded">Spring Boot and Spring Session embedded mode</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use Spring Session with Spring Boot and Infinispan Embedded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/integrations/spring/spring-cache">Spring cache embedded without Spring Boot</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how to use Spring Cache and Infinispan Embedded without Spring Boot.</p></td>
</tr>
</tbody>
</table>
<h4 id="_infinispan_documentation_3" class="discrete">Infinispan documentation</h4>
<div class="paragraph">
<p>You can find more resources in our documentation at:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/spring/spring.html">Using Infinispan with Spring</a></p>
</li>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/spring_boot/starter.html">Infinispan Spring Boot Starter</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quarkus-tutorials"><a class="anchor" href="#quarkus-tutorials"></a>4. Quarkus</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="quarkus-tutorials_quarkus-tutorials"><a class="anchor" href="#quarkus-tutorials_quarkus-tutorials"></a>4.1. Quarkus tutorials</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>These code tutorials use Infinispan Server and require Docker, Podman or at least one running instance.
Dev Services are used.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Run Quarkus examples</div>
<ul>
<li>
<p>Test Infinispan Client</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">$ ./mvnw quarkus:dev</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_infinispan_documentation_4"><a class="anchor" href="#_infinispan_documentation_4"></a>4.1.1. Infinispan documentation</h4>
<div class="paragraph">
<p>You can find more resources in Quarkus documentation.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hibernate-tutorials"><a class="anchor" href="#hibernate-tutorials"></a>5. Hibernate</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="hibernate-tutorials_hibernate-tutorials"><a class="anchor" href="#hibernate-tutorials_hibernate-tutorials"></a>5.1. Hibernate tutorials</h3>
<div class="paragraph">
<p>You can run these tutorials directly in your IDE or from the command line as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">$ ./mvnw clean package
$ ./mvnw exec:exec</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tutorials that involve deploying an archive to Wildfly are first deployed like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">$ ./mvnw clean package
$ ./mvnw wildfly:deploy</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tutorial link</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/integrations/hibernate/local">Hibernate local</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how Infinispan Embedded and Hibernate work.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/integrations/hibernate/spring-local">Hibernate and Spring local</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how Spring, Hibernate and Infinispan work.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/main/integrations/hibernate/wildfly-local">Hibernate and WildFly local</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demonstrates how Wildfly and Infinispan work.</p></td>
</tr>
</tbody>
</table>
<h4 id="_infinispan_documentation_5" class="discrete">Infinispan documentation</h4>
<div class="paragraph">
<p>You can find more resources in our documentation at:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/embedding/embedding.html#ispn_modules">Infinispan WildFly modules</a></p>
</li>
<li>
<p><a href="https://infinispan.org/docs/stable/titles/hibernate/hibernate.html">Hibernate Second-Level Caching</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2026-02-17 18:26:44 +0100
</div>
</div>
</body>
</html>