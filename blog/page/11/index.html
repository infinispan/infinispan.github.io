<!DOCTYPE html> <html lang="en"> <head> <title> Blog - Infinispan</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="DENY" http-equiv="X-Frame-Options"> <meta content="1; mode=block" http-equiv="X-XSS-Protection"> <meta content="nosniff" http-equiv="X-Content-Type-Options"> <link href="https://static.jboss.org/theme/css/bootstrap-community/3.2.0.2/bootstrap-community.min.css" media="screen" rel="stylesheet"> <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" rel="stylesheet"> <script crossorigin="anonymous" src="https://kit.fontawesome.com/4167a38cfa.js"></script> <script id="dpal" src="https://www.redhat.com/dtm.js" type="text/javascript"></script> <link href="/images/favicon.png" rel="shortcut icon" type="image/png"> <link href="//static.jboss.org/images/example/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="//static.jboss.org/images/example/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="//static.jboss.org/images/example/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="//static.jboss.org/images/example/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" rel="stylesheet"> <link href="https://static.jboss.org/css/rhbar.css" media="screen" rel="stylesheet"> <link href="/feed.atom" rel="alternate" type="application/atom+xml"> <style>
      .jumbotron {
        padding: 0.5em 0.1em 0.5em 0.1em;
        background-image: none;
        background-color: #ffec9f;
      }
      .jumbotron p, 
      .jumbotron h1 {
        color: #656565;
      }
      .dropup {
        z-index: 1032;
      }
      .navbar {
        font-size: x-large;
      }
      .navbar ul {
        padding-top: 0.7em;
      }
      .navbar-brand {
        height: 80px;
      }
      .navbar-default {
        background-color: white;
      }
      .navbar-default .navbar-nav > li > a {
        color: #336699;
      }
      .navbar-default .navbar-nav > li > a:hover {
        color: #204060;
      }
      .navbar-default .navbar-nav > .open > a,
      .navbar-default .navbar-nav > .open > a:hover,
      .navbar-default .navbar-nav > .open > a:focus {
        background-color: #4a5d75;
      }
      h3.well {
        border-color: #ffd630;
        background-color: #ffec9f;
      }
      .panel-sidebar {
        border-color: #f5f5f5;
      }
      .panel-sidebar > .panel-heading {
        border-color: #e3e3e3;
        background-color: #f5f5f5;
        color: #656565;
      }
      .btn-primary {
        border-color: #ffd630;
        background-color: #ffec9f;
        color: #656565;
      }
      footer.container {
        background-color: white;
      }
      footer.container h1, footer.container h2, footer.container h3, footer.container h4, footer.container h5, footer.container h6, footer.container p, footer.container a {
        color: #656565;
      }
      footer.container ul {
        padding: 0;
      }
      i.enormous-icon {
        margin-top: 0.3em;
      }
      .home-examples {
        font-size: 16px;
      }
    </style> <script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script> <script>
      hljs.initHighlightingOnLoad();
    </script> <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
     
    ga('create', 'UA-8601422-1', 'auto');
    ga('send', 'pageview');
    
    </script> </head> <body> <div id=""> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div id="rhbar"> <a class="jbdevlogo" href="http://www.jboss.org/projects/about"></a> <a class="rhlogo" href="http://www.redhat.com/"></a> </div> <div class="container" id="content"> <nav class="navbar navbar-default navbar-fixed-top"> <div class="container"> <div class="navbar-header"> <button aria-expanded="false" class="navbar-toggle collapsed" data-target="#thenavbar" data-toggle="collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"> <img alt="Infinispan" src="/images/infinispan_nav_brand.png"> </a> </div> <div class="navbar-collapse collapse" id="thenavbar"> <ul class="nav navbar-nav"> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/about">About <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/about">Introduction</a></li> <li><a href="/features">Features</a></li> <li><a href="/release-notes">Release notes</a></li> <li><a href="/blog">Blog</a></li> <li><a href="/references">References</a></li> <li><a href="/experiments/">Experiments</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/documentation">Learn <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/documentation">Documentation</a></li> <li><a href="/tutorials">Tutorials</a></li> <li><a href="/videos">Videos</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/download">Download <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/download">Infinispan Releases</a></li> <li><a href="/cache-store-implementations">Cache Store Implementations</a></li> <li><a href="/hotrod-clients">Hot Rod Clients</a></li> <li><a href="/integrations">Integrations</a></li> <li><a href="/download-archive">Archive</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/community">Community <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/community">Ask for Help</a></li> <li><a href="/getinvolved">Get Involved</a></li> </ul> </li> <li class=""><a href="/roadmap">Road Map</a></li> <li class="divider"></li> </ul> </div> </div> </nav> <div class="post"></div> <h3> Monday, 30 April 2018 </h3> <h1> <a href="/blog/2018/04/30/danke-javaland-merci-devoxx-france/">Danke Javaland, Merci Devoxx France!</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Ever since we started the Infinispan project, I simply don&#8217;t recall a time busier than the current one! As usual we&#8217;re working on new features and supporting our community and enterprise users, but on top of that we&#8217;re working on a big scale demo that we hope you are going to like it!</p> </div> <div class="paragraph"> <p>All of that has been happening with at the same time juggling one of the busiest periods in Infinispan evangelisation that I can remember! Here&#8217;s what I have been up to past month and a half:</p> </div> <div class="paragraph"> <p><a href="https://1.bp.blogspot.com/-0sHQiMsHW_U/WudUpy_ZyaI/AAAAAAAAFK8/P8yJiw2J8Ucb9U9E8196rPjrM3sjqtf9QCLcBGAs/s1600/logo_javaland.png"><span class="image"><img src="https://1.bp.blogspot.com/-0sHQiMsHW_U/WudUpy_ZyaI/AAAAAAAAFK8/P8yJiw2J8Ucb9U9E8196rPjrM3sjqtf9QCLcBGAs/s320/logo_javaland.png" alt="image" width="320" height="184"></span></a></p> </div> <div class="paragraph"> <p>On 18th of March I gave a brand new presentation at <a href="https://www.javaland.eu/de/javaland-2018/">Javaland</a> where I explored the Java RPC framework landscape. Since 2010, Infinispan has offered a binary remote, client/server API for interacting with the data. As more clients have been developed, we&#8217;ve been noticing that we&#8217;re spending more time that&#8217;d we&#8217;d like implementing features across different clients. In this talk I looked at existing Java RPC frameworks from the point of view of Infinispan&#8217;s remote API requirements. If we were to implement our binary protocol again, which option would fit best? The spectrum can be very vast so I limited myself to some know options (HTTP 1.1 REST), some options we have expertise on (Netty), some upcoming players (gRPC) and some lesser known but very powerful players (Aeron). The talk was not recorded but the slides can be found here:</p> </div> <div class="paragraph"> <p>Javaland was a very enjoyable conference set in a theme park near Cologne. The sessions were a mix in German and English. Although my German is not very good, I was able to follow some of the sessions.</p> </div> <div class="paragraph"> <p><a href="https://4.bp.blogspot.com/-e72CtoW5d-4/WudU6FrtrCI/AAAAAAAAFLE/MWBBPH3KICo5Zf8dVxOszKp1bOThfrJzwCLcBGAs/s1600/devoxx-logo.jpg.png"><span class="image"><img src="https://4.bp.blogspot.com/-e72CtoW5d-4/WudU6FrtrCI/AAAAAAAAFLE/MWBBPH3KICo5Zf8dVxOszKp1bOThfrJzwCLcBGAs/s320/devoxx-logo.jpg.png" alt="image" width="320" height="123"></span></a></p> </div> <div class="paragraph"> <p>After Javaland, I turned my attention to <a href="http://devoxx.fr/">Devoxx France</a> which was held in Paris mid-April. I had a couple of sessions at Devoxx France. The first was a streaming data analysis 3 hour university talk delivered along with <a href="https://twitter.com/clementplop">Clement Escoffier</a> from the Vert.x team. We already delivered this session at JFokus earlier this year, but at Devoxx France it was recorded so you&#8217;ll soon to be able to watch it! In the mean time, slides can be found below:</p> </div> <div class="ulist"> <ul> <li> <p>Introduction - <a href="http://bit.ly/streaming-data-dd-1">bit.ly/streaming-data-dd-1</a></p> </li> <li> <p>Ingestion Tier - <a href="http://bit.ly/streaming-data-dd-2">bit.ly/streaming-data-dd-2</a></p> </li> <li> <p>In Memory Data Store - <a href="http://bit.ly/streaming-data-dd-4">bit.ly/streaming-data-dd-4</a></p> </li> <li> <p>Web Tier - <a href="http://bit.ly/streaming-data-dd-5">bit.ly/streaming-data-dd-5</a></p> </li> <li> <p>Lessons Learned - <a href="http://bit.ly/streaming-data-dd-6">bit.ly/streaming-data-dd-6</a></p> </li> <li> <p>Code - <a href="http://bit.ly/streaming-data-dd-code">bit.ly/streaming-data-dd-code</a></p> </li> </ul> </div> <div class="paragraph"> <p>On top of that, <a href="https://twitter.com/saturnism">Ray Tsang</a> from Google joined Clement and I to deliver a 3 hour streaming data hands-on lab at Devoxx France. This was the same workshop we delivered in Devoxx Belgium and Codemotion Madrid in 2017. The big difference was that instead of having the users run it locally on their laptops within a virtual machine, they could run OpenShift and all the components inside of <a href="https://cloud.google.com/">Google Cloud Platform</a>. The users had a better experience as a result of not having to deal with a virtual machine :). I&#8217;d like to say special thanks to Ray for the Google Cloud Platform test accounts and the support during the workshop.</p> </div> <div class="paragraph"> <p><a href="https://2.bp.blogspot.com/-fSS5yZqzIpc/WudTWhn8VqI/AAAAAAAAFKs/ZCvS2o-b6s0G1f5N7VnbKQ7k7ZWlSaUnQCLcBGAs/s1600/IMG_6487.JPG"><span class="image"><img src="https://2.bp.blogspot.com/-fSS5yZqzIpc/WudTWhn8VqI/AAAAAAAAFKs/ZCvS2o-b6s0G1f5N7VnbKQ7k7ZWlSaUnQCLcBGAs/s200/IMG_6487.JPG" alt="image" width="200" height="150"></span></a>https://1.bp.blogspot.com/-GBvrW0K2X3c/WudTSVi6aHI/AAAAAAAAFKo/Tga3lVYf3skzEzyyZo1dQktAsgh-EdPtgCLcBGAs/s1600/IMG_1021.JPG[<span class="image"><img src="https://1.bp.blogspot.com/-GBvrW0K2X3c/WudTSVi6aHI/AAAAAAAAFKo/Tga3lVYf3skzEzyyZo1dQktAsgh-EdPtgCLcBGAs/s200/IMG_1021.JPG" alt="image" width="200" height="150"></span>]</p> </div> <div class="paragraph"> <p>Finally, many thanks to all attendees that came to the sessions, and to the organisers/sponsors for creating two outstanding events!</p> </div> <div class="paragraph"> <p>In the next blog post I&#8217;ll be talking about Great Indian Developer Summit and Voxxed Days Zurich. Stay tuned! :)</p> </div> <div class="paragraph"> <p>Cheers, Galder</p> </div> </div> </div> </div> <em>Posted by Galder Zamarreño on 2018-04-30</em> <br> <em>Tags:</em> <a href="/blog/tags/ conference/"> conference </a> <hr> <div class="post"></div> <h3> Thursday, 29 March 2018 </h3> <h1> <a href="/blog/2018/03/29/infinispan-spark-connector-07-released/">Infinispan Spark connector 0.7 released!</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>A new version of connector that integrates Infinispan and Apache Spark has just been released!</p> </div> <div class="paragraph"> <p>This release brings compatibility with Infinispan 9.2.x and Spark 2.3.0.</p> </div> <div class="paragraph"> <p>Also included a new feature that allows to create and delete caches on demand, passing custom configurations when required. For more details, please consult the <a href="https://github.com/infinispan/infinispan-spark/blob/master/README.md#cache-lifecycle-control">documentation</a>.</p> </div> <div class="paragraph"> <p>To quickly try the connector, make sure to check the <a href="https://github.com/infinispan/infinispan-spark/tree/master/examples/twitter">Twitter demo</a>, and for any issues or suggestions, please report them on our <a href="https://issues.jboss.org/projects/ISPRK/">JIRA</a>.</p> </div> <div class="paragraph"> <p>Cheers!</p> </div> </div> </div> </div> <em>Posted by Gustavo on 2018-03-29</em> <br> <em>Tags:</em> <a href="/blog/tags/ release/"> release </a> <a href="/blog/tags/spark/"> spark </a> <hr> <div class="post"></div> <h3> Tuesday, 27 March 2018 </h3> <h1> <a href="/blog/2018/03/27/infinispan-921final/">Infinispan 9.2.1.Final</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Infinispan users,</p> </div> <div class="paragraph"> <p>we have just released 9.2.1.Final which includes <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12310799&amp;version=12337077">65 fixes</a>. Highlights of this release include:</p> </div> <div class="paragraph"> <p>Many fixes/improvements to the REST endpoint</p> </div> <div class="ulist"> <ul> <li> <p>Configurable CORS settings</p> </li> <li> <p>HTTP/2 now works</p> </li> <li> <p>Accept-Encoding and Content-Encoding handling</p> </li> </ul> </div> <div class="paragraph"> <p>It is now possible to retrieve the list of cache names over Hot Rod</p> </div> <div class="paragraph"> <p>Substantial performance improvements when iterating over the file store</p> </div> <div class="paragraph"> <p>Lots of bug fixes, test fixes and documentation improvements</p> </div> <div class="paragraph"> <p>As usual you can find all the bits on our <a href="http://infinispan.org/download/">website</a>. If you find any issues, don&#8217;t hesitate to report them on our <a href="https://issues.jboss.org/projects/ISPN">issue tracker.</a></p> </div> <div class="paragraph"> <p>Enjoy</p> </div> <div class="paragraph"> <p>The Infinispan Team</p> </div> </div> </div> </div> <em>Posted by Tristan Tarrant on 2018-03-27</em> <br> <em>Tags:</em> <a href="/blog/tags/ release/"> release </a> <hr> <div class="post"></div> <h3> Wednesday, 21 March 2018 </h3> <h1> <a href="/blog/2018/03/21/clustering-vertx-with-infinispan/">Clustering Vert.x with Infinispan</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Welcome to the third in a multi-part series of blog posts about creating Eclipse Vert.x applications with Infinispan. In the previous blog posts we have seen how to create <a href="http://blog.infinispan.org/2017/12/first-steps-with-vertx-and-infinispan-rest-api.html">REST</a> and <a href="http://blog.infinispan.org/2017/12/first-steps-with-vertx-and-infinispan-push-api.html">PUSH</a> APIs using the <a href="http://infinispan.org/docs/stable/server_guide/server_guide.html">Infinispan Server</a>. The purpose of this tutorial is to showcase how to create clustered <a href="http://vertx.io/">Vert.x</a> applications using Infinispan in embedded mode.</p> </div> </div> </div> <div class="sect1"> <h2 id="_why_infinispan"><a class="anchor" href="#_why_infinispan"></a>Why Infinispan ?</h2> <div class="sectionbody"> <div class="paragraph"> <p>Infinispan can be used for <a href="http://infinispan.org/about/">several use cases</a>. Among them we find that it can be used as the underlying framework to cluster your applications. Infinispan uses peer-to-peer communication between nodes, so the architecture is not based on master/slave mode and there is no single point of failure. Infinispan supports replication and resilience across data centers, is fast and reliable. All the <a href="http://infinispan.org/features/">features</a> that make this datagrid a great product, make it a great cluster manager. If you need to create clustered applications or microservices, this can be achieved with <a href="http://vertx.io/docs/#clustering">Vert.x</a> using the <a href="http://vertx.io/docs/vertx-infinispan/java/">Vert.x-Infinispan cluster manager</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="_creating_a_clustered_application"><a class="anchor" href="#_creating_a_clustered_application"></a>Creating a clustered application</h2> <div class="sectionbody"> <div class="paragraph"> <p>The code of this tutorial is available <a href="https://github.com/infinispan-demos/vertx-api/tree/master/clustered">here</a>.</p> </div> <div class="sect2"> <h3 id="_dummy_application"><a class="anchor" href="#_dummy_application"></a>Dummy Application</h3> <div class="paragraph"> <p>Let’s start with a dummy clustered system with 3 verticles.</p> </div> <div class="paragraph"> <p><a href="https://4.bp.blogspot.com/-wNPoumRNOZU/WqqNdMdm6mI/AAAAAAAACNM/Nvrirnuw-ok_BfS8Gh7DaomoTGhdEwk-ACLcBGAs/s1600/dummyApp.png"><span class="image"><img src="https://4.bp.blogspot.com/-wNPoumRNOZU/WqqNdMdm6mI/AAAAAAAACNM/Nvrirnuw-ok_BfS8Gh7DaomoTGhdEwk-ACLcBGAs/s640/dummyApp.png" alt="image" width="640" height="275"></span></a></p> </div> <div class="sect3"> <h4 id="_webservice_status_producer"><a class="anchor" href="#_webservice_status_producer"></a>WebService Status Producer</h4> <div class="paragraph"> <p>Produces randomly [0,1,2] values every 1000 milliseconds and sends them to the event bus <strong>"ids"</strong> address.</p> </div> </div> <div class="sect3"> <h4 id="_reboot_consumer"><a class="anchor" href="#_reboot_consumer"></a>Reboot Consumer</h4> <div class="paragraph"> <p>Consumes messages from the event bus <strong>"ids"</strong> address, and launches a <strong>"reboot"</strong> that lasts for 3000 milliseconds whenever the value is 0. If a reboot is already happening, we don’t need to relaunch any new reboot. When a reboot starts or ends, a message is sent to the event bus to the <strong>"reboot"</strong> address.</p> </div> <div class="paragraph"> <p>Notice that:</p> </div> <div class="ulist"> <ul> <li> <p>We use a simple boolean to check if there is a reboot going on. This is safe because every verticle is executed from a single event loop thread, so there won’t be multiple threads executing the code at the same time.</p> </li> <li> <p>An ID is generated to identify the Verticle. The message sent to the event bus is a JsonObject</p> </li> </ul> </div> </div> <div class="sect3"> <h4 id="_monitoring"><a class="anchor" href="#_monitoring"></a>Monitoring</h4> <div class="paragraph"> <p>Consumes monitoring messages from the event bus <strong>"reboot"</strong> address and logs them.</p> </div> </div> </div> <div class="sect2"> <h3 id="_clustering_the_dummy_application"><a class="anchor" href="#_clustering_the_dummy_application"></a>Clustering the dummy Application</h3> <div class="paragraph"> <p>To create a cluster of these applications, we just need to do 2 things:</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>Add the cluster manager maven dependency.  </p> </li> <li> <p>Run and deploy each verticle in cluster mode. Each Verticle class has a main method that deploys each verticle separetly. Example for the Monitoring verticle.</p> </li> </ol> </div> <table class="tableblock frame-all grid-all stretch"> <colgroup> <col style="width: 100%;"> </colgroup> <thead> <tr> <th class="tableblock halign-center valign-top"><a href="https://2.bp.blogspot.com/-GjOWQzixVq8/Wpgynw-A8OI/AAAAAAAACLQ/EUz57xgYcjcve1jXrARPEufaOLfLErUDwCEwYBhgL/s1600/Monitoring.png"><span class="image"><img src="https://2.bp.blogspot.com/-GjOWQzixVq8/Wpgynw-A8OI/AAAAAAAACLQ/EUz57xgYcjcve1jXrARPEufaOLfLErUDwCEwYBhgL/s320/Monitoring.png" alt="image" width="320" height="296"></span></a></th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-center valign-top"><p class="tableblock">Running the application, we can monitor the logs</p></td> </tr> </tbody> </table> <div class="paragraph"> <p>Each clustered application contains - or embeds - an Infinispan instance. Under the hood, the 3 Infinispan instances will form a cluster.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="_what_if_i_need_to_scale"><a class="anchor" href="#_what_if_i_need_to_scale"></a>What if I need to scale</h2> <div class="sectionbody"> <div class="paragraph"> <p>Imagine you need to scale the Reboot Consumer application. We can run it multiple times, let’s say 2 more times. The two new instances will join the cluster. In this case, we have “ID-93EB” ”ID-45B8” and “ID-247A”, so now we have a cluster of 5. It&#8217;s very simple but if we have a look to the monitoring console, we will notice reboots are now happening in parallel.</p> </div> <table class="tableblock frame-all grid-all stretch"> <colgroup> <col style="width: 100%;"> </colgroup> <thead> <tr> <th class="tableblock halign-center valign-top"><a href="https://3.bp.blogspot.com/-YTja7FV8S4k/Wpg6YuIstTI/AAAAAAAACL4/xH2N4erfgfk_ZUcICwmyp_2WQQNKlPpqQCLcBGAs/s1600/MultipleReboots.png"><span class="image"><img src="https://3.bp.blogspot.com/-YTja7FV8S4k/Wpg6YuIstTI/AAAAAAAACL4/xH2N4erfgfk_ZUcICwmyp_2WQQNKlPpqQCLcBGAs/s400/MultipleReboots.png" alt="image" width="400" height="245"></span></a></th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-center valign-top"><p class="tableblock">3 Reboot Consumers</p></td> </tr> </tbody> </table> <div class="paragraph"> <p>As I mentioned before, this example is a dummy application. But in real life you could need to trigger a process from a verticle that runs multiple times and need to be sure this process is happening just once at a time. How can we fix this ? We can use Vert.x Shared Data structures API.</p> </div> <div class="sect2"> <h3 id="_shared_data_api_to_rescue"><a class="anchor" href="#_shared_data_api_to_rescue"></a>Shared data API to rescue</h3> <div class="paragraph"> <p>In this particular case, we are going to use a clustered lock. Using the lock, we can now synchronise the reboots among the 3 nodes.</p> </div> <table class="tableblock frame-all grid-all stretch"> <colgroup> <col style="width: 100%;"> </colgroup> <thead> <tr> <th class="tableblock halign-center valign-top"><a href="https://2.bp.blogspot.com/--calcYXn5l4/WplAZEu4f8I/AAAAAAAACMU/eFrivRZMsHE8XUZr-BAvAuUikZ9-_k3DACLcBGAs/s1600/MonitoringUsingLock.png"><span class="image"><img src="https://2.bp.blogspot.com/--calcYXn5l4/WplAZEu4f8I/AAAAAAAACMU/eFrivRZMsHE8XUZr-BAvAuUikZ9-_k3DACLcBGAs/s400/MonitoringUsingLock.png" alt="image" width="400" height="256"></span></a></th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-center valign-top"><p class="tableblock">Using Shared Data API, one reboot at a time</p></td> </tr> </tbody> </table> <div class="paragraph"> <p>Vert.x clustered lock in this example is using an emulated version of the new Clustered Lock API of Infinispan introduced in 9.2 which has been freshly released. I will come back to share about this API in particular in further blog posts. You can read about it on the <a href="http://infinispan.org/docs/stable/user_guide/user_guide.html#clustered_lock">documentation</a> or run the <a href="https://github.com/infinispan/infinispan-simple-tutorials/tree/master/lock">infinispan-simple-tutorial</a>.</p> </div> </div> <div class="sect2"> <h3 id="_one_node_at_a_time"><a class="anchor" href="#_one_node_at_a_time"></a>One node at a time</h3> <div class="paragraph"> <p>When clustering applications with Vert.x, there is something you need to take care of. It is important to understand that each node contains an instance of the datagrid. This means that scaling up and down needs to be done one at a time. Infinispan, as other datagrids, reshuffles the data when a new node joins or leaves a cluster. This process is done following a distributed hashing algorithm, so not every data is moved around, just the data that is supposed to live in the new node, or the data owned by a leaving node. If we just kill a bunch of nodes without taking care of the cluster, consequences can be harming! This is something quite obvious when dealing with databases : we just don’t kill a bunch of database instances without taking care of every instance at a time. Even when Infinispan data is only in memory we need to take care about it in the same way. <a href="http://vertx.io/docs/vertx-infinispan/java/#_configuring_for_kubernetes_or_openshift_3">Openshift, which is built on top of Kubernetes</a>, helps dealing properly and safely with these scale up and down operations.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="_conclusions"><a class="anchor" href="#_conclusions"></a>Conclusions</h2> <div class="sectionbody"> <div class="paragraph"> <p>As you have seen, creating clustered applications with Vert.x and Infinispan is very straightforward. The clustered event bus is very powerful. In this example we have seen how to use a clustered lock, but other <a href="http://vertx.io/docs/apidocs/io/vertx/core/shareddata/SharedData.html">shared data structures</a> built on top of <a href="http://infinispan.org/docs/stable/user_guide/user_guide.html#the_code_strongcounter_code_interface_when_the_consistency_or_bounds_matters">Counters</a> are available.</p> </div> </div> </div> <div class="sect1"> <h2 id="_about_the_vert_x_infinispan_cluster_manager_status"><a class="anchor" href="#_about_the_vert_x_infinispan_cluster_manager_status"></a>About the Vert.x Infinispan Cluster Manager status</h2> <div class="sectionbody"> <div class="paragraph"> <p>At the time of this writing, <a href="http://blog.infinispan.org/2018/02/infinispan-920final.html">Infinspan 9.2.0.Final</a> has been released. From vert.x-infinispan cluster manager point of view, before Vert.x 3.6 (which is not out yet) the cluster manager is using Infinispan 9.1.6.final and it’s using an emulation layer for locks and counters. In this tutorial we are using Vert.x 3.5.1 version.</p> </div> <div class="paragraph"> <p>This tutorial will be updated with the version using Infinispan 9.2 as soon as the next <a href="https://github.com/vert-x3/vertx-infinispan/">vert.x-infinispan</a> will be released, which will happen in a few months. Meanwhile, stay tuned!</p> </div> </div> </div> </div> <em>Posted by Katia Aresti on 2018-03-21</em> <br> <em>Tags:</em> <a href="/blog/tags/ vert.x/"> vert.x </a> <hr> <div class="post"></div> <h3> Tuesday, 13 March 2018 </h3> <h1> <a href="/blog/2018/03/13/final-releases-for-hotrod-clients-c-and/">Final release for Hotrod clients C++ and C# 8.2.0 are out!</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>We&#8217;re pleased to announce the availability of the 8.2.0.Final release of the C++ and C# Hotrod clients. Here is what happened in the 8.2.0 episode:</p> </div> <div class="paragraph"> <p><strong>C++</strong></p> </div> <div class="ulist"> <ul> <li> <p>SASL: PLAIN, MD5, EXTERNAL, GSSAPI (linux only)</p> </li> <li> <p>Continuous Queries</p> </li> <li> <p>getAll operation</p> </li> <li> <p>simplified remote exec API</p> </li> </ul> </div> <div class="paragraph"> <p><strong>C#</strong></p> </div> <div class="ulist"> <ul> <li> <p>SASL: PLAIN, MD5, EXTERNAL</p> </li> <li> <p>Continuous Queries</p> </li> <li> <p>GetAll operation</p> </li> <li> <p>simplified remote exec API</p> </li> </ul> </div> <div class="paragraph"> <p>You can find more info and even the binaries at the usual places</p> </div> <div class="paragraph"> <p>In the backstage people are already working on the 8.3.0 episode, you can partecipate expressing your opinion or adding your ideas here [5][6].</p> </div> <div class="paragraph"> <p>Thank you for reading.</p> </div> <div class="paragraph"> <p>The Infinispan Team</p> </div> <div class="paragraph"> <p>[5] <a href="https://issues.jboss.org/browse/HRCPP-452">C++ Features List for 8.3.0</a> [6] <a href="https://issues.jboss.org/browse/HRCPP-453">C# Features List for 8.3.0</a></p> </div> </div> </div> </div> <em>Posted by rigazilla on 2018-03-13</em> <br> <em>Tags:</em> <a href="/blog/tags/ c++/"> c++ </a> <a href="/blog/tags/release/"> release </a> <a href="/blog/tags/final/"> final </a> <a href="/blog/tags/c#/"> c# </a> <hr> <div class="pagination-links"><a href="/blog/page/10/" class="previous-link">Previous</a> <a href="/blog/" class="page-link">1</a> <a href="/blog/page/2/" class="page-link">2</a> <span class="skip">...</span><a href="/blog/page/10/" class="page-link">10</a> <span class="current-page">11</span> <a href="/blog/page/12/" class="page-link">12</a> <span class="skip">...</span><a href="/blog/page/112/" class="page-link">112</a> <a href="/blog/page/113/" class="page-link">113</a> <a href="/blog/page/12/" class="next-link">Next</a> </div> </div> <footer class="container"> <hr> <div class="row"> <div class="col-md-2 col-md-offset-1"> <h4>Navigate</h4> <ul> <li> <a href="/about" title="About">About</a> </li> <li> <a href="/documentation" title="Learn">Learn</a> </li> <li> <a href="/community" title="Community">Community</a> </li> <li> <a href="/getinvolved" title="Get Involved">Get Involved</a> </li> <li> <a href="/download" title="Download">Download</a> </li> </ul> </div> <div class="col-md-2"> <h4>Contribute</h4> <ul> <li> <a href="https://issues.jboss.org/browse/ISPN" title="Submit a bug">Submit a bug</a> </li> <li> <a href="https://github.com/infinispan" title="Write code">Write Code</a> </li> </ul> <h4>Follow Us</h4> <ul> <li> <a href="https://infinispan.org/blog/" title="Blog">Blog</a> </li> <li> <a href="https://twitter.com/infinispan" title="Twitter">Twitter</a> </li> </ul> </div> <div class="col-md-2"> <h4>Open Source</h4> <p> Infinispan is released under the <b>Apache 2.0 open source license.</b> Learn more about the Apache 2.0 license <a href="https://www.apache.org/licenses/LICENSE-2.0">here.</a> </p> </div> <div class="col-md-2"> <h4>A member of</h4> <a alt="CloudTM" href="http://www.cloudtm.eu/" target="_NEW"> <img src="/images/cloudtm.png"> </a> <a alt="LEADS" href="http://leads-project.eu/" target="_NEW"> <img src="/images/leads.png"> </a> <a alt="CloudButton" href="http://cloudbutton.eu/" target="_NEW"> <img src="/images/cloudbutton.png"> </a> </div> <div class="col-md-2"> <h4>Thanks to</h4> <p>JetBrains Intellij IDEA</p> <a alt="JetBrains Intellij IDEA" href="https://www.jetbrains.com/idea/" target="_NEW"> <img src="/images/icon_IntelliJIDEA.png"> </a> </div> </div> <div class="col-md-10"> <p style="margin-top: 5px; font-size: 80%;"> © Copyright 2009-2019 Red Hat, Inc. <br> <i class="icon-fire"></i> Made with <a href="https://github.com/jbossorg/bootstrap-community" style="text-decoration: underline;" target="_NEW">JBoss Community Bootstrap</a> and <a href="http://awestruct.org/" style="text-decoration: underline;" target="_NEW">Awestruct</a> <br> <i class="icon-globe"></i> This website is open source! If you want to improve it, <a href="https://github.com/infinispan/infinispan.github.io" style="text-decoration: underline;" target="_NEW">fork the project,</a> and hack on it, then send a pull request. You can also view the <a href="https://www.seethestats.com/site/infinispan.org" style="text-decoration: underline;" target="_NEW">visitor stats.</a> <br> <i class="icon-share"></i> Website and documentation released under <a href="https://creativecommons.org/licenses/by/3.0/" style="text-decoration: underline;" target="_NEW">CC BY 3.0.</a> </p> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <div id="logospacer"></div> <a href="http://www.redhat.com/"><img src="//static.jboss.org/theme/images/common/redhat_logo.png"></a> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="//static.jboss.org/theme/js/libs/bootstrap-community/3.2.0.2/bootstrap-community.min.js"></script> <script>
        if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
          _satellite.pageBottom();
        }
      </script> </div> </body> </html>