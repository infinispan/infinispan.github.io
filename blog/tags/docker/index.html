<!DOCTYPE html> <html lang="en"> <head> <title> Blog - Infinispan</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="DENY" http-equiv="X-Frame-Options"> <meta content="1; mode=block" http-equiv="X-XSS-Protection"> <meta content="nosniff" http-equiv="X-Content-Type-Options"> <link href="https://static.jboss.org/theme/css/bootstrap-community/3.2.0.2/bootstrap-community.min.css" media="screen" rel="stylesheet"> <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" rel="stylesheet"> <script crossorigin="anonymous" src="https://kit.fontawesome.com/4167a38cfa.js"></script> <script id="dpal" src="https://www.redhat.com/dtm.js" type="text/javascript"></script> <link href="/images/favicon.png" rel="shortcut icon" type="image/png"> <link href="//static.jboss.org/images/example/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="//static.jboss.org/images/example/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="//static.jboss.org/images/example/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="//static.jboss.org/images/example/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" rel="stylesheet"> <link href="https://static.jboss.org/css/rhbar.css" media="screen" rel="stylesheet"> <style>
      .jumbotron {
        padding: 0.5em 0.1em 0.5em 0.1em;
        background-image: none;
        background-color: #ffec9f;
      }
      .jumbotron p, 
      .jumbotron h1 {
        color: #656565;
      }
      .dropup {
        z-index: 1032;
      }
      .navbar {
        font-size: x-large;
      }
      .navbar ul {
        padding-top: 0.7em;
      }
      .navbar-brand {
        height: 80px;
      }
      .navbar-default {
        background-color: white;
      }
      .navbar-default .navbar-nav > li > a {
        color: #336699;
      }
      .navbar-default .navbar-nav > li > a:hover {
        color: #204060;
      }
      .navbar-default .navbar-nav > .open > a,
      .navbar-default .navbar-nav > .open > a:hover,
      .navbar-default .navbar-nav > .open > a:focus {
        background-color: #4a5d75;
      }
      h3.well {
        border-color: #ffd630;
        background-color: #ffec9f;
      }
      .panel-sidebar {
        border-color: #f5f5f5;
      }
      .panel-sidebar > .panel-heading {
        border-color: #e3e3e3;
        background-color: #f5f5f5;
        color: #656565;
      }
      .btn-primary {
        border-color: #ffd630;
        background-color: #ffec9f;
        color: #656565;
      }
      footer.container {
        background-color: white;
      }
      footer.container h1, footer.container h2, footer.container h3, footer.container h4, footer.container h5, footer.container h6, footer.container p, footer.container a {
        color: #656565;
      }
      footer.container ul {
        padding: 0;
      }
      i.enormous-icon {
        margin-top: 0.3em;
      }
      .home-examples {
        font-size: 16px;
      }
    </style> <script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script> <script>
      hljs.initHighlightingOnLoad();
    </script> <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
     
    ga('create', 'UA-8601422-1', 'auto');
    ga('send', 'pageview');
    
    </script> </head> <body> <div id=""> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div id="rhbar"> <a class="jbdevlogo" href="http://www.jboss.org/projects/about"></a> <a class="rhlogo" href="http://www.redhat.com/"></a> </div> <div class="container" id="content"> <nav class="navbar navbar-default navbar-fixed-top"> <div class="container"> <div class="navbar-header"> <button aria-expanded="false" class="navbar-toggle collapsed" data-target="#thenavbar" data-toggle="collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"> <img alt="Infinispan" src="/images/infinispan_nav_brand.png"> </a> </div> <div class="navbar-collapse collapse" id="thenavbar"> <ul class="nav navbar-nav"> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/about">About <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/about">Introduction</a></li> <li><a href="/features">Features</a></li> <li><a href="/release-notes">Release notes</a></li> <li><a href="/blog">Blog</a></li> <li><a href="/references">References</a></li> <li><a href="/experiments/">Experiments</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/documentation">Learn <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/documentation">Documentation</a></li> <li><a href="/tutorials">Tutorials</a></li> <li><a href="/videos">Videos</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/download">Download <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/download">Infinispan Releases</a></li> <li><a href="/cache-store-implementations">Cache Store Implementations</a></li> <li><a href="/hotrod-clients">Hot Rod Clients</a></li> <li><a href="/integrations">Integrations</a></li> <li><a href="/download-archive">Archive</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/community">Community <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/community">Ask for Help</a></li> <li><a href="/getinvolved">Get Involved</a></li> </ul> </li> <li class=""><a href="/roadmap">Road Map</a></li> <li class="divider"></li> </ul> </div> </div> </nav> <div class="post"></div> <h3> Tuesday, 21 March 2017 </h3> <h1> <a href="/blog/2017/03/21/docker-image-security-changes/">Docker image security changes</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><a href="https://1.bp.blogspot.com/-y_wfaayyDoo/WMu8fNe-DdI/AAAAAAAAAbY/g2zK9M_O4DUnGLoTreUYgEs6Yu5-X1IOQCLcB/s1600/docker.png"><span class="image"><img src="https://1.bp.blogspot.com/-y_wfaayyDoo/WMu8fNe-DdI/AAAAAAAAAbY/g2zK9M_O4DUnGLoTreUYgEs6Yu5-X1IOQCLcB/s320/docker.png" alt="image" width="320" height="158"></span></a></p> </div> <div class="paragraph"> <p>In the latest 9.0.0.CR3 version, the Infinispan REST endpoint is secured by default, and in order to facilitate remote access, the Docker image has some changes related to the security.</p> </div> <div class="paragraph"> <p>The image now creates a default user login upon start; this user can be changed via environment variables if desired:</p> </div> <div class="paragraph"> <p>You can check if the settings are in place by manipulating data via REST. Trying to do a curl without credentials should lead to a 401 response:</p> </div> <div class="paragraph"> <p>So make sure to always include the credentials from now on when interacting with the Rest endpoint! If using curl, this is the syntax:</p> </div> <div class="paragraph"> <p>And that&#8217;s all for this post. To find out more about the Infinispan Docker image, check the <a href="https://github.com/jboss-dockerfiles/infinispan/blob/master/server/README.md">documentation</a>, give it a try and let us know if you have any issues or suggestions!</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Monday, 05 December 2016 </h3> <h1> <a href="/blog/2016/12/05/composing-infinispan-docker-image/">Composing the Infinispan Docker image</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>In the <a href="http://blog.infinispan.org/2016/10/infinispan-docker-image-custom.html">previous</a> post we showed how to manipulate the Infinispan Docker container configuration at both runtime and boot time.</p> </div> <div class="paragraph"> <p>Before diving into multi-host Docker usage, in this post we&#8217;ll explore how to create multi-container Docker applications involving Infinispan with the help of <a href="https://docs.docker.com/compose/">Docker Compose</a>.</p> </div> <div class="paragraph"> <p>For this we&#8217;ll look at a typical scenario of an Infinispan server backed by an Oracle database as a cache store.</p> </div> <div class="paragraph"> <p>All the code for this sample can be found on <a href="https://github.com/gustavonalle/infinispan-docker-compose">github</a>.</p> </div> </div> </div> <div class="sect2"> <h3 id=""><a class="anchor" href="#"></a> </h3> </div> <div class="sect2"> <h3 id="_infinispan_with_oracle_jdbc_cache_store"><a class="anchor" href="#_infinispan_with_oracle_jdbc_cache_store"></a>Infinispan with Oracle JDBC cache store</h3> </div> <div class="sect2"> <h3 id="_2"><a class="anchor" href="#_2"></a> </h3> <div class="paragraph"> <p>In order to have a cache with persistence with Oracle, we need to do some configuration: configure the driver in the server, create the data source associated with the driver, and configure the cache itself with JDBC persistence.</p> </div> <div class="paragraph"> <p>Let&#8217;s take a look at each of those steps:</p> </div> <div class="sect4"> <h5 id="_obtaining_and_configuring_the_driver"><a class="anchor" href="#_obtaining_and_configuring_the_driver"></a>Obtaining and configuring the driver</h5> <div class="paragraph"> <p>The driver (ojdbc6.jar) should be <a href="http://www.oracle.com/technetwork/apps-tech/jdbc-112010-090769.html">downloaded</a> and placed in the 'driver' folder of the sample project.</p> </div> <div class="paragraph"> <p>The module.xml declaration used to make it available on the server is as follows:</p> </div> </div> <div class="sect4"> <h5 id="_configuring_the_data_source"><a class="anchor" href="#_configuring_the_data_source"></a>Configuring the Data source</h5> <div class="paragraph"> <p>The data source is configured in the "datasource" element of the server configuration file as shown below:</p> </div> <div class="paragraph"> <p>and inside the "datasource/drivers" element, we need to declare the driver:</p> </div> </div> <div class="sect4"> <h5 id="_creating_the_cache"><a class="anchor" href="#_creating_the_cache"></a>Creating the cache</h5> <div class="paragraph"> <p>The last piece is to define a cache with the proper JDBC Store:</p> </div> </div> <div class="sect4"> <h5 id="_putting_all_together"><a class="anchor" href="#_putting_all_together"></a>Putting all together</h5> <div class="paragraph"> <p>From now on, without using Docker we&#8217;d be ready to download and install Oracle following the specific instructions for your OS, then download the Infinispan Server, edit the configuration files, copy over the driver jar, figure out how to launch the database and server, taking care not to have any port conflicts.</p> </div> <div class="paragraph"> <p>If it sounds too much work, it&#8217;s because it really is. Wouldn&#8217;t it be nice to have all these wired together and launched with a simple command line? Let&#8217;s take a look at the Docker way next. </p> </div> </div> </div> <div class="sect2"> <h3 id="_enter_docker_compose"><a class="anchor" href="#_enter_docker_compose"></a>Enter Docker Compose</h3> <div class="paragraph"> <p>Docker Compose is a tool part of the Docker stack to facilitate configuration, execution and management of related Docker containers.</p> </div> <div class="paragraph"> <p>By describing the application aspects in a single yaml file, it allows centralized control of the containers, including custom configuration and parameters, and it also allows runtime interactions with each of the exposed services.</p> </div> <div class="sect4"> <h5 id="_composing_infinispan"><a class="anchor" href="#_composing_infinispan"></a>Composing Infinispan</h5> <div class="paragraph"> <p>Our Docker Compose file to assemble the application is given below:</p> </div> <div class="paragraph"> <p>It contains two services:</p> </div> <div class="ulist"> <ul> <li> <p>one called <strong><em>oracle</em></strong> that uses the <a href="https://hub.docker.com/r/wnameless/oracle-xe-11g/">wnameless/oracle-xe-11g</a> Docker image, with an environment variable to allow remote connections.</p> </li> <li> <p> another one called <em>*infinispan*</em> that uses version 8.2.5.Final of the <a href="https://store.docker.com/community/images/jboss/infinispan-server">Infinispan Server image</a>. It is launched with a custom command pointing to the changed configuration file and it also mounts two volumes in the container: one for the driver and its module.xml and another for the folder holding our server xml configuration.</p> </li> </ul> </div> </div> <div class="sect4"> <h5 id="_launching"><a class="anchor" href="#_launching"></a>Launching</h5> <div class="paragraph"> <p>To start the application, just execute</p> </div> <div class="paragraph"> <p>To inspect the status of the containers:</p> </div> <div class="paragraph"> <p>To follow the Infinispan server logs, use:</p> </div> <div class="paragraph"> <p>Infinispan usually starts faster than the database, and since the server waits until the database is ready (more on that later), keep an eye in the log output for "Infinispan Server 8.2.5.Final (WildFly Core 2.0.10.Final) started". After that, both Infinispan and Oracle are properly initialized.</p> </div> </div> <div class="sect4"> <h5 id="_testing_it"><a class="anchor" href="#_testing_it"></a>Testing it</h5> <div class="paragraph"> <p>Let&#8217;s insert a value using the Rest endpoint from Infinispan and verify it was saved to the Oracle database:</p> </div> <div class="paragraph"> <p>To check the Oracle database, we can attach to the container and use Sqlplus:</p> </div> </div> <div class="sect4"> <h5 id="_other_operations"><a class="anchor" href="#_other_operations"></a>Other operations</h5> <div class="paragraph"> <p>It&#8217;s also possible to increase and decrease the number of containers for each of the services:</p> </div> </div> </div> <div class="sect2"> <h3 id="_a_thing_or_two_about_startup_order"><a class="anchor" href="#_a_thing_or_two_about_startup_order"></a>A thing or two about startup order</h3> </div> <div class="sect2"> <h3 id="_3"><a class="anchor" href="#_3"></a> </h3> <div class="paragraph"> <p>When dealing with dependent containers in Docker based environments, it&#8217;s highly recommended to make the connection obtention between parties robust enough so that the fact that one dependency is not totally initialized doesn&#8217;t cause the whole application to fail when starting.</p> </div> <div class="paragraph"> <p>Although Compose does have a <strong><em>depends_on</em></strong> instruction, it simply starts the containers in the declared order but it has no means to detected when a certain container is fully initialized and ready to serve requests before launching a dependent one.</p> </div> <div class="paragraph"> <p>One may be tempted to simply write some glue script to detect if a certain port is open, but that does not work in practice: the network socket may be opened, but the background service could still be in transient initialization state.</p> </div> <div class="paragraph"> <p>The recommended solution for this it to make whoever depends on a service to retry periodically until the dependency is ready. On the Infinispan + Oracle case, we specifically configured the data source with retries to avoid failing at once if the database is not ready:</p> </div> <div class="paragraph"> <p>When starting the application via Compose you&#8217;ll notice that Infinispan print some WARN with connection exceptions until Oracle is available: don&#8217;t panic, this is expected!</p> </div> </div> <div class="sect2"> <h3 id="_conclusion"><a class="anchor" href="#_conclusion"></a>Conclusion</h3> <div class="paragraph"> <p>Docker Compose is a powerful and easy to use tool to launch applications involving multiple containers: in this post it allowed to start Infinispan plus Oracle with custom configurations with a single command. It&#8217;s also a handy tool to have during development and testing phase of a project, specially when using/evaluating Infinispan with its many possible integrations.</p> </div> <div class="paragraph"> <p>Be sure to check other examples of using Docker Compose involving Infinispan: the <a href="https://github.com/infinispan/infinispan-spark/tree/master/examples/twitter">Infinispan+Spark Twitter demo</a>, and the <a href="https://github.com/infinispan/infinispan-hadoop/tree/master/samples/flink">Infinispan+Apache Flink</a> demo.</p> </div> </div> </div> <hr> <div class="post"></div> <h3> Friday, 28 October 2016 </h3> <h1> <a href="/blog/2016/10/28/infinispan-docker-image-custom/">Infinispan Docker image: custom configuration</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>In the <a href="http://blog.infinispan.org/2016/07/improved-infinispan-docker-image.html">previous post</a> we introduced the improved Docker image for Infinispan and showed how to run it with different parameters in order to create standalone, clustered and domain mode servers.</p> </div> <div class="paragraph"> <p>This post will show how to address more advanced configuration changes than swapping the JGroups stack, covering cases like creating extra caches or using a pre-existent configuration file.</p> </div> </div> </div> <div class="sect3"> <h4 id=""><a class="anchor" href="#"></a> </h4> </div> <div class="sect3"> <h4 id="_runtime_configuration_changes"><a class="anchor" href="#_runtime_configuration_changes"></a>Runtime configuration changes</h4> <div class="paragraph"> <p>Since the Infinispan server is based on Wildfly, it also supports the Command Line Interface (CLI) to change configurations at runtime.</p> </div> <div class="paragraph"> <p>Let&#8217;s consider an example of a custom indexed cache with Infinispan storage. In order to configure it, we need 4 caches, one cache to hold our data, called <em>testCache</em> and other three caches to hold the indexes:  <em>LuceneIndexesMetadata</em>, <em>LuceneIndexesData</em> and <em>LuceneIndexesLocking</em>.</p> </div> <div class="paragraph"> <p>This is normally achieved by adding this piece of configuration to the server xml:</p> </div> <div class="paragraph"> <p>This is equivalent to the following script:</p> </div> <div class="paragraph"> <p>To apply it to the server, save the script to a file, and run:</p> </div> <div class="paragraph"> <p>where CONTAINER is the id of the running container.</p> </div> <div class="paragraph"> <p>Everything that is applied using the CLI is automatically persisted in the server, and to check what the script produced, use the command to dump the config to a local file called <em>config.xml.</em></p> </div> <div class="paragraph"> <p>Check the file <em>config.xml</em>: it should contain all four caches created via the CLI.</p> </div> </div> <div class="sect3"> <h4 id="_2"><a class="anchor" href="#_2"></a> </h4> </div> <div class="sect3"> <h4 id="_using_an_existent_configuration_file"><a class="anchor" href="#_using_an_existent_configuration_file"></a> Using an existent configuration file</h4> <div class="paragraph"> <p>Most of the time changing configuration at runtime is sufficient, but it may be desirable to run the server with an existent xml, or change configurations that cannot be applied without a restart. For those cases, the easier option is to mount a volume in the Docker container and start the container with the provided configuration.</p> </div> <div class="paragraph"> <p>This can be achieved with Docker&#8217;s volume support. Consider an xml file called <em>customConfig.xml</em> located on a local folder <em>/home/user/config</em>. The following command:</p> </div> <div class="paragraph"> <p>will create a volume inside the container at the <em>/opt/jboss/infinispan-server/standalone/configuration/extra/</em> directory, with the contents of the local folder <em>/home/user/config</em>.</p> </div> <div class="paragraph"> <p>The container is then launched with the entrypoint <em>extra/customConfig</em>, which means it will use a configuration named <em>customConfig</em> located under the <em>extra</em> folder relative to where the configurations are usually located at <em>/opt/jboss/infinispan-server/standalone/configuration</em>.</p> </div> </div> <div class="sect3"> <h4 id="_3"><a class="anchor" href="#_3"></a> </h4> </div> <div class="sect3"> <h4 id="_conclusion"><a class="anchor" href="#_conclusion"></a>Conclusion</h4> <div class="paragraph"> <p>And that&#8217;s all about custom configuration using the Infinispan Docker image.</p> </div> <div class="paragraph"> <p>Stay tuned for the next post where we&#8217;ll dive into multi-host clusters with the Infinispan Docker image.</p> </div> </div> </div> <hr> <div class="post"></div> <h3> Friday, 13 March 2015 </h3> <h1> <a href="/blog/2015/03/13/infinispan-on-openshift-v3/">Infinispan on Openshift v3</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Openshift v3 is the open source next generation of Paas, where applications run on <a href="https://www.docker.com/">Docker</a> containers and are orchestrated/controlled/scheduled by <a href="http://kubernetes.io/">Kubernetes</a>.</p> </div> <div class="paragraph"> <p>In this post I&#8217;ll show how to create an Infinispan cluster on Openshift v3 and resize it with a snap of a finger.</p> </div> </div> </div> <div class="sect3"> <h4 id="_installing_openshift_v3"><a class="anchor" href="#_installing_openshift_v3"></a>Installing Openshift v3</h4> </div> <div class="sect3"> <h4 id=""><a class="anchor" href="#"></a> </h4> <div class="paragraph"> <p>Openshift v3 has not been released yet, so I&#8217;m going to use the code from <a href="https://github.com/openshift/origin">origin</a>. There are <a href="http://docs.openshift.org/latest/getting_started/installation.html">many ways</a> to install Openshift v3, but for simplicity, I&#8217;ll run a full multinode cluster locally on top of VirtualBoxes using the provided <a href="https://www.vagrantup.com/">Vagrant</a> scripts.</p> </div> <div class="paragraph"> <p>Let&#8217;s start by checking out and building the sources:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="line-pre"></code></pre> </div> </div> <div class="paragraph"> <p>To boot Openshift, it&#8217;s a simple matter of starting up the desired number of nodes:</p> </div> <div class="paragraph"> <p>Grab a beer while the cluster is being provisioned, after a while you should be able to see 3 instances running:</p> </div> </div> <div class="sect3"> <h4 id="_2"><a class="anchor" href="#_2"></a> </h4> </div> <div class="sect3"> <h4 id="_creating_the_infinispan_template"><a class="anchor" href="#_creating_the_infinispan_template"></a>Creating the Infinispan template</h4> <div class="paragraph"> <p>The following template defines a 2 node Infinispan cluster communicating via TCP, and discovery done using the <a href="http://www.jgroups.org/javadoc/org/jgroups/stack/GossipRouter.html">JGroups gossip router</a>:</p> </div> <div class="paragraph"> <p>There are few different components declared in this template:</p> </div> <div class="ulist"> <ul> <li> <p>A service with id <em>jgroups-gossip-service</em> that will expose a JGroups gossip router service on port 11000, around the <a href="https://registry.hub.docker.com/u/gustavonalle/jgroups-gossip/">JGroups Gossip container</a></p> </li> <li> <p>A ReplicationController with id <em>jgroups-gossip-controller</em>. Replication Controllers are used to ensure that, at any moment, there will be a certain number of replicas of a pod (a group of related docker containers) running. If for some reason a node crashes, the ReplicationController will instantiate a new pod elsewhere, keeping the service endpoint address unchanged.</p> </li> <li> <p>Another ReplicationController with id <em>infinispan-controller</em>. This controller will start 2 replicas of the <em>infinispan-pod</em>. As it happens with the <em>jgroups-pod</em>, the <em>infinispan-pod</em> has only one container defined: the infinispan-server container (based on <a href="https://registry.hub.docker.com/u/jboss/infinispan-server/">jboss/infinispan-server</a>) , that is started with the 'clustered.xml' profile and configured with the 'jgroups-gossip-service' address. By defining the gossip router as a service, Openshift guarantees that environment variables such as[.pl-s1]# JGROUPS_GOSSIP_SERVICE_SERVICE_HOST are# available to other pods (consumers).</p> </li> </ul> </div> </div> <div class="sect3"> <h4 id="_applying_the_template"><a class="anchor" href="#_applying_the_template"></a>Applying the template</h4> <div class="paragraph"> <p>To apply the template via cmd line:</p> </div> <div class="paragraph"> <p>Grab another beer, it can take a while since in this case the docker images need to be fetched on each of the minions from the public registry. In the meantime, to inspect the pods, along with their containers and statuses:</p> </div> </div> <div class="sect3"> <h4 id="_resizing_the_cluster"><a class="anchor" href="#_resizing_the_cluster"></a>Resizing the cluster</h4> <div class="paragraph"> <p>Changing the number of pods (and thus the number of nodes in the Infinispan cluster) is a simple matter of manipulating the number of replicas in the Replication Controller. To increase the number of nodes to 4:</p> </div> <div class="paragraph"> <p>This should take only a few seconds, since the docker images are already present in all the minions.</p> </div> <div class="paragraph"> <p>And this concludes the post, be sure to check other cool features of Openshift in the <a href="http://docs.openshift.org/latest/welcome/index.html#">project documentation</a> and try out other <a href="https://github.com/openshift/origin/tree/master/examples">samples</a>.</p> </div> </div> </div> <hr> <div class="pagination-links"><span class="current-page">1</span> </div> </div> <footer class="container"> <hr> <div class="row"> <div class="col-md-2 col-md-offset-1"> <h4>Navigate</h4> <ul> <li> <a href="/about" title="About">About</a> </li> <li> <a href="/documentation" title="Learn">Learn</a> </li> <li> <a href="/community" title="Community">Community</a> </li> <li> <a href="/getinvolved" title="Get Involved">Get Involved</a> </li> <li> <a href="/download" title="Download">Download</a> </li> </ul> </div> <div class="col-md-2"> <h4>Contribute</h4> <ul> <li> <a href="https://issues.jboss.org/browse/ISPN" title="Submit a bug">Submit a bug</a> </li> <li> <a href="https://github.com/infinispan" title="Write code">Write Code</a> </li> </ul> <h4>Follow Us</h4> <ul> <li> <a href="https://blog.infinispan.org" title="Blog">Blog</a> </li> <li> <a href="https://twitter.com/infinispan" title="Twitter">Twitter</a> </li> </ul> </div> <div class="col-md-2"> <h4>Open Source</h4> <p> Infinispan is released under the <b>Apache 2.0 open source license.</b> Learn more about the Apache 2.0 license <a href="https://www.apache.org/licenses/LICENSE-2.0">here.</a> </p> </div> <div class="col-md-2"> <h4>A member of</h4> <a alt="CloudTM" href="http://www.cloudtm.eu/" target="_NEW"> <img src="/images/cloudtm.png"> </a> <a alt="LEADS" href="http://leads-project.eu/" target="_NEW"> <img src="/images/leads.png"> </a> <a alt="CloudButton" href="http://cloudbutton.eu/" target="_NEW"> <img src="/images/cloudbutton.png"> </a> </div> <div class="col-md-2"> <h4>Thanks to</h4> <p>JetBrains Intellij IDEA</p> <a alt="JetBrains Intellij IDEA" href="https://www.jetbrains.com/idea/" target="_NEW"> <img src="/images/icon_IntelliJIDEA.png"> </a> </div> </div> <div class="col-md-10"> <p style="margin-top: 5px; font-size: 80%;"> © Copyright 2009-2019 Red Hat, Inc. <br> <i class="icon-fire"></i> Made with <a href="https://github.com/jbossorg/bootstrap-community" style="text-decoration: underline;" target="_NEW">JBoss Community Bootstrap</a> and <a href="http://awestruct.org/" style="text-decoration: underline;" target="_NEW">Awestruct</a> <br> <i class="icon-globe"></i> This website is open source! If you want to improve it, <a href="https://github.com/infinispan/infinispan.github.io" style="text-decoration: underline;" target="_NEW">fork the project,</a> and hack on it, then send a pull request. You can also view the <a href="https://www.seethestats.com/site/infinispan.org" style="text-decoration: underline;" target="_NEW">visitor stats.</a> <br> <i class="icon-share"></i> Website and documentation released under <a href="https://creativecommons.org/licenses/by/3.0/" style="text-decoration: underline;" target="_NEW">CC BY 3.0.</a> </p> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <div id="logospacer"></div> <a href="http://www.redhat.com/"><img src="//static.jboss.org/theme/images/common/redhat_logo.png"></a> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="//static.jboss.org/theme/js/libs/bootstrap-community/3.2.0.2/bootstrap-community.min.js"></script> <script>
        if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
          _satellite.pageBottom();
        }
      </script> </div> </body> </html>