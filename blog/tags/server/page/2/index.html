<!DOCTYPE html> <html lang="en"> <head> <title>Blog - Infinispan</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="DENY" http-equiv="X-Frame-Options"> <meta content="1; mode=block" http-equiv="X-XSS-Protection"> <meta content="nosniff" http-equiv="X-Content-Type-Options"> <link href="https://static.jboss.org/theme/css/bootstrap-community/3.2.0.2/bootstrap-community.min.css" media="screen" rel="stylesheet"> <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" rel="stylesheet"> <script id="dpal" src="https://www.redhat.com/dtm.js" type="text/javascript"></script> <link href="/images/favicon.png" rel="shortcut icon" type="image/png"> <link href="//static.jboss.org/images/example/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="//static.jboss.org/images/example/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="//static.jboss.org/images/example/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="//static.jboss.org/images/example/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" rel="stylesheet"> <link href="https://static.jboss.org/css/rhbar.css" media="screen" rel="stylesheet"> <style>
      .jumbotron {
        padding: 0.5em 0.1em 0.5em 0.1em;
        background-image: none;
        background-color: #ffec9f;
      }
      .jumbotron p, 
      .jumbotron h1 {
        color: #656565;
      }
      .dropup {
        z-index: 1032;
      }
      .navbar {
        font-size: x-large;
      }
      .navbar ul {
        padding-top: 0.7em;
      }
      .navbar-brand {
        height: 80px;
      }
      .navbar-default {
        background-color: white;
      }
      .navbar-default .navbar-nav > li > a {
        color: #336699;
      }
      .navbar-default .navbar-nav > li > a:hover {
        color: #204060;
      }
      .navbar-default .navbar-nav > .open > a,
      .navbar-default .navbar-nav > .open > a:hover,
      .navbar-default .navbar-nav > .open > a:focus {
        background-color: #4a5d75;
      }
      h3.well {
        border-color: #ffd630;
        background-color: #ffec9f;
      }
      .panel-sidebar {
        border-color: #f5f5f5;
      }
      .panel-sidebar > .panel-heading {
        border-color: #e3e3e3;
        background-color: #f5f5f5;
        color: #656565;
      }
      .btn-primary {
        border-color: #ffd630;
        background-color: #ffec9f;
        color: #656565;
      }
      footer.container {
        background-color: white;
      }
      footer.container h1, footer.container h2, footer.container h3, footer.container h4, footer.container h5, footer.container h6, footer.container p, footer.container a {
        color: #656565;
      }
      footer.container ul {
        padding: 0;
      }
      i.enormous-icon {
        margin-top: 0.3em;
      }
      .home-examples {
        font-size: 16px;
      }
    </style> <script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script> <script>
      hljs.initHighlightingOnLoad();
    </script> <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
     
    ga('create', 'UA-8601422-1', 'auto');
    ga('send', 'pageview');
    
    </script> </head> <body> <div id=""> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div id="rhbar"> <a class="jbdevlogo" href="http://www.jboss.org/projects/about"></a> <a class="rhlogo" href="http://www.redhat.com/"></a> </div> <div class="container" id="content"> <nav class="navbar navbar-default navbar-fixed-top"> <div class="container"> <div class="navbar-header"> <button aria-expanded="false" class="navbar-toggle collapsed" data-target="#thenavbar" data-toggle="collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"> <img alt="Infinispan" src="/images/infinispan_nav_brand.png"> </a> </div> <div class="navbar-collapse collapse" id="thenavbar"> <ul class="nav navbar-nav"> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/about">About <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/about">Introduction</a></li> <li><a href="/features">Features</a></li> <li><a href="/release-notes">Release notes</a></li> <li><a href="/blog">Blog</a></li> <li><a href="/references">References</a></li> <li><a href="/experiments/">Experiments</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/documentation">Learn <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/documentation">Documentation</a></li> <li><a href="/tutorials">Tutorials</a></li> <li><a href="/videos">Videos</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/download">Download <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/download">Infinispan Releases</a></li> <li><a href="/cache-store-implementations">Cache Store Implementations</a></li> <li><a href="/hotrod-clients">Hot Rod Clients</a></li> <li><a href="/integrations">Integrations</a></li> <li><a href="/download-archive">Archive</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/community">Community <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/community">Ask for Help</a></li> <li><a href="/getinvolved">Get Involved</a></li> </ul> </li> <li class=""><a href="/roadmap">Road Map</a></li> <li class="divider"></li> </ul> </div> </div> </nav> <div class="post"></div> <h3> Monday, 21 September 2015 </h3> <h1> <a href="/blog/2015/09/21/introducing-infinispan-hadoop-connector/">Introducing the Infinispan Hadoop Connector</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>The version 0.1 of the Infinispan Hadoop connector has just been made available!</p> </div> <div class="paragraph"> <p>The connector will host several integrations with Hadoop related projects, and in this first release it supports converting Infinispan server into a Hadoop compliant data source, by providing an implementation of InputFormat and OutputFormat.</p> </div> </div> </div> <div class="sect3"> <h4 id="_the_infinispaninputformat_and_infinispanoutputformat"><a class="anchor" href="#_the_infinispaninputformat_and_infinispanoutputformat"></a>The InfinispanInputFormat and InfinispanOutputFormat</h4> </div> <div class="sect3"> <h4 id=""><a class="anchor" href="#"></a> </h4> <div class="exampleblock"> <div class="content"> <div class="paragraph"> <p>A Hadoop InputFormat is a specification of how a certain data source can be partitioned and how to read data from each of the partitions. Conversely, OutputFormat is used to write.</p> </div> <div class="paragraph"> <p>Looking closely at the Hadoop&#8217;s InputFormat interface, we can see two methods:</p> </div> <div class="paragraph"> <p>    List&lt;InputSplit&gt; getSplits(JobContext context);       RecordReader&lt;K,V&gt; createRecordReader(InputSplit split,TaskAttemptContext context);</p> </div> <div class="paragraph"> <p>The first method defines essentially a data partitioner, calculating one or more InputSplits that contain information about a certain partition of the data. With possession of a InputSplit, one can use it to obtain a RecordReader to iterate over the data. These two operations allow for parallelization of data processing across multiple nodes, and that&#8217;s how Hadoop map reduce achieves a high throughput over large datasets.</p> </div> <div class="paragraph"> <p>In Infinispan terms, each partition is a set of segments on a certain server, and a record reader is a remote iterator over those segments. The default partitioner shipped with the connector will create as many partitions as servers in the cluster, and each partition will contain the segments that are associated with that specific server.</p> </div> <div class="paragraph"> <p>==== Not only map reduce</p> </div> <div class="paragraph"> <p>Although the InfinispanInputFormat and InfinispanOutputformat can be used to run traditional Hadoop map reduce jobs over Infinispan data, it is not coupled to the Hadoop map reduce runtime. It is possible to leverage the connector to integrate Infinispan with other tools that, besides supporting Hadoop I/O interfaces, are able to read and write data more efficiently. One of those tools is <a href="https://flink.apache.org/">Apache Flink</a>, that has a dataflow engine capable of doing batch and stream data processing that supersedes the classic two stage map reduce approach. </p> </div> <div class="paragraph"> <p>==== Apache Flink example</p> </div> <div class="paragraph"> <p>====  </p> </div> </div> </div> <div class="paragraph"> <p>Apache Flink supports Hadoop&#8217;s InputFormat as a data source to execute batch jobs, so to integrate with Infinispan it&#8217;s straightforward:</p> </div> <div class="paragraph"> <p>Please refer to the <a href="https://github.com/infinispan/infinispan-hadoop/tree/master/samples/flink">complete sample</a> that has docker images for both Apache Flink and Infinispan server, and detailed instructions on how to execute and customise job.</p> </div> </div> <div class="sect3"> <h4 id="_stay_tuned"><a class="anchor" href="#_stay_tuned"></a>Stay tuned</h4> <div class="paragraph"> <p>More details about the connector, maven coordinates, configuration options, sources and samples can be found at the <a href="https://github.com/infinispan/infinispan-hadoop">project repository</a></p> </div> <div class="paragraph"> <p>In upcoming versions we expect to have a tighter integration with the Hadoop platform in order to run Infinispan clusters as a YARN application (<a href="https://issues.jboss.org/browse/ISPN-5709">ISPN-5709</a>), and also support other tools from the ecosystem such as <a href="https://pig.apache.org/">Apache Pig</a> (<a href="https://issues.jboss.org/browse/ISPN-5749">ISPN-5749</a>)</p> </div> </div> </div> <a class="label" href="/blog/tags/yarn/"> yarn </a> <a class="label" href="/blog/tags/hadoop/"> hadoop </a> <a class="label" href="/blog/tags/server/"> server </a> <a class="label" href="/blog/tags/flink/"> flink </a> <hr> <div class="post"></div> <h3> Friday, 13 March 2015 </h3> <h1> <a href="/blog/2015/03/13/infinispan-on-openshift-v3/">Infinispan on Openshift v3</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Openshift v3 is the open source next generation of Paas, where applications run on <a href="https://www.docker.com/">Docker</a> containers and are orchestrated/controlled/scheduled by <a href="http://kubernetes.io/">Kubernetes</a>.</p> </div> <div class="paragraph"> <p>In this post I&#8217;ll show how to create an Infinispan cluster on Openshift v3 and resize it with a snap of a finger.</p> </div> </div> </div> <div class="sect3"> <h4 id="_installing_openshift_v3"><a class="anchor" href="#_installing_openshift_v3"></a>Installing Openshift v3</h4> </div> <div class="sect3"> <h4 id=""><a class="anchor" href="#"></a> </h4> <div class="paragraph"> <p>Openshift v3 has not been released yet, so I&#8217;m going to use the code from <a href="https://github.com/openshift/origin">origin</a>. There are <a href="http://docs.openshift.org/latest/getting_started/installation.html">many ways</a> to install Openshift v3, but for simplicity, I&#8217;ll run a full multinode cluster locally on top of VirtualBoxes using the provided <a href="https://www.vagrantup.com/">Vagrant</a> scripts.</p> </div> <div class="paragraph"> <p>Let&#8217;s start by checking out and building the sources:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="line-pre"></code></pre> </div> </div> <div class="paragraph"> <p>To boot Openshift, it&#8217;s a simple matter of starting up the desired number of nodes:</p> </div> <div class="paragraph"> <p>Grab a beer while the cluster is being provisioned, after a while you should be able to see 3 instances running:</p> </div> </div> <div class="sect3"> <h4 id="_2"><a class="anchor" href="#_2"></a> </h4> </div> <div class="sect3"> <h4 id="_creating_the_infinispan_template"><a class="anchor" href="#_creating_the_infinispan_template"></a>Creating the Infinispan template</h4> <div class="paragraph"> <p>The following template defines a 2 node Infinispan cluster communicating via TCP, and discovery done using the <a href="http://www.jgroups.org/javadoc/org/jgroups/stack/GossipRouter.html">JGroups gossip router</a>:</p> </div> <div class="paragraph"> <p>There are few different components declared in this template:</p> </div> <div class="ulist"> <ul> <li> <p>A service with id <em>jgroups-gossip-service</em> that will expose a JGroups gossip router service on port 11000, around the <a href="https://registry.hub.docker.com/u/gustavonalle/jgroups-gossip/">JGroups Gossip container</a></p> </li> <li> <p>A ReplicationController with id <em>jgroups-gossip-controller</em>. Replication Controllers are used to ensure that, at any moment, there will be a certain number of replicas of a pod (a group of related docker containers) running. If for some reason a node crashes, the ReplicationController will instantiate a new pod elsewhere, keeping the service endpoint address unchanged.</p> </li> <li> <p>Another ReplicationController with id <em>infinispan-controller</em>. This controller will start 2 replicas of the <em>infinispan-pod</em>. As it happens with the <em>jgroups-pod</em>, the <em>infinispan-pod</em> has only one container defined: the infinispan-server container (based on <a href="https://registry.hub.docker.com/u/jboss/infinispan-server/">jboss/infinispan-server</a>) , that is started with the 'clustered.xml' profile and configured with the 'jgroups-gossip-service' address. By defining the gossip router as a service, Openshift guarantees that environment variables such as[.pl-s1]# JGROUPS_GOSSIP_SERVICE_SERVICE_HOST are# available to other pods (consumers).</p> </li> </ul> </div> </div> <div class="sect3"> <h4 id="_applying_the_template"><a class="anchor" href="#_applying_the_template"></a>Applying the template</h4> <div class="paragraph"> <p>To apply the template via cmd line:</p> </div> <div class="paragraph"> <p>Grab another beer, it can take a while since in this case the docker images need to be fetched on each of the minions from the public registry. In the meantime, to inspect the pods, along with their containers and statuses:</p> </div> </div> <div class="sect3"> <h4 id="_resizing_the_cluster"><a class="anchor" href="#_resizing_the_cluster"></a>Resizing the cluster</h4> <div class="paragraph"> <p>Changing the number of pods (and thus the number of nodes in the Infinispan cluster) is a simple matter of manipulating the number of replicas in the Replication Controller. To increase the number of nodes to 4:</p> </div> <div class="paragraph"> <p>This should take only a few seconds, since the docker images are already present in all the minions.</p> </div> <div class="paragraph"> <p>And this concludes the post, be sure to check other cool features of Openshift in the <a href="http://docs.openshift.org/latest/welcome/index.html#">project documentation</a> and try out other <a href="https://github.com/openshift/origin/tree/master/examples">samples</a>.</p> </div> </div> </div> <a class="label" href="/blog/tags/docker/"> docker </a> <a class="label" href="/blog/tags/openshift/"> openshift </a> <a class="label" href="/blog/tags/kubernetes/"> kubernetes </a> <a class="label" href="/blog/tags/paas/"> paas </a> <a class="label" href="/blog/tags/server/"> server </a> <a class="label" href="/blog/tags/jgroups/"> jgroups </a> <a class="label" href="/blog/tags/vagrant/"> vagrant </a> <hr> <div class="post"></div> <h3> Wednesday, 28 April 2010 </h3> <h1> <a href="/blog/2010/04/28/infinispan-websocket-server/">Infinispan WebSocket Server</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>The HTML 5 <a href="http://dev.w3.org/html5/websockets/">WebSocket Interface</a> seems like a nice way of exposing an Infinispan Cache to web clients that are WebSocket enabled.</p> </div> <div class="paragraph"> <p>I just committed a first cut of the new Infinispan WebSocket Server to Subversion.</p> </div> <div class="paragraph"> <p>You get a very simple Cache object in your web page Javascript that supports:</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>put/get/remove operations on your Infinispan Cache.</p> </li> <li> <p>notify/unnotify mechanism through which your web page can manage Cache entry update notifications, pushed to the browser.</p> </li> </ol> </div> <div class="paragraph"> <p>Take a look at:</p> </div> <div class="ulist"> <ul> <li> <p><a href="http://community.jboss.org/wiki/InfinispanWebSocketServer">the docs here</a>.</p> </li> <li> <p><a href="http://www.screencast.com/t/ZGEzNDJlY">a short Screencast demo</a>.</p> </li> </ul> </div> </div> </div> </div> <a class="label" href="/blog/tags/websockets/"> websockets </a> <a class="label" href="/blog/tags/server/"> server </a> <hr> <div class="post"></div> <h3> Tuesday, 06 April 2010 </h3> <h1> <a href="/blog/2010/04/06/infinispan-41alpha2-is-out/">Infinispan 4.1Alpha2 is out!</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>We&#8217;ve just released Infinispan 4.1.0.Alpha2 with even more new functionality for the community to play with. Over the past few weeks we&#8217;ve been going backwards and forwards in the <a href="http://lists.jboss.org/pipermail/infinispan-dev">Infinispan development list</a> discussing Infinispan&#8217;s binary client server protocol called <a href="http://community.jboss.org/docs/DOC-14421">Hot Rod</a> and in 4.1.0.Alpha2 we&#8217;re proud to present the first versions of the Hot Rod server and java client implementations. Please visit <a href="http://community.jboss.org/docs/DOC-15093">this wiki</a> to find out how to use Hot Rod&#8217;s java client client and server. Please note that certain functionality such as clients receiving topology and hashing information has not yet been implemented.</p> </div> <div class="paragraph"> <p>Besides, Infinispan 4.1.0.Alpha2 is the first release to feature the new LIRS eviction policy and the new eviction design that batches updates, which in combination should provide users with more efficient and accurate eviction functionality.</p> </div> <div class="paragraph"> <p>Another cool feature added in this release is GridFileSystem: a new, experimental API that exposes an Infinispan-backed data grid as a file system. Specifically, the API works as an extension to the JDK&#8217;s File, InputStream and OutputStream classes. You can read more on GridFileSystem <a href="http://community.jboss.org/wiki/GridFileSystem">here</a>.</p> </div> <div class="paragraph"> <p>Finally, you can find the API docs for 4.1.0.Alpha2 <a href="http://docs.jboss.org/infinispan/4.1/apidocs">here</a> and again, please consider this an unstable release that is meant to gather feedback on the Hot Rod client/server modules and the new eviction design.</p> </div> <div class="paragraph"> <p>Cheers, Galder &amp; Mircea</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/hotrod/"> hotrod </a> <a class="label" href="/blog/tags/infinispan/"> infinispan </a> <a class="label" href="/blog/tags/server/"> server </a> <hr> <div class="pagination-links"><a href="/blog/tags/server/" class="previous-link">Previous</a> <a href="/blog/tags/server/" class="page-link">1</a> <span class="current-page">2</span> </div> </div> <footer class="container"> <hr> <div class="row"> <div class="col-md-2 col-md-offset-1"> <h4>Navigate</h4> <ul> <li> <a href="/about" title="About">About</a> </li> <li> <a href="/documentation" title="Learn">Learn</a> </li> <li> <a href="/community" title="Community">Community</a> </li> <li> <a href="/getinvolved" title="Get Involved">Get Involved</a> </li> <li> <a href="/download" title="Download">Download</a> </li> </ul> </div> <div class="col-md-2"> <h4>Contribute</h4> <ul> <li> <a href="https://issues.jboss.org/browse/ISPN" title="Submit a bug">Submit a bug</a> </li> <li> <a href="https://github.com/infinispan" title="Write code">Write Code</a> </li> </ul> <h4>Follow Us</h4> <ul> <li> <a href="https://blog.infinispan.org" title="Blog">Blog</a> </li> <li> <a href="https://twitter.com/infinispan" title="Twitter">Twitter</a> </li> </ul> </div> <div class="col-md-2"> <h4>Open Source</h4> <p> Infinispan is released under the <b>Apache 2.0 open source license.</b> Learn more about the Apache 2.0 license <a href="https://www.apache.org/licenses/LICENSE-2.0">here.</a> </p> </div> <div class="col-md-2"> <h4>A member of</h4> <a alt="CloudTM" href="http://www.cloudtm.eu/" target="_NEW"> <img src="/images/cloudtm.png"> </a> <a alt="LEADS" href="http://leads-project.eu/" target="_NEW"> <img src="/images/leads.png"> </a> <a alt="CloudButton" href="http://cloudbutton.eu/" target="_NEW"> <img src="/images/cloudbutton.png"> </a> </div> <div class="col-md-2"> <h4>Thanks to</h4> <p>JetBrains Intellij IDEA</p> <a alt="JetBrains Intellij IDEA" href="https://www.jetbrains.com/idea/" target="_NEW"> <img src="/images/icon_IntelliJIDEA.png"> </a> </div> </div> <div class="col-md-10"> <p style="margin-top: 5px; font-size: 80%;"> © Copyright 2009-2019 Red Hat, Inc. <br> <i class="icon-fire"></i> Made with <a href="https://github.com/jbossorg/bootstrap-community" style="text-decoration: underline;" target="_NEW">JBoss Community Bootstrap</a> and <a href="http://awestruct.org/" style="text-decoration: underline;" target="_NEW">Awestruct</a> <br> <i class="icon-globe"></i> This website is open source! If you want to improve it, <a href="https://github.com/infinispan/infinispan.github.io" style="text-decoration: underline;" target="_NEW">fork the project,</a> and hack on it, then send a pull request. You can also view the <a href="https://www.seethestats.com/site/infinispan.org" style="text-decoration: underline;" target="_NEW">visitor stats.</a> <br> <i class="icon-share"></i> Website and documentation released under <a href="https://creativecommons.org/licenses/by/3.0/" style="text-decoration: underline;" target="_NEW">CC BY 3.0.</a> </p> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <div id="logospacer"></div> <a href="http://www.redhat.com/"><img src="//static.jboss.org/theme/images/common/redhat_logo.png"></a> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="//static.jboss.org/theme/js/libs/bootstrap-community/3.2.0.2/bootstrap-community.min.js"></script> <script>
        if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
          _satellite.pageBottom();
        }
      </script> </div> </body> </html>