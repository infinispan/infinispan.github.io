<!DOCTYPE html> <html lang="en"> <head> <title>Blog - Infinispan</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="DENY" http-equiv="X-Frame-Options"> <meta content="1; mode=block" http-equiv="X-XSS-Protection"> <meta content="nosniff" http-equiv="X-Content-Type-Options"> <link href="https://static.jboss.org/theme/css/bootstrap-community/3.2.0.2/bootstrap-community.min.css" media="screen" rel="stylesheet"> <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" rel="stylesheet"> <script id="dpal" src="https://www.redhat.com/dtm.js" type="text/javascript"></script> <link href="/images/favicon.png" rel="shortcut icon" type="image/png"> <link href="//static.jboss.org/images/example/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="//static.jboss.org/images/example/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="//static.jboss.org/images/example/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="//static.jboss.org/images/example/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" rel="stylesheet"> <link href="https://static.jboss.org/css/rhbar.css" media="screen" rel="stylesheet"> <style>
      .jumbotron {
        padding: 0.5em 0.1em 0.5em 0.1em;
        background-image: none;
        background-color: #ffec9f;
      }
      .jumbotron p, 
      .jumbotron h1 {
        color: #656565;
      }
      .dropup {
        z-index: 1032;
      }
      .navbar {
        font-size: x-large;
      }
      .navbar ul {
        padding-top: 0.7em;
      }
      .navbar-brand {
        height: 80px;
      }
      .navbar-default {
        background-color: white;
      }
      .navbar-default .navbar-nav > li > a {
        color: #336699;
      }
      .navbar-default .navbar-nav > li > a:hover {
        color: #204060;
      }
      .navbar-default .navbar-nav > .open > a,
      .navbar-default .navbar-nav > .open > a:hover,
      .navbar-default .navbar-nav > .open > a:focus {
        background-color: #4a5d75;
      }
      h3.well {
        border-color: #ffd630;
        background-color: #ffec9f;
      }
      .panel-sidebar {
        border-color: #f5f5f5;
      }
      .panel-sidebar > .panel-heading {
        border-color: #e3e3e3;
        background-color: #f5f5f5;
        color: #656565;
      }
      .btn-primary {
        border-color: #ffd630;
        background-color: #ffec9f;
        color: #656565;
      }
      footer.container {
        background-color: white;
      }
      footer.container h1, footer.container h2, footer.container h3, footer.container h4, footer.container h5, footer.container h6, footer.container p, footer.container a {
        color: #656565;
      }
      footer.container ul {
        padding: 0;
      }
      i.enormous-icon {
        margin-top: 0.3em;
      }
      .home-examples {
        font-size: 16px;
      }
    </style> <script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script> <script>
      hljs.initHighlightingOnLoad();
    </script> <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
     
    ga('create', 'UA-8601422-1', 'auto');
    ga('send', 'pageview');
    
    </script> </head> <body> <div id=""> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div id="rhbar"> <a class="jbdevlogo" href="http://www.jboss.org/projects/about"></a> <a class="rhlogo" href="http://www.redhat.com/"></a> </div> <div class="container" id="content"> <nav class="navbar navbar-default navbar-fixed-top"> <div class="container"> <div class="navbar-header"> <button aria-expanded="false" class="navbar-toggle collapsed" data-target="#thenavbar" data-toggle="collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"> <img alt="Infinispan" src="/images/infinispan_nav_brand.png"> </a> </div> <div class="navbar-collapse collapse" id="thenavbar"> <ul class="nav navbar-nav"> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/about">About <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/about">Introduction</a></li> <li><a href="/features">Features</a></li> <li><a href="/release-notes">Release notes</a></li> <li><a href="/blog">Blog</a></li> <li><a href="/references">References</a></li> <li><a href="/experiments/">Experiments</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/documentation">Learn <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/documentation">Documentation</a></li> <li><a href="/tutorials">Tutorials</a></li> <li><a href="/videos">Videos</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/download">Download <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/download">Infinispan Releases</a></li> <li><a href="/cache-store-implementations">Cache Store Implementations</a></li> <li><a href="/hotrod-clients">Hot Rod Clients</a></li> <li><a href="/integrations">Integrations</a></li> <li><a href="/download-archive">Archive</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/community">Community <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/community">Ask for Help</a></li> <li><a href="/getinvolved">Get Involved</a></li> </ul> </li> <li class=""><a href="/roadmap">Road Map</a></li> <li class="divider"></li> </ul> </div> </div> </nav> <div class="post"></div> <h3> Thursday, 24 May 2012 </h3> <h1> <a href="/blog/2012/05/24/how-to-configure-infinispan-with/">How to configure Infinispan with transactions, backed by relational DB on JBoss AS 7 vs. Tomcat 7</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Migrating projects from one container to another is often problematic. Not as much with Infinispan. This article is about configuring Infinispan, using Transaction Manager for demarcating transaction boundaries, while keeping the data both in a memory and relational database - stored via JDBC cache store. I&#8217;ll demonstrate all the features on code snippets. </p> </div> <div class="paragraph"> <p>A complete application is located at <a href="https://github.com/mgencur/infinispan-examples" class="bare">https://github.com/mgencur/infinispan-examples</a> and is called carmart-tx-jdbc. It&#8217;s a web application based on JSF 2, Seam 3 and Infinispan 5.1.4.FINAL, is fully working, tested with JBoss  Application Server 7.1.1.Final and Tomcat 7.0.27. There  is one prerequisite, though. It needs an installed and working MySQL database in your system. The database name should be carmartdb, accessible by a user with carmart/carmart username/password.   First, look at what we need to configure for JBoss Application Server 7. </p> </div> </div> </div> <div class="sect1"> <h2 id="_configuring_transactions_and_jdbc_cache_store_on_jboss_as_7"><a class="anchor" href="#_configuring_transactions_and_jdbc_cache_store_on_jboss_as_7"></a>Configuring transactions and JDBC cache store on JBoss AS 7</h2> <div class="sectionbody"> <div class="paragraph"> <p>Infinispan will be configured via new fluent API using builders, hence the call to  .build() method at the end. We need to configure aspects related to  transactions and cache loaders. The configuration API for cache loaders  is likely going to be changed in not-so-far future. It should be fluent  and more intuitive, generally easier to use than current one. </p> </div> <div class="paragraph"> <p>I purposely do not show XML configuration. Configuration examples can be found at <a href="https://github.com/infinispan/infinispan/blob/master/core/src/main/resources/config-samples/sample.xml" class="bare">https://github.com/infinispan/infinispan/blob/master/core/src/main/resources/config-samples/sample.xml</a>. In order to configure transactions and cache loaders, look for tags called  &lt;transaction&gt; and &lt;loaders&gt; and modify that sample file according to below configuration. Tag names and attribute names are very similar for both XML and Java configuration. If that is not enough, there is always a schema in Infinispan distribution.</p> </div> <div class="paragraph"> <p>The configuration of Infinispan is as follows: </p> </div> <div class="paragraph"> <p>Lines marked with red are different in other containers/configurations, as you&#8217;ll see in a minute. The code above implies that we need to specify proper TransactionManagerLookup implementation which is, in this case, GenericTransactionManagerLookup. We  also need to say: "Hey, I wanna use ManagedConnectionFactory as a connectionFactoryClass". OK, here we go. I should, as well, explain how to configure a datasource properly, right? In JBoss AS 7, this is configured as a subsystem in $JBOSS_HOME/standalone/configuration/standalone.xml:</p> </div> <div class="paragraph"> <p>The usage of transactions is very simple as we can obtain a transaction object by injection.</p> </div> <div class="paragraph"> <p>Sources: <a href="https://github.com/mgencur/infinispan-examples/blob/master/carmart-tx-jdbc/src/jbossas/java/org/infinispan/examples/carmart/session/CarManager.java" class="bare">https://github.com/mgencur/infinispan-examples/blob/master/carmart-tx-jdbc/src/jbossas/java/org/infinispan/examples/carmart/session/CarManager.java</a></p> </div> <div class="paragraph"> <p>Quite easy, isn&#8217;t it &#8230;&#8203;if you know how to do it. The only problem is that it does not work (at least not completely) :-) If you deploy the app, you find out that when storing a key-value pair in  the cache, an exception is thrown. This exception indicates that the operation with DB (and JDBC cache store) failed. The exception says:</p> </div> <div class="paragraph"> <p>A complete stack trace looks similar to <a href="https://gist.github.com/2777348" class="bare">https://gist.github.com/2777348</a> There&#8217;s still an open issue in JIRA (ISPN-604) and it is being worked on. </p> </div> </div> </div> <div class="sect1"> <h2 id="_configuring_transactions_and_jdbc_cache_store_on_jboss_as_7_c3p0"><a class="anchor" href="#_configuring_transactions_and_jdbc_cache_store_on_jboss_as_7_c3p0"></a>Configuring transactions and JDBC cache store on JBoss AS 7 - c3p0</h2> <div class="sectionbody"> <div class="paragraph"> <p>But how do we cope with this inconvenience for now&#8230;&#8203; By not using a managed datasource but rather a third party library called c3p0 (JDBC3  Connection and Statement Pooling, more information at <a href="http://www.mchange.com/projects/c3p0/index.html" class="bare">http://www.mchange.com/projects/c3p0/index.html</a>) Infinispan allows you to use this library for connecting to the database. If you really want to use it, you need to choose a different connectionFactoryClass which is, in this case, PooledConnectionFactory.</p> </div> <div class="paragraph"> <p>Infinispan configuration looks like this:</p> </div> <div class="paragraph"> <p>Transactions are accessible in the same way as in the previous use case. Now let&#8217;s look at configuration for Tomcat servlet container. </p> </div> </div> </div> <div class="sect1"> <h2 id="_configuring_transactions_and_jdbc_cache_store_on_tomcat_7"><a class="anchor" href="#_configuring_transactions_and_jdbc_cache_store_on_tomcat_7"></a>Configuring transactions and JDBC cache store on Tomcat 7</h2> <div class="sectionbody"> <div class="paragraph"> <p>Tomcat does not have any Transaction Manager in it so we have to bundle one with the application. For the purpose of this exercise, we choose JBoss Transactions (<a href="http://www.jboss.org/jbosstm" class="bare">http://www.jboss.org/jbosstm</a>). See dependencies at the end.</p> </div> <div class="paragraph"> <p>Cache manager and cache configuration is in this form:</p> </div> <div class="paragraph"> <p>For Tomcat, we need to specify a different transactionManagerLookup implementation and datasourceJndiLocation. Tomcat simply places objects  under a bit different JNDI locations. The datasource is defined in context.xml file which has to be on classpath. This file might look like this:</p> </div> <div class="paragraph"> <p>How do we get the transaction manager in the application then? Lets obtain  it directly from a cache. </p> </div> <div class="paragraph"> <p>Infinispan knows how to find the manager and we need to know how to obtain it from Infinispan.</p> </div> <div class="paragraph"> <p>Sources: <a href="https://github.com/mgencur/infinispan-examples/blob/master/carmart-tx-jdbc/src/tomcat/java/org/infinispan/examples/carmart/session/CarManager.java" class="bare">https://github.com/mgencur/infinispan-examples/blob/master/carmart-tx-jdbc/src/tomcat/java/org/infinispan/examples/carmart/session/CarManager.java</a> The transaction manager provides standard methods for transactions, such as begin(), commit() and rollback(). </p> </div> </div> </div> <div class="sect1"> <h2 id="_now_is_the_time_for_dependencies"><a class="anchor" href="#_now_is_the_time_for_dependencies"></a><strong>Now is the time for dependencies</strong></h2> <div class="sectionbody"> <div class="paragraph"> <p>So&#8230;&#8203;which dependencies do we always need when using Infinispan with JDBC cache stores and transactions? These are infinspan-core, infinispan-cachestore-jdbc and javax.transaction.jta. The scope for jta dependency, as defined in Maven, is different for JBossAS and Tomcat.</p> </div> <div class="paragraph"> <p><strong>Common dependencies for JBossAS and Tomcat</strong></p> </div> <div class="paragraph"> <p>Of course, our application needs a few more dependencies but these are not directly related to Infinispan. Let&#8217;s ignore them in this article. JBoss AS 7 provides managed datasource that is accessible from Infinispan. The only specific dependency (related to transactions or Infinispan) is JTA.</p> </div> <div class="paragraph"> <p><strong>Dependencies specific to JBossAS - using managed Datasource (managed by the server)</strong></p> </div> <div class="paragraph"> <p><strong>Dependencies specific to JBossAS - using c3p0</strong></p> </div> <div class="paragraph"> <p>Yes, you need to bundle also MySQL connector. On the other hand, for Tomcat use case and JBossAS with managed datasource, this jar file needs do be deployed to the server separately. For Tomcat, do this simply by copying the jar file to $TOMCAT_HOME/lib.  For JBoss AS 7, copy the jar file into $JBOSS_HOME/standalone/deployments.</p> </div> <div class="paragraph"> <p><strong>Dependencies specific to Tomcat - using JBoss Transactions</strong></p> </div> <div class="paragraph"> <p>That&#8217;s it. I hope you&#8217;ve found this article helpful. Any feedback is welcome, especially the positive one :-) If you find any problem with the  application, feel free to comment here or participate in Infinispan forums (<a href="http://www.jboss.org/infinispan/forums" class="bare">http://www.jboss.org/infinispan/forums</a>).</p> </div> <div class="paragraph"> <p>Martin</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/database/"> database </a> <a class="label" href="/blog/tags/transactions/"> transactions </a> <a class="label" href="/blog/tags/c3p0/"> c3p0 </a> <a class="label" href="/blog/tags/as7/"> as7 </a> <a class="label" href="/blog/tags/cache store/"> cache store </a> <a class="label" href="/blog/tags/tomcat/"> tomcat </a> <hr> <div class="post"></div> <h3> Monday, 23 April 2012 </h3> <h1> <a href="/blog/2012/04/23/back-from-portugal-with-goodies/">Back from Portugal with goodies</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>The trip started in Coimbra where Sanne Grinovero and I <a href="http://infinispan.blogspot.com/2012/04/infinispan-and-ogm-at-ptjug.html">discussed about Infinispan and OGM</a> at the Portugal JUG. The interest was obvious from the amount of questions and the discussions that followed and ended up late in the night. A big thanks to <a href="http://www.samaxes.com/">Samuel Santos</a> for organising this!</p> </div> <div class="paragraph"> <p>The trip then continued in Lisbon where we meet the <a href="http://www.cloudtm.eu/">CloudTM</a> team for two good days of hacking and brainstorming.  The results are a set of awesome features the <a href="http://www.cloudtm.eu/">CloudTM</a> is about to contribute to Infinispan, especially around transactions:</p> </div> <div class="ulist"> <ul> <li> <p>Total Order Broadcast (TOB) - is a transaction protocol for replicated caches built on <a href="http://en.wikipedia.org/wiki/Atomic_broadcast">atomic broadcast</a>. It relies on <a href="http://www.jgroups.org/">JGroups'</a>  <a href="http://www.jgroups.org/javadoc-3.x/org/jgroups/protocols/SEQUENCER.html">SEQUENCER</a> protocol for achieving total order. The benchmarks ran comparing it with the current 2PC based transaction protocol are rather promising and we hope to integrated it in our 5.2 release</p> </li> <li> <p>Total Order Multicast (TOM) - is simplistically put TOB for distributed caches. This is the next in pipe after TOB to be integrated. Again, preliminary performance comparisons look rather promising</p> </li> <li> <p>The  <a href="http://www.cloudtm.eu/">CloudTM</a> also extended Infinispan&#8217;s transactions to support one-copy serializability (that&#8217;s a fancy name for SERIALIZABLE  transactions in replicated systems). The implementation is based on keeping multiple data version of data for each entry together with some housekeeping code. More on this to come!</p> </li> </ul> </div> <div class="paragraph"> <p>Big thanks to <a href="http://www.cloudtm.eu/">CloudTM</a> team for their effort and all the great ideas (and patches!!) they submitted to Infinispan! It was a great meeting with very good results and burning whiteboards (see below)!</p> </div> <div class="paragraph"> <p><a href="http://2.bp.blogspot.com/-hDKl5fAtGFI/T5ULM_qVBSI/AAAAAAAACFY/dE9PvJlyg0I/s1600/IMAG0030.jpg"><span class="image"><img src="http://2.bp.blogspot.com/-hDKl5fAtGFI/T5ULM_qVBSI/AAAAAAAACFY/dE9PvJlyg0I/s320/IMAG0030.jpg" alt="image" width="320" height="191"></span></a></p> </div> <div class="paragraph"> <p>Cheers, Mircea</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/JUGs/"> JUGs </a> <a class="label" href="/blog/tags/transactions/"> transactions </a> <a class="label" href="/blog/tags/event/"> event </a> <hr> <div class="post"></div> <h3> Tuesday, 17 January 2012 </h3> <h1> <a href="/blog/2012/01/17/infinispan-510cr4-is-out/">Infinispan 5.1.0.CR4 is out!</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Over the past week we&#8217;ve been busy profiling Infinispan, in particular we&#8217;ve been trying to maximise the performance of Infinispan transactional caches which received a major overhaul int the 5.1 'Brahma' series, and the result is that instead of going final, we&#8217;ve decided to cut another candidate release, Infinispan 5.1.0.CR4 which is now available for download from the <a href="http://www.jboss.org/infinispan/downloads">usual place</a>. We&#8217;re confident that these improvements will be greatly appreciated by Infinispan consumers such as Hibernate second-level-cache and JBoss Application Server 7 HTTP session replication.</p> </div> <div class="paragraph"> <p>As part of the configuration and parser work, new configuration documentation has generated which you can now find in <a href="http://docs.jboss.org/infinispan/5.1/configdocs/" class="bare">http://docs.jboss.org/infinispan/5.1/configdocs/</a>.</p> </div> <div class="paragraph"> <p>As always, give it a spin to this new candidate release and <a href="http://community.jboss.org/en/infinispan?view=discussions">let us know what you think</a>. You can find detailed information on the issues fixed in our <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12310799&amp;version=12318854">release notes</a>.</p> </div> <div class="paragraph"> <p>Cheers, Galder</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/transactions/"> transactions </a> <hr> <div class="post"></div> <h3> Wednesday, 23 November 2011 </h3> <h1> <a href="/blog/2011/11/23/more-on-transaction-performance/">More on transaction performance: use1PcForAutoCommitTransactions</a> </h1> <div class="content"> <div class="sect1"> <h2 id="_whats_use1pcforautocommittransactions_all_about"><a class="anchor" href="#_whats_use1pcforautocommittransactions_all_about"></a>What&#8217;s <em>use1PcForAutoCommitTransactions</em> all about?</h2> <div class="sectionbody"> <div class="paragraph"> <p>Don&#8217;t be scared the name, <em>use1PcForAutoCommitTransactions</em> is a new feature (5.1.CR1) that does quite a cool thing: increases your transactions&#8217;s performance. Let me explain. Before Infinispan 5.1 you could access the cache both transactional and non-transactional. Naturally the non-transactional access is faster and offers less consistency guarantees.But we don&#8217;t support mixed access in Infinispan 5.1, so what what&#8217;s to be done when you need the speed of non-transactional access and you are ready to trade some consistency guarantees for it? Well here is where <em>use1PcForAutoCommitTransactions</em> helps you. What is does is forces an induced (<em>autoCommit=true</em>) transaction to commit in a single phase. So only 1 RPC instead of 2RPCs as in the case of a full 2 Phase Commit (2PC).</p> </div> </div> </div> <div class="sect1"> <h2 id="_at_what_cost"><a class="anchor" href="#_at_what_cost"></a>At what cost?</h2> <div class="sectionbody"> <div class="paragraph"> <p>You might end up with inconsistent data if multiple transactions modify the same key concurrently. But if you know that&#8217;s not the case, or you can live with it then <em>use1PcForAutoCommitTransactions</em> will help your performance considerably.</p> </div> </div> </div> <div class="sect1"> <h2 id="_an_example"><a class="anchor" href="#_an_example"></a>An example</h2> <div class="sectionbody"> <div class="paragraph"> <p>Let&#8217;s say you do a simple put operation outside the scope of a transaction:</p> </div> <div class="paragraph"> <p>Now let&#8217;s see how this would behave if the cache has several different transaction configurations:</p> </div> <div class="sect2"> <h3 id="_not_using_1pc"><a class="anchor" href="#_not_using_1pc"></a>Not using 1PC&#8230;&#8203;</h3> <div class="paragraph"> <p>The put will happen in two RPCs/steps: a prepare message is sent around and then a commit.</p> </div> </div> <div class="sect2"> <h3 id="_using_1pc"><a class="anchor" href="#_using_1pc"></a>Using 1PC&#8230;&#8203;</h3> <div class="paragraph"> <p>The put happens in one RPC as the prepare and the commit are merged. Better performance.</p> </div> </div> <div class="sect2"> <h3 id="_not_using_autocommit"><a class="anchor" href="#_not_using_autocommit"></a>Not using autoCommit</h3> <div class="paragraph"> <p>An exception is thrown, as this is a transactional cache and invocations must happen within the scope of a transaction.</p> </div> <div class="paragraph"> <p>Enjoy! Mircea</p> </div> </div> </div> </div> </div> <a class="label" href="/blog/tags/transactions/"> transactions </a> <a class="label" href="/blog/tags/performance/"> performance </a> <hr> <div class="post"></div> <h3> Friday, 11 November 2011 </h3> <h1> <a href="/blog/2011/11/11/some-worth-mentioning-improvements-for/">Some worth mentioning improvements for pessimistic transactions</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Pessimistic transactions were added in 5.1 and are the "rebranding" of eager transactions from previous Infinispan releases. But besides the re-branding, the code also brought some worth mentioning performance optimisation:</p> </div> <div class="ulist"> <ul> <li> <p>a single RPC happens for acquiring lock on a key, disregarding the number of invocations. So if you call <em>cache.put(k,v)</em> in a loop, within the scope of the same transaction, there is only one remote call to the owner of <em>k</em>.</p> </li> <li> <p>if the key you want to lock/write maps to the local node then no remote locks are acquired. In other words there won&#8217;t be any RPCs for writing to a key that maps locally. This can be very powerful used in conjunction with the <a href="https://docs.jboss.org/author/x/IwY5">KeyAffinityService</a>, as it allows you to control the locality of you keys.</p> </li> <li> <p>during the two phase commit (2PC), the prepare phase doesn&#8217;t perform any RPCs: this optimisation is based on the fact locks are already acquired on each write. This means that then number of RPCs during transactions lifespan is reduced with 1.</p> </li> <li> <p>for some writes to the cache (e..g <em>cache.put(k,v)</em>) two RPCs were performed: one to acquire the remote lock and one to fetch the previous value. The obvious optimisation in this case was to make a single RPC for both operations - which we do starting with 5.1.</p> </li> </ul> </div> <div class="paragraph"> <p>Enjoy!</p> </div> <div class="paragraph"> <p>Mircea</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/transactions/"> transactions </a> <a class="label" href="/blog/tags/locking/"> locking </a> <hr> <div class="post"></div> <h3> Thursday, 10 November 2011 </h3> <h1> <a href="/blog/2011/11/10/fewer-deadlocks-higher-throughput/">Fewer deadlocks, higher throughput</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Here&#8217;s the problem: first transaction (<em>T1</em>) writes to key a and b in this order. Second transaction (<em>T2</em>) writes to key b and a - again order is relevant. Now with some "right timing" <em>T1</em> manages to acquire lock on <em>a</em> and <em>T2</em> acquires lock on b. And then they wait one for the other to release locks so that they can progress. This is what is called a deadlock and is really bad for your system throughput - but I won&#8217;t insist on this aspect, as I&#8217;ve mentioned it a lot in my previous posts.</p> </div> <div class="paragraph"> <p>What I want to talk about though is a way to solve this problem. Quit a simple way - just force an order on your transaction writes and you&#8217;re guaranteed not to deadlock: if both <em>T1</em> and <em>T2</em> write to a then <em>b (</em>lexicographical order) there won&#8217;t be any deadlock. Ever.</p> </div> <div class="paragraph"> <p>But there&#8217;s a catch. It&#8217;s not always possible to define this order, simply because you can&#8217;t or because you don&#8217;t know all your keys at the very beginning of the transaction.</p> </div> <div class="paragraph"> <p>Now here&#8217;s the good news: Infinispan orders the keys touched in a transaction for you. And it even defines an order so that you won&#8217;t have to do that. Actually you don&#8217;t have to anything, not even enable this feature, as it is already enabled for you by default.</p> </div> <div class="paragraph"> <p>Does it sound too good to be true? That&#8217;s because it&#8217;s only partially true. That is lock reordering only works if you&#8217;re using optimistic locking. For pessimistic locking you still have to do it the old way - order your locks (that&#8217;s of course if you can).</p> </div> <div class="paragraph"> <p>Wanna know more about it? Read <a href="http://community.jboss.org/wiki/LockReorderingForAvoidingDeadlocks">this</a>.</p> </div> <div class="paragraph"> <p>Expect and enjoy this feature in our next release 5.1.0.BETA5.</p> </div> <div class="paragraph"> <p>Stay tunned!</p> </div> <div class="paragraph"> <p>Mircea</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/transactions/"> transactions </a> <a class="label" href="/blog/tags/locking/"> locking </a> <a class="label" href="/blog/tags/deadlock detection/"> deadlock detection </a> <hr> <div class="post"></div> <h3> Wednesday, 09 November 2011 </h3> <h1> <a href="/blog/2011/11/09/single-lock-owner-important-step/">Single lock owner: an important step forward</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>The single lock owner is a highly requested Infinispan improvement. The basic idea behind it is that, when writing to a key, locks are no longer acquired on all the nodes that own that key, but only on a single designated node (named "main owner").</p> </div> </div> </div> <div class="sect1"> <h2 id="_how_does_it_help_me"><a class="anchor" href="#_how_does_it_help_me"></a>How does it help me?</h2> <div class="sectionbody"> <div class="paragraph"> <p>Short version: if you use transactions that concurrently write to the same keys, this improvement significantly increases your system' throughput.</p> </div> <div class="paragraph"> <p>Long version: If you&#8217;re using Infinispan with transactions that modify the same key(s) concurrently then you can easily end up in a deadlock. A deadlock can also occur if two transaction modify the same key at the same time - which is both inefficient and counter-intuitive. Such a deadlock means that at one transaction(or both) eventually rollback but also the lock on the key is held for the duration of a lockAquistionTimout config option (defaults to 10 seconds). These deadlocks reduces the throughput significantly as transactions threads are held inactive during deadlock time. On top of that, other transactions that want to operate on that key are also delayed, potentially resulting in a cascade effect.</p> </div> </div> </div> <div class="sect1"> <h2 id="_whats_the_added_performance_penalty"><a class="anchor" href="#_whats_the_added_performance_penalty"></a>What&#8217;s the added performance penalty?</h2> <div class="sectionbody"> <div class="paragraph"> <p>The only encountered performance penalty is during cluster topology changes. At that point the cluster needs to perform some additional computation (no RPC involved) to fail-over the acquired locks from previous to new owners. Another noticeable aspect is that locks are now being released asynchronously, after the transaction commits. This doesn&#8217;t add any burden to the transaction duration, but it means that locks are being held slightly longer. That&#8217;s not something to be concerned about if you&#8217;re not using transactions that compete for same locks though. We plan to benchmark this feature using <a href="http://radargun.sourceforge.net/">Radargun</a> benchmark tool - we&#8217;ll report back!</p> </div> </div> </div> <div class="sect1"> <h2 id="_want_to_know_more"><a class="anchor" href="#_want_to_know_more"></a>Want to know more?</h2> <div class="sectionbody"> <div class="paragraph"> <p>You can read the <a href="http://community.jboss.org/wiki/SingleNodeLockingModel">single lock owner design wiki</a> or/and follow the JIRA <a href="https://issues.jboss.org/browse/ISPN-1137">JIRA</a> discussions.</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/radargun/"> radargun </a> <a class="label" href="/blog/tags/transactions/"> transactions </a> <a class="label" href="/blog/tags/locking/"> locking </a> <a class="label" href="/blog/tags/deadlock detection/"> deadlock detection </a> <hr> <div class="post"></div> <h3> Tuesday, 04 October 2011 </h3> <h1> <a href="/blog/2011/10/04/510beta1-brahma-is-out-with-reworked/">5.1.0.BETA1 "Brahma" is out with reworked transaction handling</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>It&#8217;s been a frantic couple of weeks at <em>chez</em> Infinispan with loads of hacking, presentations preparation, team meetings&#8230;&#8203;etc and we&#8217;re now proud to release Infinispan 5.1.0.BETA1 <em>"Brahma".</em></p> </div> <div class="paragraph"> <p>For this first beta release, the transaction layer has been redesigned as explained by Mircea in <a href="http://infinispan.blogspot.com/2011/10/transaction-remake-in-infinispan-51.html">this blog post</a>. This is a very important step in the process of implementing some key locking improvements, so we&#8217;re very excited about this! Thanks Mircea :)</p> </div> <div class="paragraph"> <p>There&#8217;s a bunch of other little improvements, such as avoiding the use of thread locals for cache operations with flags. As a result, optimisations like the following are now viable:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="java">AdvancedCache cache = ...&#x000A;  Cache forceWLCache = cache.withFlags(Flag.FORCE_WRITE_LOCK);&#x000A;  forceWLCache.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">voo</span><span class="delimiter">&quot;</span></span>);&#x000A;  forceWLCache.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">voo</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">doo</span><span class="delimiter">&quot;</span></span>);&#x000A;  ...</code></pre> </div> </div> <div class="paragraph"> <p>Previously each cache invocation would have required withFlags() to be called, but now you only need to do it once and you can cache the "flagged" cache and reuse it.</p> </div> <div class="paragraph"> <p>Another interesting little improvement is available for JDBC cache store users. Basically, database tables can now be discovered within an implicit schema. So, if each user has a different schema, the tables will be created within their own space. This makes it easier to manage environments where the JDBC cache store is used by multiple caches at the same time because management is limited to adding a user per application, as opposed to adding a user plus prefixing table names. Thanks to Nicolas Filotto for bringing this up.</p> </div> <div class="paragraph"> <p>Please keep the <a href="http://community.jboss.org/en/infinispan?view=discussions">feedback</a> coming, and as always, you can <a href="http://www.jboss.org/infinispan/downloads">download</a> the release from here and you get further details on the issues addressed in the <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12310799&amp;version=12313469">changelog</a>.</p> </div> <div class="paragraph"> <p>Cheers, Galder</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/transactions/"> transactions </a> <hr> <div class="post"></div> <h3> Monday, 03 October 2011 </h3> <h1> <a href="/blog/2011/10/03/transaction-remake-in-infinispan-51/">Transaction remake in Infinispan 5.1</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>If you ever used Infinispan in a transactional way you might be very interested in this article as it describes some very significant improvements in version 5.1 "Brahma" (released with 5.1.Beta1):</p> </div> <div class="ulist"> <ul> <li> <p>starting with this release an Infinispan cache can accessed either transactionally or non-transactionally. The mixed access mode is no longer supported (backward compatibility still maintained, see below). There are <a href="http://www.cis.upenn.edu/acg/papers/cal06_atomic_semantics.pdf">several reasons</a> for going this path, but one of them most important result of this decision is a cleaner semantic on how concurrency is managed between multiple requestors for the same cache entry.</p> </li> <li> <p>starting with 5.1 the supported transaction models are <strong>optimistic</strong> and <strong>pessimistic</strong>. Optimistic model is an improvement over the existing default transaction model by completely deferring lock acquisition to transaction prepare time. That reduces lock acquisition duration and increases throughput; also avoids deadlocks. With pessimistic model, cluster wide-locks are being acquired on each write and only being released after the transaction completed (see below).</p> </li> </ul> </div> </div> </div> <div class="sect1"> <h2 id="_transactional_or_non_transactional_cache"><a class="anchor" href="#_transactional_or_non_transactional_cache"></a>Transactional or non transactional cache?</h2> <div class="sectionbody"> <div class="paragraph"> <p>It&#8217;s up to you as an user to decide weather you want to define a cache as transactional or not. By default, infinispan caches are non transactional. A cache can be made transactional by changing the <em>transactionMode</em> attribute:</p> </div> <div class="paragraph"> <p><em>transactionMode</em> can only take two values: <em>TRANSACTIONAL</em> and <em>NON_TRANSACTIONAL</em>. Same thing can be also achieved programatically:</p> </div> <div class="paragraph"> <p><strong>Important:</strong>for transactional caches it is required to <a href="https://docs.jboss.org/author/x/FAY5">configure a TransactionManagerLookup</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="_backward_compatibility"><a class="anchor" href="#_backward_compatibility"></a>Backward compatibility</h2> <div class="sectionbody"> <div class="paragraph"> <p>The <em>autoCommit</em> attribute was added in order to assure backward compatibility. If a cache is transactional and <em>autoCommit</em> is enabled (defaults to true) then any call that is performed outside of a transaction&#8217;s scope is transparently wrapped within a transaction. In other words Infinispan adds the logic for starting a transaction before the call and committing it after the call. So if your code accesses a cache both transactionally and non-transactionally, all you have to do when migrating to Infinispan 5.1 is mark the cache as transactional and enable <em>autoCommit</em> (that&#8217;s actually enabled by default, so just don&#8217;t disable it :) The <em>autoCommit</em> feature can be managed through configuration:</p> </div> <div class="paragraph"> <p>or programatically:</p> </div> </div> </div> <div class="sect1"> <h2 id="_optimistic_transactions"><a class="anchor" href="#_optimistic_transactions"></a>Optimistic Transactions</h2> <div class="sectionbody"> <div class="paragraph"> <p>With optimistic transactions locks are being acquired at transaction prepare time and are only being held up to the point the transaction commits (or rollbacks). This is different from the 5.0 default locking model where local locks are being acquire on writes and cluster locks are being acquired during prepare time. Optimistic transactions can be enabled in the configuration file:</p> </div> <div class="paragraph"> <p>or programatically:</p> </div> <div class="paragraph"> <p>By default, a transactional cache is optimistic.</p> </div> </div> </div> <div class="sect1"> <h2 id="_pessimistic_transactions"><a class="anchor" href="#_pessimistic_transactions"></a>Pessimistic Transactions</h2> <div class="sectionbody"> <div class="paragraph"> <p>From a lock acquisition perspective, pessimistic transactions obtain locks on keys at the time the key is written. E.g.</p> </div> <div class="paragraph"> <p>When <em>cache.put(k1,v1)</em> returns k1 is locked and no other transaction running anywhere in the cluster can write to it. Reading k1 is still possible. The lock on k1 is released when the transaction completes (commits or rollbacks).</p> </div> <div class="paragraph"> <p>Pessimistic transactions can be enabled in the configuration file:</p> </div> <div class="paragraph"> <p>or programatically:</p> </div> </div> </div> <div class="sect1"> <h2 id="_what_do_i_need_pessimistic_or_optimistic_transactions"><a class="anchor" href="#_what_do_i_need_pessimistic_or_optimistic_transactions"></a>What do I need - pessimistic or optimistic transactions?</h2> <div class="sectionbody"> <div class="paragraph"> <p>From a use case perspective, optimistic transactions should be used when there&#8217;s not a lot of contention between multiple transactions running at the same time. That is because the optimistic transactions rollback if data has changed between the time it was read and the time it was committed (<em>writeSkewCheck</em>). On the other hand, pessimistic transactions might be a better fit when there is high contention on the keys and transaction rollbacks are less desirable. Pessimistic transactions are more costly by their nature: each write operation potentially involves a RPC for lock acquisition.</p> </div> </div> </div> <div class="sect1"> <h2 id="_the_path_ahead"><a class="anchor" href="#_the_path_ahead"></a>The path ahead</h2> <div class="sectionbody"> <div class="paragraph"> <p>This major transaction rework has opened the way for several other transaction related improvements:</p> </div> <div class="ulist"> <ul> <li> <p><a href="http://community.jboss.org/wiki/SingleNodeLockingModel">Single node locking model</a> is a major step forward in avoiding deadlocks and increasing throughput by only acquiring locks on a single node in the cluster, disregarding the number of redundant copies (<em>numOwners</em>) on which data is replicated</p> </li> <li> <p><a href="http://community.jboss.org/wiki/LockReorderingForAvoidingDeadlocks">Lock acquisition reordering</a> is a deadlock avoidance technique that will be used for optimistic transactions</p> </li> <li> <p><a href="http://community.jboss.org/wiki/IncrementalOptimisticLocking">Incremental locking</a> is another technique for minimising deadlocks.</p> </li> </ul> </div> <div class="paragraph"> <p>Stay tuned! Mircea</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/transactions/"> transactions </a> <a class="label" href="/blog/tags/locking/"> locking </a> <a class="label" href="/blog/tags/deadlock detection/"> deadlock detection </a> <a class="label" href="/blog/tags/infinispan/"> infinispan </a> <a class="label" href="/blog/tags/performance/"> performance </a> <hr> <div class="post"></div> <h3> Wednesday, 10 August 2011 </h3> <h1> <a href="/blog/2011/08/10/transactions-enhancements-in-50/">Transactions enhancements in 5.0</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Besides other cool features such as Map reduce and distributed executors, Infinispan 5.0.0 "Pagoa" brings some significant improvements around transactional functionality:</p> </div> <div class="ulist"> <ul> <li> <p><a href="https://docs.jboss.org/author/x/BIF7">transaction recovery</a> <a href="http://community.jboss.org/docs/DOC-16646?uniqueTitle=false" class="bare">http://community.jboss.org/docs/DOC-16646?uniqueTitle=false</a> is now supported, with a set of tools that allow state reconciliation in case the transaction fails during 2nd phase of 2PC. This is especially useful in the case of transactions spreading over Infinispan and another resource manager, e.g. a database (distributed transactions). You can find out more on how to enable and use transaction recovery <a href="https://docs.jboss.org/author/x/BIF7">here</a>.</p> </li> <li> <p><a href="http://download.oracle.com/javaee/1.3/api/javax/transaction/Synchronization.html">Synchronization</a> enlistment is another important feature in this release. This allows Infinispan to enlist in a transaction as an <a href="http://download.oracle.com/javaee/1.3/api/javax/transaction/Synchronization.html">Synchronization</a> rather than an <a href="http://download.oracle.com/javaee/1.3/api/javax/transaction/xa/XAResource.html">XAResource</a>.This enlistment allows the TransactionManager to optimize 2PC with a 1PC where only one other resource is enlisted with that transaction (<a href="http://docs.redhat.com/docs/en-US/JBoss_Enterprise_Web_Platform/5/html/Administration_And_Configuration_Guide/ch09s04.html">last resource commit optimization</a>). This is particularly important when using Infinispan as a 2nd level cache in Hibernate. You can read more about this feature <a href="https://docs.jboss.org/author/x/_YB7">here</a>.</p> </li> <li> <p>besides that several bugs were fixed particularly when it comes to the integration with a transaction manager - BIG thanks to the community for reporting and testing them!</p> </li> </ul> </div> <div class="paragraph"> <p>To summarise, Infinispan can participate in a transaction in 3 ways:</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>as a fully fledged XAResource that supports recovery</p> </li> <li> <p>as an XAResource, but without recovery. This is the default configuration</p> </li> <li> <p>and as an Synchronization</p> </li> </ol> </div> <div class="paragraph"> <p>In order to analyze the performance of running Infinispan in different transactional modes I&#8217;ve <a href="https://sourceforge.net/apps/trac/radargun/wiki/BenchmarkingTransactions">enhanced</a> and used <a href="http://sourceforge.net/apps/trac/radargun/wiki/WikiStart">Radargun</a>. The diagram below shows a performance comparison between running Infinispan in all the 3 modes described. The forth plot in the chart shows the performance of running Infinispan without transactions - this gives an idea about the cost of using transactions vs. raw operations.</p> </div> <div class="paragraph"> <p><a href="http://3.bp.blogspot.com/-OBeJ5lxWquM/TgRePeHHFxI/AAAAAAAAB_g/ob6y0_gHpZ8/s1600/tx_benchmark.png"><span class="image"><img src="http://3.bp.blogspot.com/-OBeJ5lxWquM/TgRePeHHFxI/AAAAAAAAB_g/ob6y0_gHpZ8/s400/tx_benchmark.png" alt="image"></span></a></p> </div> <div class="paragraph"> <p>The benchmark was run on <a href="https://github.com/mmarkus/radargun/blob/blog_13Jun_2011/plugins/infinispan5/src/main/resources/benchmark/benchmark-tx.xml">this</a> Radargun configuration, using Infinispan 5.0.0.CR5 configured as shown <a href="https://github.com/mmarkus/radargun/blob/blog_13Jun_2011/plugins/infinispan5/src/main/resources/dist-tx-sync-commit.xml">here</a>. As a TransactionManager <a href="https://github.com/mmarkus/radargun/blob/blog_13Jun_2011/plugins/infinispan5/pom.xml#L38">JBossTS 4.15.0.FINAL</a> was used, configured with a VolatileStore as shown <a href="https://github.com/mmarkus/radargun/blob/blog_13Jun_2011/plugins/infinispan5/src/main/java/org/radargun/infinispan/JBossTMLookup.java">here</a>. Each node was an <a href="http://ark.intel.com/Product.aspx?id=47923">4-core Intel&#174; Xeon&#174; CPU E5640 @ 2.67GHz</a>, with 4GB RAM.</p> </div> <div class="paragraph"> <p>Each transaction spread over only one put operation. The chart shows the following:</p> </div> <div class="ulist"> <ul> <li> <p>a non-transactional put is about 40% faster than a transactional one</p> </li> <li> <p><a href="http://download.oracle.com/javaee/1.3/api/javax/transaction/Synchronization.html">Synchronization</a>-enlisted transactions outperform an <a href="http://download.oracle.com/javaee/1.3/api/javax/transaction/xa/XAResource.html">XAResource</a> enlisted one by about 20%</p> </li> <li> <p>A recoverable cache has about the same performance as a non-recoverable cache when it comes to transactions.</p> </li> </ul> </div> <div class="paragraph"> <p>And that&#8217;s not all! During Infinispan 5.0.0 development we&#8217;ve been thinking a lot about how we can improve transactional throughput, especially in scenarios in which multiple transactions are writing on the same key. As a result we&#8217;ve come up with some improvement suggestions summarised <a href="http://community.jboss.org/wiki/PossibleLockingImprovements">here</a>: please feel free to take a look and comment!</p> </div> <div class="paragraph"> <p>Cheers,</p> </div> <div class="paragraph"> <p>Mircea</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/jta/"> jta </a> <a class="label" href="/blog/tags/radargun/"> radargun </a> <a class="label" href="/blog/tags/transactions/"> transactions </a> <a class="label" href="/blog/tags/benchmarks/"> benchmarks </a> <hr> <div class="pagination-links"><span class="current-page">1</span> <a href="/blog/tags/transactions/page/2/" class="page-link">2</a> <a href="/blog/tags/transactions/page/2/" class="next-link">Next</a> </div> </div> <footer class="container"> <hr> <div class="row"> <div class="col-md-2 col-md-offset-1"> <h4>Navigate</h4> <ul> <li> <a href="/about" title="About">About</a> </li> <li> <a href="/documentation" title="Learn">Learn</a> </li> <li> <a href="/community" title="Community">Community</a> </li> <li> <a href="/getinvolved" title="Get Involved">Get Involved</a> </li> <li> <a href="/download" title="Download">Download</a> </li> </ul> </div> <div class="col-md-2"> <h4>Contribute</h4> <ul> <li> <a href="https://issues.jboss.org/browse/ISPN" title="Submit a bug">Submit a bug</a> </li> <li> <a href="https://github.com/infinispan" title="Write code">Write Code</a> </li> </ul> <h4>Follow Us</h4> <ul> <li> <a href="https://blog.infinispan.org" title="Blog">Blog</a> </li> <li> <a href="https://twitter.com/infinispan" title="Twitter">Twitter</a> </li> </ul> </div> <div class="col-md-2"> <h4>Open Source</h4> <p> Infinispan is released under the <b>Apache 2.0 open source license.</b> Learn more about the Apache 2.0 license <a href="https://www.apache.org/licenses/LICENSE-2.0">here.</a> </p> </div> <div class="col-md-2"> <h4>A member of</h4> <a alt="CloudTM" href="http://www.cloudtm.eu/" target="_NEW"> <img src="/images/cloudtm.png"> </a> <a alt="LEADS" href="http://leads-project.eu/" target="_NEW"> <img src="/images/leads.png"> </a> <a alt="CloudButton" href="http://cloudbutton.eu/" target="_NEW"> <img src="/images/cloudbutton.png"> </a> </div> <div class="col-md-2"> <h4>Thanks to</h4> <p>JetBrains Intellij IDEA</p> <a alt="JetBrains Intellij IDEA" href="https://www.jetbrains.com/idea/" target="_NEW"> <img src="/images/icon_IntelliJIDEA.png"> </a> </div> </div> <div class="col-md-10"> <p style="margin-top: 5px; font-size: 80%;"> © Copyright 2009-2019 Red Hat, Inc. <br> <i class="icon-fire"></i> Made with <a href="https://github.com/jbossorg/bootstrap-community" style="text-decoration: underline;" target="_NEW">JBoss Community Bootstrap</a> and <a href="http://awestruct.org/" style="text-decoration: underline;" target="_NEW">Awestruct</a> <br> <i class="icon-globe"></i> This website is open source! If you want to improve it, <a href="https://github.com/infinispan/infinispan.github.io" style="text-decoration: underline;" target="_NEW">fork the project,</a> and hack on it, then send a pull request. You can also view the <a href="https://www.seethestats.com/site/infinispan.org" style="text-decoration: underline;" target="_NEW">visitor stats.</a> <br> <i class="icon-share"></i> Website and documentation released under <a href="https://creativecommons.org/licenses/by/3.0/" style="text-decoration: underline;" target="_NEW">CC BY 3.0.</a> </p> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <div id="logospacer"></div> <a href="http://www.redhat.com/"><img src="//static.jboss.org/theme/images/common/redhat_logo.png"></a> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="//static.jboss.org/theme/js/libs/bootstrap-community/3.2.0.2/bootstrap-community.min.js"></script> <script>
        if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
          _satellite.pageBottom();
        }
      </script> </div> </body> </html>