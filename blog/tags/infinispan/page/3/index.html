<!DOCTYPE html> <html lang="en"> <head> <title>Blog - Infinispan</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="DENY" http-equiv="X-Frame-Options"> <meta content="1; mode=block" http-equiv="X-XSS-Protection"> <meta content="nosniff" http-equiv="X-Content-Type-Options"> <link href="https://static.jboss.org/theme/css/bootstrap-community/3.2.0.2/bootstrap-community.min.css" media="screen" rel="stylesheet"> <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" rel="stylesheet"> <script id="dpal" src="https://www.redhat.com/dtm.js" type="text/javascript"></script> <link href="/images/favicon.png" rel="shortcut icon" type="image/png"> <link href="//static.jboss.org/images/example/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="//static.jboss.org/images/example/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="//static.jboss.org/images/example/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="//static.jboss.org/images/example/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" rel="stylesheet"> <link href="https://static.jboss.org/css/rhbar.css" media="screen" rel="stylesheet"> <style>
      .jumbotron {
        padding: 0.5em 0.1em 0.5em 0.1em;
        background-image: none;
        background-color: #ffec9f;
      }
      .jumbotron p, 
      .jumbotron h1 {
        color: #656565;
      }
      .dropup {
        z-index: 1032;
      }
      .navbar {
        font-size: x-large;
      }
      .navbar ul {
        padding-top: 0.7em;
      }
      .navbar-brand {
        height: 80px;
      }
      .navbar-default {
        background-color: white;
      }
      .navbar-default .navbar-nav > li > a {
        color: #336699;
      }
      .navbar-default .navbar-nav > li > a:hover {
        color: #204060;
      }
      .navbar-default .navbar-nav > .open > a,
      .navbar-default .navbar-nav > .open > a:hover,
      .navbar-default .navbar-nav > .open > a:focus {
        background-color: #4a5d75;
      }
      h3.well {
        border-color: #ffd630;
        background-color: #ffec9f;
      }
      .panel-sidebar {
        border-color: #f5f5f5;
      }
      .panel-sidebar > .panel-heading {
        border-color: #e3e3e3;
        background-color: #f5f5f5;
        color: #656565;
      }
      .btn-primary {
        border-color: #ffd630;
        background-color: #ffec9f;
        color: #656565;
      }
      footer.container {
        background-color: white;
      }
      footer.container h1, footer.container h2, footer.container h3, footer.container h4, footer.container h5, footer.container h6, footer.container p, footer.container a {
        color: #656565;
      }
      footer.container ul {
        padding: 0;
      }
      i.enormous-icon {
        margin-top: 0.3em;
      }
      .home-examples {
        font-size: 16px;
      }
    </style> <script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script> <script>
      hljs.initHighlightingOnLoad();
    </script> <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
     
    ga('create', 'UA-8601422-1', 'auto');
    ga('send', 'pageview');
    
    </script> </head> <body> <div id=""> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div id="rhbar"> <a class="jbdevlogo" href="http://www.jboss.org/projects/about"></a> <a class="rhlogo" href="http://www.redhat.com/"></a> </div> <div class="container" id="content"> <nav class="navbar navbar-default navbar-fixed-top"> <div class="container"> <div class="navbar-header"> <button aria-expanded="false" class="navbar-toggle collapsed" data-target="#thenavbar" data-toggle="collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"> <img alt="Infinispan" src="/images/infinispan_nav_brand.png"> </a> </div> <div class="navbar-collapse collapse" id="thenavbar"> <ul class="nav navbar-nav"> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/about">About <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/about">Introduction</a></li> <li><a href="/features">Features</a></li> <li><a href="/release-notes">Release notes</a></li> <li><a href="/blog">Blog</a></li> <li><a href="/references">References</a></li> <li><a href="/experiments/">Experiments</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/documentation">Learn <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/documentation">Documentation</a></li> <li><a href="/tutorials">Tutorials</a></li> <li><a href="/videos">Videos</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/download">Download <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/download">Infinispan Releases</a></li> <li><a href="/cache-store-implementations">Cache Store Implementations</a></li> <li><a href="/hotrod-clients">Hot Rod Clients</a></li> <li><a href="/integrations">Integrations</a></li> <li><a href="/download-archive">Archive</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/community">Community <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/community">Ask for Help</a></li> <li><a href="/getinvolved">Get Involved</a></li> </ul> </li> <li class=""><a href="/roadmap">Road Map</a></li> <li class="divider"></li> </ul> </div> </div> </nav> <div class="post"></div> <h3> Monday, 12 March 2012 </h3> <h1> <a href="/blog/2012/03/12/jdk-8-backported-concurrenthashmaps-in/">JDK 8 backported ConcurrentHashMaps in Infinispan</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><a href="http://g.oswego.edu/">Doug Lea</a> and the folks on the <a href="http://altair.cs.oswego.edu/mailman/listinfo/concurrency-interest">concurrency-interest group</a> have been hard at work on an update of <a href="http://jcp.org/en/jsr/detail?id=166">JSR 166</a> (concurrency utilities) for Java 8 - called <a href="http://cs.oswego.edu/pipermail/concurrency-interest/2011-July/008084.html">JSR 166e</a>.  These include some pretty impressive changes in a building-block we&#8217;ve all come to rely pretty heavily on, the <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html">ConcurrentHashMap</a>.</p> </div> <div class="paragraph"> <p>One if the big drawbacks in the ConcurrentHashMap, since it was introduced in Java 5, has always been memory footprint.  It is kinda bulky, especially when compared to a regular HashMap - 1.6 kb in memory versus about 100 <em>bytes</em>!  Yes, these are for <em>empty</em> maps.</p> </div> <div class="paragraph"> <p>In Java 8, one of the improvements in the ConcurrentHashMap has been memory footprint - now closer to a regular HashMap.  In addition to that, the new Java 8 CHM performs better under concurrent load when compared to its original form.  See <a href="http://concurrency.markmail.org/message/kbqxdfapp5n6u7j3?q=JDK8+CHM">this discussion</a> and <a href="http://gee.cs.oswego.edu/cgi-bin/viewcvs.cgi/jsr166/src/jsr166e/ConcurrentHashMapV8.java?revision=1.37&amp;view=markup">comments</a> in the proposed ConcurrentHashMapV8 sources for more details.</p> </div> <div class="paragraph"> <p>So, <a href="http://www.jboss.org/infinispan/">Infinispan</a> makes pretty heavy use of ConcurrentHashMaps internally.  One change in the recently released <a href="http://infinispan.blogspot.com/2012/03/infinispan-512final-is-available-now.html">Infinispan 5.1.2.Final</a> is these internal CHMs are built using a factory, and we&#8217;ve included a version of the Java 8 CHM in Infinispan.  So by default, Infinispan uses the JDK&#8217;s provided CHM.  But if you wish to force Infinispan to use the backported Java 8 CHM, all you need to do is include the following JVM parameter when you start Infinispan:</p> </div> <div class="paragraph"> <p>-Dinfinispan.unsafe.allow_jdk8_chm=true</p> </div> <div class="paragraph"> <p>We&#8217;d love to hear what you have to say about this, in terms of memory footprint, garbage collection and overall performance.  Please use the Infinispan <a href="https://community.jboss.org/en/infinispan?view=discussions">user forums</a> to provide your feedback.</p> </div> <div class="paragraph"> <p>Thanks Manik</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/event/"> event </a> <a class="label" href="/blog/tags/infinispan/"> infinispan </a> <a class="label" href="/blog/tags/performance/"> performance </a> <a class="label" href="/blog/tags/community/"> community </a> <a class="label" href="/blog/tags/5.1/"> 5.1 </a> <a class="label" href="/blog/tags/garbage collection/"> garbage collection </a> <a class="label" href="/blog/tags/concurrency/"> concurrency </a> <hr> <div class="post"></div> <h3> Tuesday, 06 March 2012 </h3> <h1> <a href="/blog/2012/03/06/33degrees/">33Degrees</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>In addition to my currently ongoing <a href="http://infinispan.blogspot.com/2012/03/presentation-from-hell-when-nothing.html">tour of user groups in North America</a>, I will be presenting on Infinispan at <a href="http://2012.33degree.org/">33Degrees</a> in Krakow, Poland. In addition to my talking on data grids, I will also run a NoSQL BOF at 33 degrees so if you have an interest in NoSQL, big data, analytics, search or, well, storage in general, and will be at 33Degrees, do come by. :)</p> </div> <div class="paragraph"> <p> Cheers Manik</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/event/"> event </a> <a class="label" href="/blog/tags/infinispan/"> infinispan </a> <a class="label" href="/blog/tags/NoSQL/"> NoSQL </a> <hr> <div class="post"></div> <h3> Tuesday, 06 March 2012 </h3> <h1> <a href="/blog/2012/03/06/presentation-from-hell-when-nothing/">A presentation from hell: when nothing else could possibly go wrong</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>As a seasoned public speaker, I don&#8217;t easily get flustered by minor glitches that inevitably occur when presenting or doing live code demos.  I expected a recent <a href="http://java.sun.com/community/usergroups/">JUG</a> and <a href="http://www.jboss.org/usergroups">JBUG</a> tour of the American mid-west to be no different. I was prepared to speak about <a href="http://jcp.org/en/jsr/detail?id=107">JSR 107</a> and <a href="http://jcp.org/en/jsr/detail?id=347">JSR 347</a>, <a href="http://www.infinispan.org/">Infinispan</a>, and a wee bit on <a href="http://ogm.hibernate.org/">Hibernate OGM</a> and NoSQL. All subjects I&#8217;m pretty familiar with, totalling to about an hour of yacking. Followed by a live coding demo to walk people through Infinispan&#8217;s core API. Simple.</p> </div> <div class="paragraph"> <p><a href="http://www.mobilewhack.com/wp-content/pics/2010/01/15-280x210.jpg"><span class="image"><img src="http://www.mobilewhack.com/wp-content/pics/2010/01/15-280x210.jpg" alt="image"></span></a>So where does one start when talking about what went embarrassingly wrong at the <a href="http://www.wjug.org/madjug/">Madison Java User Group</a> on the 29th of Feb? Well, I suppose mistaking my <a href="http://store.apple.com/us/product/MC552ZM/B">iPad VGA connector</a> for the <a href="http://store.apple.com/us/product/MB572Z/A">mini displayport to VGA connector</a> for my MacBook when leaving London was a start. Mix in the fact that this realisation only happened in a room full of people, with a few minutes to go before the start of the talk. Nice. Unable to connect my laptop to the projector, I had no choice but to present off my iPad instead. Which was fine, except that ten minutes into my talk, my iPad spuriously decided to shut down. Epic fail. But who needs slides, right?  Not <em>me</em>, for sure - I&#8217;m way too cool for that.  So I continued on, unfazed. Now try explaining <a href="http://www.cs.berkeley.edu/~brewer/">Eric Brewer</a>'s <a href="http://en.wikipedia.org/wiki/CAP_theorem">CAP theorem</a> without any visual aids. Fun, right? I tried to use the whiteboard. No pens! The organiser rushed out to find some. And none of them worked! Even old-school technology was failing on me that day.</p> </div> <div class="paragraph"> <p>Then come demo time, I was able to borrow a Linux laptop from Red Hatter Jey Paulraj who was in the audience, and transfer my demo to it. Given that the laptop didn&#8217;t have the tools needed to actually run the demo, the entire demo consisted of me just walking people through an <a href="http://docs.jboss.org/infinispan/5.1/configdocs/">Infinispan configuration XML file</a>. For half an hour. Suspenseful and thrilling! Well, peppered with anecdotes about the life of an open source developer and several tangents on the architecture of various parts of Infinispan, the time did actually fly by (and the audience did seem at least somewhat engaged!)</p> </div> <div class="paragraph"> <p><a href="http://osoyoosdutyfree.com/wp-content/uploads/2011/05/Patron_osoyoos.jpg"><span class="image"><img src="http://osoyoosdutyfree.com/wp-content/uploads/2011/05/Patron_osoyoos.jpg" alt="image" width="200" height="165"></span></a>The clincher, though - I had a PDF containing URLs where people could download the demo, and learn more about the JSRs and Infinispan. Bringing this PDF up on Jey&#8217;s laptop, still projecting for the benefit of the room, resulted in his PDF viewer crashing. That&#8217;s when I threw in the towel - any more information from me would require tequila, preferably delivered intravenously!</p> </div> <div class="paragraph"> <p>Now for the moral of the story, don&#8217;t trust technology. Always be prepared to get your message across with no visual aids whatsoever. Oh, and don&#8217;t forget your Macbook&#8217;s VGA adapter. :)</p> </div> <div class="paragraph"> <p><a href="http://www.climbers.org/files/images/bill_starting_on_malignant_mushroom.preview.jpg"><span class="image"><img src="http://www.climbers.org/files/images/bill_starting_on_malignant_mushroom.preview.jpg" alt="image" width="131" height="200"></span></a><strong><span class="underline">Addendum:</span></strong> I repeated the talk a few times in Milwaukee and Chicago, and everything ran really well - after a quick trip to the local Apple store to replace my VGA adapter!</p> </div> <div class="paragraph"> <p><strong><span class="underline">Addendum 2:</span></strong> I now am on a short break climbing in the Canadian Rockies, but will soon be presenting the same in Washington DC - drop by if you&#8217;re in the neighbourhood!</p> </div> <div class="paragraph"> <p>Cheers Manik</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/presentations/"> presentations </a> <a class="label" href="/blog/tags/event/"> event </a> <a class="label" href="/blog/tags/infinispan/"> infinispan </a> <a class="label" href="/blog/tags/user groups/"> user groups </a> <hr> <div class="post"></div> <h3> Friday, 02 March 2012 </h3> <h1> <a href="/blog/2012/03/02/infinispan-512final-is-available-now/">Infinispan 5.1.2.FINAL is available now!</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Infinispan 5.1.2.FINAL is out now with a handful of issues fixed that did not make the previous 5.1.2.CR1. The default JGroups configuration files shipped by Infinispan have been tweaked to help with state transfer and the GUI demo should now work in the binaries-only distribution as well.</p> </div> <div class="paragraph"> <p>Full details of what has been fixed can be found <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12310799&amp;version=12319012">here</a>, and if you have feedback, please visit our <a href="https://community.jboss.org/en/infinispan?view=discussions">forums</a>. Finally, as always, you can download the release from <a href="http://www.jboss.org/infinispan/downloads">here</a>.</p> </div> <div class="paragraph"> <p>Cheers, Galder</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/release/"> release </a> <a class="label" href="/blog/tags/event/"> event </a> <a class="label" href="/blog/tags/infinispan/"> infinispan </a> <a class="label" href="/blog/tags/5.1/"> 5.1 </a> <hr> <div class="post"></div> <h3> Tuesday, 28 February 2012 </h3> <h1> <a href="/blog/2012/02/28/50-minutes-worh-spent-codemotion-it/">50 minutes worth spent @ Codemotion IT</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><a href="http://3.bp.blogspot.com/-C4MUunLfKVQ/T0zAO6pxdtI/AAAAAAAACEs/IsMM1gN3huQ/s1600/codemotion.png"><span class="image"><img src="http://3.bp.blogspot.com/-C4MUunLfKVQ/T0zAO6pxdtI/AAAAAAAACEs/IsMM1gN3huQ/s400/codemotion.png" alt="image"></span></a> If you&#8217;re lucky <span id="SPELLING_ERROR_0 " class="blsp-spelling-corrected">enough</span> to participate at this year&#8217;s Rome&#8217;s <a href="http://www.codemotion.it/" class="bare">http://www.codemotion.it/</a><span class="[#SPELLING_ERROR_1 .blsp-spelling-error">Codemotion</span>] then my <a href="http://www.codemotion.it/en/talk/infinispan-50-minutes"><span id="SPELLING_ERROR_2 " class="blsp-spelling-error">Infinispan</span></a> presentation might be an option to consider: this is an overview of the <span id="SPELLING_ERROR_3 " class="blsp-spelling-error">Infinispan</span> <span id="SPELLING_ERROR_4 " class="blsp-spelling-corrected">ecosystem</span> which focuses on what are the <span id="SPELLING_ERROR_5 " class="blsp-spelling-corrected">problems</span> our <span id="SPELLING_ERROR_6 " class="blsp-spelling-error">data grid</span> can help you solve. The presentation is on the 23 of March starting at 9:50 AM and contrary to its title, it lasts only for 40 minutes - but don&#8217;t worry, I&#8217;ll be around for entire duration of the conference so feel free to come and ping for a chat!</p> </div> <div class="paragraph"> <p>Cheers, <span id="SPELLING_ERROR_7 " class="blsp-spelling-error">Mircea</span></p> </div> </div> </div> </div> <a class="label" href="/blog/tags/conference/"> conference </a> <a class="label" href="/blog/tags/event/"> event </a> <a class="label" href="/blog/tags/infinispan/"> infinispan </a> <hr> <div class="post"></div> <h3> Wednesday, 22 February 2012 </h3> <h1> <a href="/blog/2012/02/22/participating-at-miralce-open-world/">Participating at Miralce Open World 2012</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><a href="http://4.bp.blogspot.com/-F7xrX5fDL5E/T0U72AO4x4I/AAAAAAAACEU/16Wxn0mYtCI/s1600/mow.jpg"><span class="image"><img src="http://4.bp.blogspot.com/-F7xrX5fDL5E/T0U72AO4x4I/AAAAAAAACEU/16Wxn0mYtCI/s400/mow.jpg" alt="image"></span></a> I&#8217;ll be presenting at this year&#8217;s <a href="http://mow2012.dk/">Miralce Open World</a> with <a href="http://mow2012.dk/program/measuring-performance-and-capacity-planning-in-java-based-data-grids.aspx">a talk</a> on how <a href="http://sourceforge.net/apps/trac/radargun/wiki/WikiStart">Radargun</a> is used for measuring Infinispan&#8217;s performance. I think the topic is interesting for anyone that needs to prototype applications built using in-memory datagrids such as infinispan. So if you are around and you are interested in this topic, or just want to say hi, then look for the guy with the Infinispan t-shirt (and my name on the badge)!</p> </div> <div class="paragraph"> <p>Cheers, Mircea</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/radargun/"> radargun </a> <a class="label" href="/blog/tags/event/"> event </a> <a class="label" href="/blog/tags/infinispan/"> infinispan </a> <hr> <div class="post"></div> <h3> Thursday, 26 January 2012 </h3> <h1> <a href="/blog/2012/01/26/maniks-take-on-judcon-india/">Manik's take on JUDCon India</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>JUDCon has, for the first time ever, spread beyond the western world. <a href="http://www.jboss.org/events/JUDCon/2012/india">JUDCon India</a>, held on Tuesday and Wednesday this week, was a roaring success with over 800 passionate community members flocking to the event held in Bangalore, India&#8217;s answer to California&#8217;s silicon valley.</p> </div> <div class="paragraph"> <p><span class="small"><a href="http://maps.google.co.uk/maps?hl=en&amp;q=bangalore&amp;ie=UTF8&amp;hq=&amp;hnear=Bengaluru,+Bengaluru+Rural,+Karnataka,+India&amp;gl=uk&amp;ll=12.971599,77.594563&amp;spn=23.831638,57.084961&amp;t=m&amp;z=5&amp;source=embed">View Larger Map</a></span></p> </div> <div class="paragraph"> <p>One of the themes was developer productivity and engagement, to help community members get more involved in the projects they care about, to help them succeed in their businesses with JBoss technology.</p> </div> <div class="paragraph"> <p>JBoss AS 7, NoSQL and platform-as-a-service were a few of the popular themes, and there were no less than 6 talks on infinispan in just two days, presented by myself and <a href="https://community.jboss.org/people/galder.zamarreno">Galder Zamarreño</a>. The talks ranged from high level overviews and roadmaps to detailed, hands-on hacking sessions, as well as presenting thoughts and ideas for future development.</p> </div> <div class="paragraph"> <p>All in, an excellent community conference, well organised by <a href="http://www.saltmarch.com/">Saltmarch Media</a>, and very well received by the community. I for one look forward to another JUDCon in Bangalore in the hopefully not too distant future.</p> </div> <div class="paragraph"> <p>Cheers Manik</p> </div> <div class="paragraph"> <p>PS: After writing this, I noticed that Galder has blogged about <a href="http://infinispan.blogspot.com/2012/01/judcon-india-post-mortem.html">JUDCon India</a> too!</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/event/"> event </a> <a class="label" href="/blog/tags/judcon/"> judcon </a> <a class="label" href="/blog/tags/infinispan/"> infinispan </a> <hr> <div class="post"></div> <h3> Wednesday, 25 January 2012 </h3> <h1> <a href="/blog/2012/01/25/judcon-india-post-mortem/">JUDCon India post-mortem</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><a href="http://www.jboss.org/events/JUDCon/2012/india">JUDCon India</a> is finished now and I was hugely impressed with what I saw in the conference. First of all, it was by far the biggest crowd I&#8217;ve seen in a JUDCon event so that&#8217;s excellent news. The more, the merrier :)</p> </div> <div class="paragraph"> <p>The attendants have been excellent and in general I felt that they were paying more attention than in conferences in other countries. This is partly because hardly any attendant had their laptops open while listening to the presentations. They simply had a notebook and a pen or pencil and they were taking just notes. I wished this would happen more often in other conferences. Hmmm, time to ban laptops in non-interactive presentations?</p> </div> <div class="paragraph"> <p>I ended up doing <a href="http://www.jboss.org/events/JUDCon/2012/india/agenda">4 presentations</a>, 3 of them in Infinispan related topics and 1 talking about JBoss Polyglot. Of all, the one that I felt attracted the most attention was the one on near caches. I got a lot of positive feedback from attendants and very interesting questions at the end of the presentation.</p> </div> <div class="paragraph"> <p>In terms of organization, it was impecable. Wifi worked like a treat with around 7 access points, 3/4 of which you could join from any place in the conference. Food was good as well, if you like Indian cooking of course :). As I already said on <a href="http://twitter.com/galderz">Twitter</a>, the toilets were&#8230;&#8203; interesting for a westener :).</p> </div> <div class="paragraph"> <p>Finally, I must congratulate the organisers on the method used to motivate attendants to provide feedback on the presentations. To get the JUDCon t-shirt, attendants needed to fill in feedback forms for all presentations they had attended, and once the last presentation had finished, they could go and claim their t-shirt once they&#8217;d handed over the feedback forms. I thought this was a fantastic idea to increase the amount of feedback received. So, well done to organisers! Looking forward to reading the feedback now.</p> </div> <div class="paragraph"> <p>Just landed in Delhi and now waiting for my colleague Rado, who&#8217;s arriving in a later flight from Bangalore. It&#8217;s time now for a couple of days off and doing a bit of touristy stuff around here. Plenty to see and do in the next few days with the Republic Day military parade, visit the Red Fort, Taj Mahal&#8230;&#8203;etc.</p> </div> <div class="paragraph"> <p>Cheers, Galder</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/event/"> event </a> <a class="label" href="/blog/tags/judcon/"> judcon </a> <a class="label" href="/blog/tags/infinispan/"> infinispan </a> <hr> <div class="post"></div> <h3> Monday, 03 October 2011 </h3> <h1> <a href="/blog/2011/10/03/transaction-remake-in-infinispan-51/">Transaction remake in Infinispan 5.1</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>If you ever used Infinispan in a transactional way you might be very interested in this article as it describes some very significant improvements in version 5.1 "Brahma" (released with 5.1.Beta1):</p> </div> <div class="ulist"> <ul> <li> <p>starting with this release an Infinispan cache can accessed either transactionally or non-transactionally. The mixed access mode is no longer supported (backward compatibility still maintained, see below). There are <a href="http://www.cis.upenn.edu/acg/papers/cal06_atomic_semantics.pdf">several reasons</a> for going this path, but one of them most important result of this decision is a cleaner semantic on how concurrency is managed between multiple requestors for the same cache entry.</p> </li> <li> <p>starting with 5.1 the supported transaction models are <strong>optimistic</strong> and <strong>pessimistic</strong>. Optimistic model is an improvement over the existing default transaction model by completely deferring lock acquisition to transaction prepare time. That reduces lock acquisition duration and increases throughput; also avoids deadlocks. With pessimistic model, cluster wide-locks are being acquired on each write and only being released after the transaction completed (see below).</p> </li> </ul> </div> </div> </div> <div class="sect1"> <h2 id="_transactional_or_non_transactional_cache"><a class="anchor" href="#_transactional_or_non_transactional_cache"></a>Transactional or non transactional cache?</h2> <div class="sectionbody"> <div class="paragraph"> <p>It&#8217;s up to you as an user to decide weather you want to define a cache as transactional or not. By default, infinispan caches are non transactional. A cache can be made transactional by changing the <em>transactionMode</em> attribute:</p> </div> <div class="paragraph"> <p><em>transactionMode</em> can only take two values: <em>TRANSACTIONAL</em> and <em>NON_TRANSACTIONAL</em>. Same thing can be also achieved programatically:</p> </div> <div class="paragraph"> <p><strong>Important:</strong>for transactional caches it is required to <a href="https://docs.jboss.org/author/x/FAY5">configure a TransactionManagerLookup</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="_backward_compatibility"><a class="anchor" href="#_backward_compatibility"></a>Backward compatibility</h2> <div class="sectionbody"> <div class="paragraph"> <p>The <em>autoCommit</em> attribute was added in order to assure backward compatibility. If a cache is transactional and <em>autoCommit</em> is enabled (defaults to true) then any call that is performed outside of a transaction&#8217;s scope is transparently wrapped within a transaction. In other words Infinispan adds the logic for starting a transaction before the call and committing it after the call. So if your code accesses a cache both transactionally and non-transactionally, all you have to do when migrating to Infinispan 5.1 is mark the cache as transactional and enable <em>autoCommit</em> (that&#8217;s actually enabled by default, so just don&#8217;t disable it :) The <em>autoCommit</em> feature can be managed through configuration:</p> </div> <div class="paragraph"> <p>or programatically:</p> </div> </div> </div> <div class="sect1"> <h2 id="_optimistic_transactions"><a class="anchor" href="#_optimistic_transactions"></a>Optimistic Transactions</h2> <div class="sectionbody"> <div class="paragraph"> <p>With optimistic transactions locks are being acquired at transaction prepare time and are only being held up to the point the transaction commits (or rollbacks). This is different from the 5.0 default locking model where local locks are being acquire on writes and cluster locks are being acquired during prepare time. Optimistic transactions can be enabled in the configuration file:</p> </div> <div class="paragraph"> <p>or programatically:</p> </div> <div class="paragraph"> <p>By default, a transactional cache is optimistic.</p> </div> </div> </div> <div class="sect1"> <h2 id="_pessimistic_transactions"><a class="anchor" href="#_pessimistic_transactions"></a>Pessimistic Transactions</h2> <div class="sectionbody"> <div class="paragraph"> <p>From a lock acquisition perspective, pessimistic transactions obtain locks on keys at the time the key is written. E.g.</p> </div> <div class="paragraph"> <p>When <em>cache.put(k1,v1)</em> returns k1 is locked and no other transaction running anywhere in the cluster can write to it. Reading k1 is still possible. The lock on k1 is released when the transaction completes (commits or rollbacks).</p> </div> <div class="paragraph"> <p>Pessimistic transactions can be enabled in the configuration file:</p> </div> <div class="paragraph"> <p>or programatically:</p> </div> </div> </div> <div class="sect1"> <h2 id="_what_do_i_need_pessimistic_or_optimistic_transactions"><a class="anchor" href="#_what_do_i_need_pessimistic_or_optimistic_transactions"></a>What do I need - pessimistic or optimistic transactions?</h2> <div class="sectionbody"> <div class="paragraph"> <p>From a use case perspective, optimistic transactions should be used when there&#8217;s not a lot of contention between multiple transactions running at the same time. That is because the optimistic transactions rollback if data has changed between the time it was read and the time it was committed (<em>writeSkewCheck</em>). On the other hand, pessimistic transactions might be a better fit when there is high contention on the keys and transaction rollbacks are less desirable. Pessimistic transactions are more costly by their nature: each write operation potentially involves a RPC for lock acquisition.</p> </div> </div> </div> <div class="sect1"> <h2 id="_the_path_ahead"><a class="anchor" href="#_the_path_ahead"></a>The path ahead</h2> <div class="sectionbody"> <div class="paragraph"> <p>This major transaction rework has opened the way for several other transaction related improvements:</p> </div> <div class="ulist"> <ul> <li> <p><a href="http://community.jboss.org/wiki/SingleNodeLockingModel">Single node locking model</a> is a major step forward in avoiding deadlocks and increasing throughput by only acquiring locks on a single node in the cluster, disregarding the number of redundant copies (<em>numOwners</em>) on which data is replicated</p> </li> <li> <p><a href="http://community.jboss.org/wiki/LockReorderingForAvoidingDeadlocks">Lock acquisition reordering</a> is a deadlock avoidance technique that will be used for optimistic transactions</p> </li> <li> <p><a href="http://community.jboss.org/wiki/IncrementalOptimisticLocking">Incremental locking</a> is another technique for minimising deadlocks.</p> </li> </ul> </div> <div class="paragraph"> <p>Stay tuned! Mircea</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/transactions/"> transactions </a> <a class="label" href="/blog/tags/locking/"> locking </a> <a class="label" href="/blog/tags/deadlock detection/"> deadlock detection </a> <a class="label" href="/blog/tags/infinispan/"> infinispan </a> <a class="label" href="/blog/tags/performance/"> performance </a> <hr> <div class="post"></div> <h3> Monday, 21 February 2011 </h3> <h1> <a href="/blog/2011/02/21/infinispan-python-client-beta-for-hot/">Infinispan Python client beta for Hot Rod servers is here!</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>The first beta version of the Infinispan native python client to connect to the Infinispan Hot Rod servers is available now from <a href="https://github.com/infinispan/python-client/archives/1.0.0b1">Infinispan&#8217;s GitHub</a> repository or <a href="http://pypi.python.org/pypi/infinispan">PyPi</a>. Please check the <a href="https://github.com/infinispan/python-client/blob/master/README.md">latest README information</a> to find out more about installation instructions.</p> </div> <div class="paragraph"> <p>So, what&#8217;s in it? For this first beta release, we&#8217;ve implemented all the operations available in the <a href="http://community.jboss.org/docs/DOC-14421">Hot Rod specification</a> and they&#8217;ve been tested with string inputs. This release does not include code to deal with client intelligence superior to 1, so clients cannot receive notifications of cluster changes nor can they locate data in an intelligent manner by applying consistent hash algorithms to the keys. These capabilities, plus further examples such as how to integrate with payloads from Google Protocol Buffers will come in next beta releases.</p> </div> <div class="paragraph"> <p>If you&#8217;re looking for code examples for the Infinispan Python client, you can find a very basic one in <a href="https://github.com/infinispan/python-client/blob/master/README.md">the README file itself</a>, or check the testsuite within the source package. In next releases we&#8217;ll be creating a wiki with more detailed examples.</p> </div> <div class="paragraph"> <p>As always, if you have any doubt please use the <a href="http://community.jboss.org/en/infinispan?view=discussions">user forums</a> and for any bugs or feature requests, please log them via <a href="https://issues.jboss.org/browse/ISPN">JIRA</a>.</p> </div> <div class="paragraph"> <p>Cheers, Galder</p> </div> </div> </div> </div> <a class="label" href="/blog/tags/beta/"> beta </a> <a class="label" href="/blog/tags/hotrod/"> hotrod </a> <a class="label" href="/blog/tags/infinispan/"> infinispan </a> <a class="label" href="/blog/tags/python/"> python </a> <hr> <div class="pagination-links"><a href="/blog/tags/infinispan/page/2/" class="previous-link">Previous</a> <a href="/blog/tags/infinispan/" class="page-link">1</a> <a href="/blog/tags/infinispan/page/2/" class="page-link">2</a> <span class="current-page">3</span> <a href="/blog/tags/infinispan/page/4/" class="page-link">4</a> <a href="/blog/tags/infinispan/page/4/" class="next-link">Next</a> </div> </div> <footer class="container"> <hr> <div class="row"> <div class="col-md-2 col-md-offset-1"> <h4>Navigate</h4> <ul> <li> <a href="/about" title="About">About</a> </li> <li> <a href="/documentation" title="Learn">Learn</a> </li> <li> <a href="/community" title="Community">Community</a> </li> <li> <a href="/getinvolved" title="Get Involved">Get Involved</a> </li> <li> <a href="/download" title="Download">Download</a> </li> </ul> </div> <div class="col-md-2"> <h4>Contribute</h4> <ul> <li> <a href="https://issues.jboss.org/browse/ISPN" title="Submit a bug">Submit a bug</a> </li> <li> <a href="https://github.com/infinispan" title="Write code">Write Code</a> </li> </ul> <h4>Follow Us</h4> <ul> <li> <a href="https://blog.infinispan.org" title="Blog">Blog</a> </li> <li> <a href="https://twitter.com/infinispan" title="Twitter">Twitter</a> </li> </ul> </div> <div class="col-md-2"> <h4>Open Source</h4> <p> Infinispan is released under the <b>Apache 2.0 open source license.</b> Learn more about the Apache 2.0 license <a href="https://www.apache.org/licenses/LICENSE-2.0">here.</a> </p> </div> <div class="col-md-2"> <h4>A member of</h4> <a alt="CloudTM" href="http://www.cloudtm.eu/" target="_NEW"> <img src="/images/cloudtm.png"> </a> <a alt="LEADS" href="http://leads-project.eu/" target="_NEW"> <img src="/images/leads.png"> </a> <a alt="CloudButton" href="http://cloudbutton.eu/" target="_NEW"> <img src="/images/cloudbutton.png"> </a> </div> <div class="col-md-2"> <h4>Thanks to</h4> <p>JetBrains Intellij IDEA</p> <a alt="JetBrains Intellij IDEA" href="https://www.jetbrains.com/idea/" target="_NEW"> <img src="/images/icon_IntelliJIDEA.png"> </a> </div> </div> <div class="col-md-10"> <p style="margin-top: 5px; font-size: 80%;"> © Copyright 2009-2019 Red Hat, Inc. <br> <i class="icon-fire"></i> Made with <a href="https://github.com/jbossorg/bootstrap-community" style="text-decoration: underline;" target="_NEW">JBoss Community Bootstrap</a> and <a href="http://awestruct.org/" style="text-decoration: underline;" target="_NEW">Awestruct</a> <br> <i class="icon-globe"></i> This website is open source! If you want to improve it, <a href="https://github.com/infinispan/infinispan.github.io" style="text-decoration: underline;" target="_NEW">fork the project,</a> and hack on it, then send a pull request. You can also view the <a href="https://www.seethestats.com/site/infinispan.org" style="text-decoration: underline;" target="_NEW">visitor stats.</a> <br> <i class="icon-share"></i> Website and documentation released under <a href="https://creativecommons.org/licenses/by/3.0/" style="text-decoration: underline;" target="_NEW">CC BY 3.0.</a> </p> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <div id="logospacer"></div> <a href="http://www.redhat.com/"><img src="//static.jboss.org/theme/images/common/redhat_logo.png"></a> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="//static.jboss.org/theme/js/libs/bootstrap-community/3.2.0.2/bootstrap-community.min.js"></script> <script>
        if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
          _satellite.pageBottom();
        }
      </script> </div> </body> </html>