<!DOCTYPE html> <html lang="en"> <head> <title> Blog - Infinispan</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="DENY" http-equiv="X-Frame-Options"> <meta content="1; mode=block" http-equiv="X-XSS-Protection"> <meta content="nosniff" http-equiv="X-Content-Type-Options"> <link href="https://static.jboss.org/theme/css/bootstrap-community/3.2.0.2/bootstrap-community.min.css" media="screen" rel="stylesheet"> <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" rel="stylesheet"> <script crossorigin="anonymous" src="https://kit.fontawesome.com/4167a38cfa.js"></script> <script id="dpal" src="https://www.redhat.com/dtm.js" type="text/javascript"></script> <link href="/images/favicon.png" rel="shortcut icon" type="image/png"> <link href="//static.jboss.org/images/example/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="//static.jboss.org/images/example/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="//static.jboss.org/images/example/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="//static.jboss.org/images/example/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" rel="stylesheet"> <link href="https://static.jboss.org/css/rhbar.css" media="screen" rel="stylesheet"> <style>
      .jumbotron {
        padding: 0.5em 0.1em 0.5em 0.1em;
        background-image: none;
        background-color: #ffec9f;
      }
      .jumbotron p, 
      .jumbotron h1 {
        color: #656565;
      }
      .dropup {
        z-index: 1032;
      }
      .navbar {
        font-size: x-large;
      }
      .navbar ul {
        padding-top: 0.7em;
      }
      .navbar-brand {
        height: 80px;
      }
      .navbar-default {
        background-color: white;
      }
      .navbar-default .navbar-nav > li > a {
        color: #336699;
      }
      .navbar-default .navbar-nav > li > a:hover {
        color: #204060;
      }
      .navbar-default .navbar-nav > .open > a,
      .navbar-default .navbar-nav > .open > a:hover,
      .navbar-default .navbar-nav > .open > a:focus {
        background-color: #4a5d75;
      }
      h3.well {
        border-color: #ffd630;
        background-color: #ffec9f;
      }
      .panel-sidebar {
        border-color: #f5f5f5;
      }
      .panel-sidebar > .panel-heading {
        border-color: #e3e3e3;
        background-color: #f5f5f5;
        color: #656565;
      }
      .btn-primary {
        border-color: #ffd630;
        background-color: #ffec9f;
        color: #656565;
      }
      footer.container {
        background-color: white;
      }
      footer.container h1, footer.container h2, footer.container h3, footer.container h4, footer.container h5, footer.container h6, footer.container p, footer.container a {
        color: #656565;
      }
      footer.container ul {
        padding: 0;
      }
      i.enormous-icon {
        margin-top: 0.3em;
      }
      .home-examples {
        font-size: 16px;
      }
    </style> <script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script> <script>
      hljs.initHighlightingOnLoad();
    </script> <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
     
    ga('create', 'UA-8601422-1', 'auto');
    ga('send', 'pageview');
    
    </script> </head> <body> <div id=""> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div id="rhbar"> <a class="jbdevlogo" href="http://www.jboss.org/projects/about"></a> <a class="rhlogo" href="http://www.redhat.com/"></a> </div> <div class="container" id="content"> <nav class="navbar navbar-default navbar-fixed-top"> <div class="container"> <div class="navbar-header"> <button aria-expanded="false" class="navbar-toggle collapsed" data-target="#thenavbar" data-toggle="collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"> <img alt="Infinispan" src="/images/infinispan_nav_brand.png"> </a> </div> <div class="navbar-collapse collapse" id="thenavbar"> <ul class="nav navbar-nav"> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/about">About <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/about">Introduction</a></li> <li><a href="/features">Features</a></li> <li><a href="/release-notes">Release notes</a></li> <li><a href="/blog">Blog</a></li> <li><a href="/references">References</a></li> <li><a href="/experiments/">Experiments</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/documentation">Learn <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/documentation">Documentation</a></li> <li><a href="/tutorials">Tutorials</a></li> <li><a href="/videos">Videos</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/download">Download <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/download">Infinispan Releases</a></li> <li><a href="/cache-store-implementations">Cache Store Implementations</a></li> <li><a href="/hotrod-clients">Hot Rod Clients</a></li> <li><a href="/integrations">Integrations</a></li> <li><a href="/download-archive">Archive</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/community">Community <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/community">Ask for Help</a></li> <li><a href="/getinvolved">Get Involved</a></li> </ul> </li> <li class=""><a href="/roadmap">Road Map</a></li> <li class="divider"></li> </ul> </div> </div> </nav> <div class="post"></div> <h3> Thursday, 18 April 2013 </h3> <h1> <a href="/blog/2013/04/18/infinispan-coming-to-brazils-judcon/">Infinispan coming to Brazil's JUDCon!!</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Infinispan team is coming to <a href="http://en.wikipedia.org/wiki/S%C3%A3o_Paulo">São Paulo</a> (Brazil) to present on multiple topics around caching, data grids and NoSQL in <a href="http://www.jboss.org/events/JUDCon/2013/brazil">Brazil&#8217;s first ever JBoss Users &amp; Developers Conference (JUDCon)</a>. The event is being held over two days, on 19th and 20th of April.</p> </div> <div class="paragraph"> <p>On the 19th, Manik Surtani and Pete Muir will present on <a href="http://www.jboss.org/events/JUDCon/2013/brazil/speakers.html#maniksurtani1">how to supercharge web applications using JBoss Data Grid</a>. Expect a very lively presentation from these very seasoned presenters :)</p> </div> <div class="paragraph"> <p>Another presentation where you&#8217;ll be able to see Infinispan in action is in Shekhar Gulati&#8217;s <a href="http://www.jboss.org/events/JUDCon/2013/brazil/speakers.html#shekhargulati1">"Closed PaaS to Open PaaS : Migrate GAE Applications to OpenShift Using CapeDwarf"</a> and Randall Hauch&#8217;s <a href="http://www.jboss.org/events/JUDCon/2013/brazil/speakers.html#randallhauch1">"Elastic Consistent NoSQL Data Storage with ModeShape 3"</a> talk, both on the 19th of April, where Shekhar and Randal will demonstrate JBoss projects using Infinispan heavily.</p> </div> <div class="paragraph"> <p>On 20th of April, I&#8217;ll be speaking about <a href="http://www.jboss.org/events/JUDCon/2013/brazil/speakers.html#galderzamerreno2">scaling up Hibernate/JPA applications with Infinispan second-level cache</a>. Even if the Infinispan caching provider was created almost 4 years ago, this is the first time I&#8217;m presenting about it. Really looking forward to that.</p> </div> <div class="paragraph"> <p>Finally, I&#8217;ll also give the <a href="http://www.jboss.org/events/JUDCon/2013/brazil/speakers.html">first ever presentation on Infinispan JCache (JSR-107) API implementation</a>, which will be mostly a live coding session showing different bits about JCache API and the extra capabilities JCache users get from using Infinispan implementation.</p> </div> <div class="paragraph"> <p>Cheers, Galder</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Friday, 04 January 2013 </h3> <h1> <a href="/blog/2013/01/04/jsr-347-in-2013/">JSR 347 in 2013</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Happy new year, everyone.</p> </div> <div class="paragraph"> <p>One of my goals for 2013 is to push JSR 347 into action again.  To kick start this, I propose a meeting among expert group members - anyone else with an interest in the JSR is welcome to attend as well.</p> </div> <div class="paragraph"> <p>Details are in <a href="https://groups.google.com/forum/?fromgroups=#!topic/jsr347/OBXiCrIWvsM">my post</a> to the mailing list.  Please respond to the mail list if you are interested in participating.</p> </div> <div class="paragraph"> <p>Cheers Manik</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Wednesday, 05 September 2012 </h3> <h1> <a href="/blog/2012/09/05/infinispan-arquillian-container-100cr1/">Infinispan Arquillian Container 1.0.0.CR1 released</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Infinispan Arquillian Container is an extension to Arquillian that provides several ways to interact with Infinispan, either with a standalone Infinispan server or just with Infinispan libraries. This extension can also communicate with JBoss Data Grid server via JMX.</p> </div> <div class="paragraph"> <p>It was released as Maven artifacts in JBoss Maven Repository. It is located at <a href="http://repository.jboss.org/nexus/content/groups/public-jboss/%20">http://repository.jboss.org/nexus/content/groups/public-jboss/</a> . More information on how to set up and use the repo can be found at <a href="https://community.jboss.org/wiki/MavenGettingStarted-Users" class="bare">https://community.jboss.org/wiki/MavenGettingStarted-Users</a></p> </div> <div class="paragraph"> <p>What does this Arquillian extension offer to you? Let me describe all aspects of this extension one by one.</p> </div> </div> </div> <div class="sect1"> <h2 id="_developing_tests_with_standalone_infinispan_server"><a class="anchor" href="#_developing_tests_with_standalone_infinispan_server"></a>Developing tests with standalone Infinispan server</h2> <div class="sectionbody"> <div class="paragraph"> <p>When testing, you might want to automatically start the Infinispan server before the test and stop it afterwards. This can be achieved by configuring infinispan-arquillian-container via Arquillian&#8217;s configuration file. The following is a subset of attributes that can be specified and thus passed to the Infinispan server during startup: masterThreads, workerThreads, cacheConfig, jmxPort, &#8230;&#8203; The complete list can be found in <a href="http://bit.ly/R7j4d1">bit.ly/R7j4d1</a> (all private fields).</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> Examples are not a part of the release, only libraries are. In order to check out examples provided with the project, one has to clone project&#8217;s repository: <a href="https://github.com/mgencur/infinispan-arquillian-container" class="bare">https://github.com/mgencur/infinispan-arquillian-container</a> Examples are located in the respective sub-directory. </td> </tr> </table> </div> <div class="paragraph"> <p>The configuration file then looks similar to the following:</p> </div> <div class="paragraph"> <p>Whether these two Infinispan servers are clustered or not depends on the configuration passed to them via cacheConfig (file path) attribute or their default configuration (when no config. file is passed). The configuration in arquillian.xml file just says: "Start these two instances with whatever configuration is passed to them".</p> </div> <div class="paragraph"> <p>Complete example: <a href="http://bit.ly/RkrpEE">bit.ly/RkrpEE</a></p> </div> <div class="paragraph"> <p>When we tell Arquillian to work with Infinispan server, we can inject RemoteInfinispanServer object into our test. Such an object provides various information about the running Infinispan server. For example, we can retrieve a hostname and HotRod port and use these pieces of information to create a RemoteCacheManager instance. Besides that users are allowed to retrieve information available via JMX from the server like cluster size, number of entries in the cache, number of cache hits and many more.</p> </div> <div class="paragraph"> <p>Complete example: <a href="http://bit.ly/OaCw8q" class="bare">http://bit.ly/OaCw8q</a></p> </div> <div class="paragraph"> <p>Vital dependencies required for the test to run are:</p> </div> <div class="paragraph"> <p>org.infinispan.arquillian.container:infinispan-arquillian-container-managed:jar:1.0.0.CR1:test org.infinispan.arquillian.container:infinispan-arquillian-impl:jar:1.0.0.CR1:test</p> </div> <div class="paragraph"> <p>Not only with standalone Infinispan server can Infinispan Arquillian extension work.</p> </div> </div> </div> <div class="sect1"> <h2 id="_developing_tests_with_jboss_data_grid_jdg_server"><a class="anchor" href="#_developing_tests_with_jboss_data_grid_jdg_server"></a>Developing tests with JBoss Data Grid (JDG) server</h2> <div class="sectionbody"> <div class="paragraph"> <p>This time, the properties in Arquillian&#8217;s configuration file are different and correspond to properties of JBoss Application Server 7. The most important property is again the path to the server (jbossHome).</p> </div> <div class="paragraph"> <p>Are you interested in what the test looks like? It looks completely the same as tests for standalone Infinispan server, you just have a few more attributes available. JDG server usually starts all three endpoints (HotRod, Memcached, REST) at the same time while for the Infinispan server you have to specify which end point should be started. Furthermore, Infinispan server does not have the REST endpoint available out-of-the-box.</p> </div> <div class="paragraph"> <p>As a result, you can call the following methods with JDG in one single test.</p> </div> <div class="paragraph"> <p>server1.getMemcachedEndpoint().getPort(); server1.getRESTEndpoint().getContextPath(); server1.getHotRodEndpoint().getPort();</p> </div> <div class="paragraph"> <p>The difference is, of course in dependencies. Instead of a handler for standalone Infinispan server, one has to use a handler for JBoss AS 7. The dependencies then look like this:</p> </div> <div class="paragraph"> <p>org.jboss.as:jboss-as-arquillian-container-managed:jar:7.1.2.Final:test org.infinispan.arquillian.container:infinispan-arquillian-impl:jar:1.0.0.CR1:test</p> </div> </div> </div> <div class="sect1"> <h2 id="_testing_infinispan_libraries"><a class="anchor" href="#_testing_infinispan_libraries"></a>Testing Infinispan libraries</h2> <div class="sectionbody"> <div class="paragraph"> <p>Sometimes we don&#8217;t want to use a standalone server. Sometimes we want to test just Infinispan in its basic form - Java libraries. Infinispan has been under development for years and during that time, lots of tests were developed. With tests come utility methods. Infinispan Arquillian Container enables you to leverage these utility methods and call them via an instance of DatagridManager. This instance can be easily injected into a test, no matter which test framework (TestNG, JUnit) you use.</p> </div> <div class="paragraph"> <p>DatagridManager class can be found at <a href="http://bit.ly/Q0a7ki" class="bare">http://bit.ly/Q0a7ki</a></p> </div> <div class="paragraph"> <p>Can you see the advantage? No? Let me point out some useful methods available in the manager.</p> </div> <div class="paragraph"> <p>List&lt;Cache&lt;K, V&gt;&gt; createClusteredCaches(int numMembersInCluster, String cacheName, ConfigurationBuilder builder)</p> </div> <div class="ulist"> <ul> <li> <p>creates a cluster of caches with certain name and pre-defined configuration</p> </li> </ul> </div> <div class="paragraph"> <p>void waitForClusterToForm()</p> </div> <div class="ulist"> <ul> <li> <p>helps to wait until the cluster is up and running</p> </li> </ul> </div> <div class="paragraph"> <p>Cache&lt;A, B&gt; cache(int index)</p> </div> <div class="ulist"> <ul> <li> <p>retrieves a cache from certain node according to the index</p> </li> </ul> </div> <div class="paragraph"> <p>Cache&lt;A, B&gt; cache(int managerIndex, String cacheName)</p> </div> <div class="ulist"> <ul> <li> <p>retrieves a cache with that name</p> </li> </ul> </div> <div class="paragraph"> <p>void killMember(int cacheIndex)</p> </div> <div class="ulist"> <ul> <li> <p>kills a cache with cacheIndex index</p> </li> </ul> </div> <div class="paragraph"> <p>AdvancedCache advancedCache(int i)</p> </div> <div class="ulist"> <ul> <li> <p>retrieves an advanced cache from node i</p> </li> </ul> </div> <div class="paragraph"> <p>Trancation tx(int i)</p> </div> <div class="ulist"> <ul> <li> <p>retrieves a transaction from node i</p> </li> </ul> </div> <div class="paragraph"> <p>TransactionManager tm(int i)</p> </div> <div class="ulist"> <ul> <li> <p>retrieves a transaction manager from node i</p> </li> </ul> </div> <div class="paragraph"> <p>&#8230;&#8203;and much more.</p> </div> <div class="paragraph"> <p>The following test can be found among other examples in the GIT repository.</p> </div> <div class="paragraph"> <p>Required dependencies:</p> </div> <div class="paragraph"> <p>org.infinispan:infinispan-core:jar:5.1.5.FINAL:test  -  users should replace this version with the one they want to test org.infinispan.arquillian.container:infinispan-arquillian-impl:jar:1.0.0.CR1:test</p> </div> <div class="paragraph"> <p>Infinispan Arquillian Container was tested with Infinispan 5.1.5.FINAL and JDG 6.0.0.GA. Nevertheless, it should work smoothly also with other not-very-distinct versions. I&#8217;ll be updating the project to work with newer versions of both Infinispan and JBoss Data Grid.  </p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Thursday, 14 April 2011 </h3> <h1> <a href="/blog/2011/04/14/in-response-to-pcworld/">In response to PCWorld...</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>PCWorld has published <a href="http://www.pcworld.com/businesscenter/article/225190/red_hat_cache_move_sparks_standards_spat.html">an article</a> on the recent data grid JSR that I have submitted.  As a follow-up to PCWorld&#8217;s article, I would like to make a few comments to clarify a few things.</p> </div> <div class="paragraph"> <p>I don&#8217;t quite understand what is meant by Red Hat&#8217;s approach not being the best solution.  Do people take issue with having a standard in the first place?  Or is it the standards body used in this particular case (the JCP)?  If it is the details of the standard itself, one should keep in mind that this has <em>yet to be defined</em> by an expert group!</p> </div> <div class="paragraph"> <p>It is unfortunate that the <em>"others"</em> mentioned in the article - who feel that Red Hat&#8217;s approach is not the best - were not able to provide any details about their objections. I would love to hear these objections and make sure that the JSR addresses them.</p> </div> <div class="paragraph"> <p>The importance of a standard, to remove vendor lock-in, etc., is pretty well understood, so I won&#8217;t go into too much detail here.  But with that in mind, I find Pandey&#8217;s comment regarding a <em>"self-beneficial move"</em> an odd one.  A standard makes it easier for people to switch between products (which may explain why no one else may have stepped up to the plate to propose such a standard thus far).  Proposing a standard makes it easier for end-users to <em>move away</em> from Infinispan.  Yes, it may help with awareness of Infinispan, but it also means Red Hat, just like other data grid vendors, will need to work <em>really hard</em> to make sure their products are up to scratch.  The only real beneficiary here is the end-user.  In fact, I&#8217;d like to invite Terracotta to participate in this JSR, as participation can only make it stronger, more relevant and eventually even more useful to end-users.</p> </div> <div class="paragraph"> <p>With regards to JSR-107, I believe Pandey has misunderstood the intention in proposing a data grid JSR.  I have proposed extending and building <em>on top of</em> JSR-107 - not throwing it away - and I have expressed this the JSR-107 expert group mailing list, of which Terracotta&#8217;s Greg Luck is a member.  In fact, without Pandey&#8217;s actually seeing my <a href="http://infinispan.blogspot.com/2011/04/following-up-on-my-previous-response-to.html">data grid proposal blog post</a> - PCWorld&#8217;s article was written <em>before</em> I published details of the JSR submission, based on a high-level Red Hat <a href="http://www.redhat.com/about/news/prarchive/2011/Red-Hat-Drives-Leadership-in-Java-EE-Innovation">press release</a> - one has to wonder where such strong words come from!  :-)</p> </div> <div class="paragraph"> <p>Cheers Manik</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Thursday, 14 April 2011 </h3> <h1> <a href="/blog/2011/04/14/following-up-on-my-previous-response-to/">A new data grid JSR</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Following up on <a href="http://infinispan.blogspot.com/2011/02/jsr-107-and-jsr-on-data-grids.html">my previous</a> response to <a href="http://agoncal.wordpress.com/2011/02/11/java-ee-7-i-have-a-few-dreams/">Antonio Goncalves</a>' blog post, I have submitted a JSR to the <a href="http://www.jcp.org/">JCP</a> on a data grid standard, titled "<em>Java Data Grids</em>".  It has yet to be assigned a number by the JCP, but I thought I&#8217;d talk about it a little here anyway.</p> </div> <div class="paragraph"> <p>Here is the description of the JSR that I have submitted:</p> </div> <div class="quoteblock"> <blockquote> <div class="paragraph"> <p>This specification proposes to provide an API for accessing, storing, and managing data in a distributed data grid. The primary API will build upon and extend JSR-107 (JCACHE) API. In addition to it’s genericized Map-like API to access a Cache, JSR-107 defines SPIs for spooling in-memory data to persistent storage, an API for obtaining a named Cache from a CacheManager and an API to register event listeners. Above and beyond JSR-107, this JSR will define characteristics and expectations from eviction, replication and distribution, and transactions (via the JTA specification). Further, it would define an asynchronous, non-blocking API as an alternative to JSR-107’s primary API, as non-blocking access to data becomes a concern when an implementation needs to perform remote calls, as in the case of a data grid. This specification builds upon JSR-107, which is not yet complete. We intend to work with the JSR-107 EG to ensure that their schedule is compatible with the schedule for this JSR. If JSR-107 is unable to complete, we propose merging the last available draft into this specification.</p> </div> </blockquote> </div> <div class="paragraph"> <p>Data grids are gaining prominence and importance in enterprise Java, particularly as cloud-style deployments gain popularity:</p> </div> <div class="ulist"> <ul> <li> <p>Characteristics such as high availability, along with removal of single points of failure become increasingly important, since cloud infrastructure is inherently unreliable and can be re-provisioned with minimal notice; applications deployed on cloud need to be resilient to this.  </p> </li> <li> <p>Further, one of the major benefits of cloud-style deployments is elasticity.  The ability to scale out (and back in) quickly and easily.  Again, data grids have a role to play here.  </p> </li> <li> <p>Finally, with scalable middleware comes additional stress on the data tier (traditionally an RDBMS), as middleware nodes scale out to cope with load.  Data grids - used as a <em>distributed</em> cache - can help with mitigating database bottlenecks.</p> </li> </ul> </div> <div class="paragraph"> <p>With one of Java EE 7&#8217;s stated goals being <em>"cloud-friendliness"</em>, the above are powerful arguments for the inclusion of a distributed data grid standard in Java EE 7.</p> </div> <div class="paragraph"> <p>What about <a href="http://www.jcp.org/en/jsr/detail?id=107">JSR-107</a>?  JSR-107 - the temporary caching API proposed in 2001 - certainly has a role to play in Java EE too.  Temporary caches are an important part of enterprise middleware, but yet a standard has been sadly missing from a Java EE umbrella specification for far too long.  Spring, having identified the need as well, has a <a href="http://static.springsource.org/spring/docs/3.1.0.M1/spring-framework-reference/html/cache.html">temporary caching abstraction</a> in their current development versions.  Several other non-Java frameworks define temporary caching APIs too (<a href="http://guides.rubyonrails.org/caching_with_rails.html">Ruby on Rails</a>, <a href="http://docs.djangoproject.com/en/1.3/topics/cache/">Django for Python</a>, <a href="http://msdn.microsoft.com/en-us/library/ms972379.aspx">.NET</a>).  There is no denying JSR-107 is necessary, and necessary as a part of Java EE.</p> </div> <div class="paragraph"> <p>But JSR-107 isn&#8217;t a data grid.  JSR-107 falls short as a standard for data grids, specifically as it doesn&#8217;t take into account characteristics of distribution and replication of data, and doesn&#8217;t define a contract that implementations would have to adhere to when it comes to moving data around a cluster.  Crucial things for a data grid that, if not baked into a specification, will hinder portability and render the standard itself useless and impotent.</p> </div> <div class="paragraph"> <p>Further, with remote capabilities in mind, a data grid should also expose a non-blocking API, since network calls can be a limiting factor.  Invoking methods that involve remote calls should be able to be done in an asynchronous fashion.  Stuff that is irrelevant to a temporary caching API like JSR-107.</p> </div> <div class="paragraph"> <p>So with all that in mind, I&#8217;d love to hear your thoughts on the data grid JSR.  In addition to Red Hat, the JSR is currently backed by a major Java EE and data grid vendor which cannot be named at this stage, along with independent JCP members with relevant interest and background.</p> </div> <div class="paragraph"> <p>Cheers Manik</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Tuesday, 15 February 2011 </h3> <h1> <a href="/blog/2011/02/15/jsr-107-and-jsr-on-data-grids/">JSR-107 and a JSR on data grids</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>In response to <a href="http://agoncal.wordpress.com/2011/02/11/java-ee-7-i-have-a-few-dreams/">Antonio Goncalves' blog post</a> on his wish list for Java EE 7 and particularly on his comments around the inactive <a href="http://jcp.org/en/jsr/summary?id=107">JSR-107</a> JCACHE spec, I&#8217;d like to spend a few moments jotting down my thoughts on the subject.</p> </div> <div class="paragraph"> <p>To start with, I am on the JSR-107 expert group, representing Red Hat.  I have also been in recent discussions with the JCP about the inactive JSR and what can be done about it.</p> </div> <div class="paragraph"> <p>My feel is JSR-107 needs to be axed.  It&#8217;s been inactive for way too long, it is out of date, and the community is pretty jaded about it.  We do, however, need a JSR around <em>distributed</em> caches and in-memory data grids.  There is definitely a need in the Java EE 7 umbrella specification, particularly with increasing focus and alignment with cloud.  Apps designed to scale would almost certainly need a distributed, in-memory data grid.  If Java EE is to be the preferred platform to build Software-as-a-Service offerings, scalability is crucial.</p> </div> <div class="paragraph"> <p>So what should this <em>data grid JSR</em> look like?  Well, let&#8217;s start with JSR-107.  After all, I didn&#8217;t think there was anything <em>wrong</em> with JSR-107, just that it was too limiting/simplistic.</p> </div> <div class="paragraph"> <p><span class="underline"><strong>What&#8217;s in JSR-107?</strong></span> A quick summary:</p> </div> <div class="ulist"> <ul> <li> <p>Primary interface - <mark>javax.cache.Cache</mark> - extending <mark>j.u.c.ConcurrentMap</mark></p> </li> <li> <p>Adds ability to register, de-register and list event listeners</p> </li> <li> <p>Defines a <mark>CacheLoader</mark> interface for loading/storing cached data</p> </li> <li> <p>Defines an #evict(K) #method, as well as the support for different eviction algorithms</p> </li> <li> <p>Defines a ServiceLocator approach to loading the appropriate implementation at runtime</p> </li> <li> <p>Defines a <mark>CacheManager</mark> interface to construct and retrieve <mark>Cache</mark> instances</p> </li> </ul> </div> <div class="paragraph"> <p><strong><span class="underline">What JSR-107 does <em>not</em> cover - but should be included in a Data Grid JSR</span></strong> Over and above what JSR-107 proposed, I believe the following features are crucial to a useful data grid standard:</p> </div> <div class="paragraph"> <p>JTA interoperability.  The ability to participate in transactions is necessary, both as an XA resource and as a simple cache to front a RDBMS, via JPA</p> </div> <div class="ulist"> <ul> <li> <p>Define behaviour at certain stages of a tx&#8217;s lifecycle, particularly with regards to recovery</p> </li> </ul> </div> <div class="paragraph"> <p>Should play nice with JPA&#8217;s second level cache SPI</p> </div> <div class="paragraph"> <p>Define and mandate REPLICATION and DISTRIBUTION, as well as SYNCHRONOUS and ASYNCHRONOUS versions of network communications</p> </div> <div class="paragraph"> <p><strong><span class="underline">These <em>could</em> be useful in the JSR, but needs more thought and discussion</span></strong></p> </div> <div class="ulist"> <ul> <li> <p>An asynchronous, <mark>Future</mark>-based API (See Infinispan&#8217;s <a href="http://community.jboss.org/wiki/AsynchronousAPI">Async API</a>)</p> </li> <li> <p>XML-based config file standardisation (including an XSD)</p> </li> <li> <p>Standardise programmatic config bean interfaces</p> </li> </ul> </div> <div class="paragraph"> <p><strong><span class="underline">Further interesting thoughts</span></strong></p> </div> <div class="paragraph"> <p>These additional, NoSQL-like features would also be very interesting, but probably more sense in a later revision of this JSR - both for the sake of manageability as well as to allow more community adoption/feedback on such APIs.</p> </div> <div class="ulist"> <ul> <li> <p><a href="http://infinispan.blogspot.com/2011/01/introducing-distributed-execution-and.html">Distributed code execution API</a></p> </li> <li> <p><a href="http://infinispan.blogspot.com/2011/01/introducing-distributed-execution-and.html">Map/Reduce API</a></p> </li> <li> <p>Querying/filtering API</p> </li> </ul> </div> <div class="paragraph"> <p>I&#8217;d like to hear your thoughts and opinions around this - please comment away!</p> </div> <div class="paragraph"> <p>Cheers</p> </div> <div class="paragraph"> <p>Manik</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Wednesday, 27 October 2010 </h3> <h1> <a href="/blog/2010/10/27/data-as-service-talk-by-yours-truly/">Data-as-a-Service: a talk by yours truly</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Last month, at the <a href="http://www.oracle.com/us/javaonedevelop/index.html">JavaOne</a> conference in San Francisco, I spoke about data grids.  A <a href="http://en.wikipedia.org/wiki/Birds_of_a_Feather_(computing)">BOF</a> session on on cloud-ready data stores using data grids, and a conference session on measuring performance and benchmarking data grids.  But in addition to the official JavaOne talks, I also did two short, 20-minute mini-sessions at the <a href="http://www.redhat.com/">Red Hat</a> booth at the JavaOne pavillion, titled <em>Data-as-a-Service using Infinispan</em>.  The good folks at the Red Hat booth even recorded it and put it online on Vimeo, where it is accessible on-demand.</p> </div> <div class="paragraph"> <p><a href="http://vimeo.com/16180313">Data-as-a-Service using Infinispan</a> from <a href="http://vimeo.com/user3957238">JBoss Developer</a> on <a href="http://vimeo.com/">Vimeo</a>.</p> </div> <div class="paragraph"> <p>Enjoy, Manik</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Friday, 10 July 2009 </h3> <h1> <a href="/blog/2009/07/10/infinispanjbossworld/">Infinispan@JBossWorld</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><a href="http://blog.softwhere.org/wp-content/uploads/2009/02/screenshot2.png"><span class="image"><img src="http://blog.softwhere.org/wp-content/uploads/2009/02/screenshot2.png" alt="image"></span></a>I will be presenting on Infinispan, data grids and the data fabric of clouds at <a href="http://www.jbossworld.com/">JBoss World Chicago</a>, in September 2009. I will cover a brief history of Infinispan and the motivations behind the project, and then talk in a more abstract manner about data grids and the special place they occupy in providing data services for clouds.</p> </div> <div class="paragraph"> <p>In addition, I expect to pontificate on my thoughts on clouds and the future of computing in general to anyone who buys me a coffee/beer! :-)</p> </div> <div class="paragraph"> <p>So go on, <a href="http://www.jbossworld.com/boss/">convince your boss</a> to let you go, and attend my talk, and hopefully I&#8217;ll see you there!</p> </div> <div class="paragraph"> <p>Cheers Manik</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Tuesday, 28 April 2009 </h3> <h1> <a href="/blog/2009/04/28/infinispan-start-of-new-era-in-open/">Infinispan: the Start of a New Era in Open Source Data Grids</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Over the past few months we&#8217;ve been flying under the radar preparing for the launch of a new, open source, highly scalable distributed data grid platform. We&#8217;ve finally got to a stage where we can announce it publicly and I would like to say that <a href="http://www.jboss.org/infinispan">Infinispan</a> is now ready to take on the world!</p> </div> <div class="paragraph"> <p>The way we write computer software is changing. The demise of the <a href="http://java.dzone.com/articles/caching-parallelism-scalability">Quake Rule</a> has made hardware manufacturers cram more cores on a CPU, more CPUs in a server. To achieve the levels of throughput and resilience that modern applications demand, compute grids are becoming increasingly popular. All this serves to exacerbate existing database bottlenecks; hence the need for a data grid platform.</p> </div> <div class="paragraph"> <p><a href="http://1.bp.blogspot.com/_ca0W9t-Ryos/Sfhee24rNUI/AAAAAAAAAJg/hRj8RbeGgAE/s1600-h/1159192_woman.jpg"><span class="image"><img src="http://1.bp.blogspot.com/_ca0W9t-Ryos/Sfhee24rNUI/AAAAAAAAAJg/hRj8RbeGgAE/s400/1159192_woman.jpg" alt="image"></span></a>So why is Infinispan sexy?</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>Massive heap - If you have 100 blade servers, and each node has 2GB of space to dedicate to a replicated cache, you end up with 2 GB of total data. Every server is just a copy. On the other hand, with a distributed grid - assuming you want 1 copy per data item - you get a 100 GB memory backed virtual heap that is efficiently accessible from anywhere in the grid. Session affinity is not required, so you don&#8217;t need fancy load balancing policies. Of course you can still use them for further optimisation. If a server fails, the grid simply creates new copies of the lost data, and puts them on other servers. This means that applications looking for ultimate performance are no longer forced to delegate the majority of their data lookups to a large single database server - that massive bottleneck that exists in over 80% of enterprise applications!</p> </li> <li> <p>Extreme scalability - Since data is evenly distributed, there is essentially no major limit to the size of the grid, except group communication on the network - which is minimised to just discovery of new nodes. All data access patterns use peer-to-peer communication where nodes directly speak to each other, which scales very well.</p> </li> <li> <p>Very fast and lightweight core - The internal data structures of Infinispan are simple, very lightweight and heavily optimised for high concurrency. Early benchmarks have indicated 3-5 times less memory usage, and around 50% better CPU performance than the latest and greatest JBoss Cache release. Unlike other popular, competing commercial software, Infinispan scales when there are many local threads accessing the grid at the same time. Even though non-clustered caching (LOCAL mode) is not its primary goal, Infinispan still is very competitive here.</p> </li> <li> <p>Not Just for Java (PHP, Python, Ruby, C, etc.) - The <a href="http://www.jboss.org/community/wiki/InfinispanRoadmap">roadmap</a> has a plan for a language-independent server module. This will support both the popular memcached protocol - with existing clients for almost every popular programming language - as well as an optimised Infinispan-specific protocol. This means that Infinispan is not just useful to Java. Any major website or application that wants to take advantage of a fast data grid will be able to do so.</p> </li> <li> <p>Support for Compute Grids - Also on the roadmap is the ability to pass a Runnable around the grid. You will be able to push complex processing towards the server where data is local, and pull back results using a Future. This <a href="http://labs.google.com/papers/mapreduce.html">map/reduce</a> style paradigm is common in applications where a large amount of data is needed to compute relatively small results.</p> </li> <li> <p>Management is key! - When you start thinking about running a grid on several hundred servers, management is no longer an extra, it becomes a necessity. This is on Infinispan&#8217;s roadmap. We aim to provide rich tooling in this area, with many integration opportunities.</p> </li> <li> <p>Competition is Proprietary - All of the major, viable competitors in the space are not open-source, and are very expensive. Enough said. :-)</p> </li> </ol> </div> <div class="paragraph"> <p>What are data grids?http://www.arcatoglobal.com/images/ag_serverfarm.jpg[<span class="image"><img src="http://www.arcatoglobal.com/images/ag_serverfarm.jpg" alt="image"></span>]</p> </div> <div class="paragraph"> <p>Data grids are, to put it simply, highly concurrent distributed data structures. Data grids typically allow you to address a large amount of memory and store data in a way that it is quick to access. They also tend to feature low latency retrieval, and maintain adequate copies across a network to provide resilience to server failure.</p> </div> <div class="paragraph"> <p>As such, at its core, Infinispan presents a humble data structure. But this is also a high specialised data structure, tuned to and geared for a great degree of concurrency - especially on multi-CPU/multi-core architectures. Most of the internals are essentially lock- and synchronization-free, favouring state-of-the-art non-blocking algorithms and techniques wherever possible. This translates to a data structure that is extremely quick even when it deals with a large number of concurrent accesses.</p> </div> <div class="paragraph"> <p>Beyond this, Infinispan is also a distributed data structure. It farms data out across a cluster of in-memory containers. It does so with a configurable degree of redundancy and various parameters to tune the performance-versus-resilience trade-off. Local "L1" caches are also maintained for quick reads of frequently accessed data.</p> </div> <div class="paragraph"> <p>Further, Infinispan supports <a href="http://en.wikipedia.org/wiki/Java_Transaction_API">JTA</a> transactions. It also offers eviction strategies to ensure individual nodes do not run out of memory and passivation/overflow to disk. Warm-starts using preloads are also supported.</p> </div> <div class="paragraph"> <p>JBoss Cache and Infinispan</p> </div> <div class="paragraph"> <p>So where does Infinispan stand against the competition? Let&#8217;s start with <a href="http://www.jbosscache.org/">JBoss Cache</a>. It is no surprise that there are many similarities between JBoss Cache and Infinispan, given that they share the same minds! Infinispan is an evolution of JBoss Cache in that it borrows ideas, designs and some code, but for all practical purposes it is a brand new project and a new, much more streamlined codebase.</p> </div> <div class="paragraph"> <p>JBoss Cache has evolved from a basic replicated tree structure to include custom, high performance marshalling (in version 1.4), Buddy Replication (1.4), a new simplified API (2.X), high concurrency MVCC locking (3.0.X) and a new non-blocking state transfer mechanism (3.1.X). These were all incremental steps, but it is time for a quantum leap.</p> </div> <div class="paragraph"> <p>Hence Infinispan. Infinispan is a whole new project - not just JBoss Cache 4.0! - because it is far wider in scope and goals - not to mention target audience. Here are a few points summarising the differences:</p> </div> <div class="ulist"> <ul> <li> <p>JBoss Cache is a clustering library. Infinispan&#8217;s goal is to be a data grid platform, complete with management and migration tooling.</p> </li> <li> <p>JBoss Cache&#8217;s focus has been on clustering, using replication. This has allowed it to scale to several 10s (occasionally even over 100) nodes. Infinispan&#8217;s goals are far greater - to scale to grids of several 100&#8217;s of nodes, eventually exceeding 1000&#8217;s of nodes. This is achieved using consistent hash based data distribution.</p> </li> <li> <p>Infinispan&#8217;s data structure design is significantly different to that of JBoss Cache. This is to help achieve the target CPU and memory performance. Internally, data is stored in a flat, map-like container rather than a tree. That said, a tree-like compatibility layer - implemented on top of the flat container - is provided to aid migration from JBoss Cache.</p> </li> <li> <p>JBoss Cache traditionally competed against other frameworks like EHCache and Terracotta. Infinispan, on the other hand, goes head to head against Oracle&#8217;s Coherence, Gemfire and Gigaspaces.</p> </li> </ul> </div> <div class="paragraph"> <p>I have put up some <a href="http://www.jboss.org/community/wiki/InfinispanFrequentlyAskedQuestions">FAQs on the project</a>. A <a href="http://www.jboss.org/community/wiki/InfinispanRoadmap">project roadmap</a> is also available, as well as <a href="http://www.jboss.org/community/wiki/5minutetutorialonInfinispan">a 5-minute guide to using Infinispan</a>.</p> </div> <div class="paragraph"> <p>Have a look at <a href="https://jira.jboss.org/jira/browse/ISPN?report=com.atlassian.jira.plugin.system.project:roadmap-panel">JIRA</a> or grab the code from our <a href="http://www.jboss.org/infinispan/sourcecode">Subversion repository</a> to see where we are with things. If you are interested in participating in Infinispan, be sure to read our <a href="http://www.jboss.org/infinispan/community">community page</a>.</p> </div> <div class="paragraph"> <p>I look forward to your feedback!</p> </div> <div class="paragraph"> <p>Cheers Manik</p> </div> </div> </div> </div> <hr> <div class="pagination-links"><span class="current-page">1</span> </div> </div> <footer class="container"> <hr> <div class="row"> <div class="col-md-2 col-md-offset-1"> <h4>Navigate</h4> <ul> <li> <a href="/about" title="About">About</a> </li> <li> <a href="/documentation" title="Learn">Learn</a> </li> <li> <a href="/community" title="Community">Community</a> </li> <li> <a href="/getinvolved" title="Get Involved">Get Involved</a> </li> <li> <a href="/download" title="Download">Download</a> </li> </ul> </div> <div class="col-md-2"> <h4>Contribute</h4> <ul> <li> <a href="https://issues.jboss.org/browse/ISPN" title="Submit a bug">Submit a bug</a> </li> <li> <a href="https://github.com/infinispan" title="Write code">Write Code</a> </li> </ul> <h4>Follow Us</h4> <ul> <li> <a href="https://blog.infinispan.org" title="Blog">Blog</a> </li> <li> <a href="https://twitter.com/infinispan" title="Twitter">Twitter</a> </li> </ul> </div> <div class="col-md-2"> <h4>Open Source</h4> <p> Infinispan is released under the <b>Apache 2.0 open source license.</b> Learn more about the Apache 2.0 license <a href="https://www.apache.org/licenses/LICENSE-2.0">here.</a> </p> </div> <div class="col-md-2"> <h4>A member of</h4> <a alt="CloudTM" href="http://www.cloudtm.eu/" target="_NEW"> <img src="/images/cloudtm.png"> </a> <a alt="LEADS" href="http://leads-project.eu/" target="_NEW"> <img src="/images/leads.png"> </a> <a alt="CloudButton" href="http://cloudbutton.eu/" target="_NEW"> <img src="/images/cloudbutton.png"> </a> </div> <div class="col-md-2"> <h4>Thanks to</h4> <p>JetBrains Intellij IDEA</p> <a alt="JetBrains Intellij IDEA" href="https://www.jetbrains.com/idea/" target="_NEW"> <img src="/images/icon_IntelliJIDEA.png"> </a> </div> </div> <div class="col-md-10"> <p style="margin-top: 5px; font-size: 80%;"> © Copyright 2009-2019 Red Hat, Inc. <br> <i class="icon-fire"></i> Made with <a href="https://github.com/jbossorg/bootstrap-community" style="text-decoration: underline;" target="_NEW">JBoss Community Bootstrap</a> and <a href="http://awestruct.org/" style="text-decoration: underline;" target="_NEW">Awestruct</a> <br> <i class="icon-globe"></i> This website is open source! If you want to improve it, <a href="https://github.com/infinispan/infinispan.github.io" style="text-decoration: underline;" target="_NEW">fork the project,</a> and hack on it, then send a pull request. You can also view the <a href="https://www.seethestats.com/site/infinispan.org" style="text-decoration: underline;" target="_NEW">visitor stats.</a> <br> <i class="icon-share"></i> Website and documentation released under <a href="https://creativecommons.org/licenses/by/3.0/" style="text-decoration: underline;" target="_NEW">CC BY 3.0.</a> </p> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <div id="logospacer"></div> <a href="http://www.redhat.com/"><img src="//static.jboss.org/theme/images/common/redhat_logo.png"></a> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="//static.jboss.org/theme/js/libs/bootstrap-community/3.2.0.2/bootstrap-community.min.js"></script> <script>
        if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
          _satellite.pageBottom();
        }
      </script> </div> </body> </html>