<!DOCTYPE html> <html lang="en"> <head> <title> Blog - Infinispan</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="DENY" http-equiv="X-Frame-Options"> <meta content="1; mode=block" http-equiv="X-XSS-Protection"> <meta content="nosniff" http-equiv="X-Content-Type-Options"> <link href="https://static.jboss.org/theme/css/bootstrap-community/3.2.0.2/bootstrap-community.min.css" media="screen" rel="stylesheet"> <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" rel="stylesheet"> <script crossorigin="anonymous" src="https://kit.fontawesome.com/4167a38cfa.js"></script> <script id="dpal" src="https://www.redhat.com/dtm.js" type="text/javascript"></script> <link href="/images/favicon.png" rel="shortcut icon" type="image/png"> <link href="//static.jboss.org/images/example/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="//static.jboss.org/images/example/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="//static.jboss.org/images/example/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="//static.jboss.org/images/example/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" rel="stylesheet"> <link href="https://static.jboss.org/css/rhbar.css" media="screen" rel="stylesheet"> <link href="/feed.atom" rel="alternate" type="application/atom+xml"> <style>
      .jumbotron {
        padding: 0.5em 0.1em 0.5em 0.1em;
        background-image: none;
        background-color: #ffec9f;
      }
      .jumbotron p, 
      .jumbotron h1 {
        color: #656565;
      }
      .dropup {
        z-index: 1032;
      }
      .navbar {
        font-size: x-large;
      }
      .navbar ul {
        padding-top: 0.7em;
      }
      .navbar-brand {
        height: 80px;
      }
      .navbar-default {
        background-color: white;
      }
      .navbar-default .navbar-nav > li > a {
        color: #336699;
      }
      .navbar-default .navbar-nav > li > a:hover {
        color: #204060;
      }
      .navbar-default .navbar-nav > .open > a,
      .navbar-default .navbar-nav > .open > a:hover,
      .navbar-default .navbar-nav > .open > a:focus {
        background-color: #4a5d75;
      }
      h3.well {
        border-color: #ffd630;
        background-color: #ffec9f;
      }
      .panel-sidebar {
        border-color: #f5f5f5;
      }
      .panel-sidebar > .panel-heading {
        border-color: #e3e3e3;
        background-color: #f5f5f5;
        color: #656565;
      }
      .btn-primary {
        border-color: #ffd630;
        background-color: #ffec9f;
        color: #656565;
      }
      footer.container {
        background-color: white;
      }
      footer.container h1, footer.container h2, footer.container h3, footer.container h4, footer.container h5, footer.container h6, footer.container p, footer.container a {
        color: #656565;
      }
      footer.container ul {
        padding: 0;
      }
      i.enormous-icon {
        margin-top: 0.3em;
      }
      .home-examples {
        font-size: 16px;
      }
    </style> <script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script> <script>
      hljs.initHighlightingOnLoad();
    </script> <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
     
    ga('create', 'UA-8601422-1', 'auto');
    ga('send', 'pageview');
    
    </script> </head> <body> <div id=""> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div id="rhbar"> <a class="jbdevlogo" href="http://www.jboss.org/projects/about"></a> <a class="rhlogo" href="http://www.redhat.com/"></a> </div> <div class="container" id="content"> <nav class="navbar navbar-default navbar-fixed-top"> <div class="container"> <div class="navbar-header"> <button aria-expanded="false" class="navbar-toggle collapsed" data-target="#thenavbar" data-toggle="collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"> <img alt="Infinispan" src="/images/infinispan_nav_brand.png"> </a> </div> <div class="navbar-collapse collapse" id="thenavbar"> <ul class="nav navbar-nav"> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/about">About <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/about">Introduction</a></li> <li><a href="/features">Features</a></li> <li><a href="/release-notes">Release notes</a></li> <li><a href="/blog">Blog</a></li> <li><a href="/references">References</a></li> <li><a href="/experiments/">Experiments</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/documentation">Learn <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/documentation">Documentation</a></li> <li><a href="/tutorials">Tutorials</a></li> <li><a href="/videos">Videos</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/download">Download <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/download">Infinispan Releases</a></li> <li><a href="/cache-store-implementations">Cache Store Implementations</a></li> <li><a href="/hotrod-clients">Hot Rod Clients</a></li> <li><a href="/integrations">Integrations</a></li> <li><a href="/download-archive">Archive</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="/community">Community <b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="/community">Ask for Help</a></li> <li><a href="/getinvolved">Get Involved</a></li> </ul> </li> <li class=""><a href="/roadmap">Road Map</a></li> <li class="divider"></li> </ul> </div> </div> </nav> <div class="post"></div> <h3> Wednesday, 02 May 2018 </h3> <h1> <a href="/blog/2018/05/02/infinispan-922final-and-930alpha1-are/">Infinispan 9.2.2.Final and 9.3.0.Alpha1 are out</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>We have two releases to announce:</p> </div> <div class="paragraph"> <p>first of all is 9.2.2.Final which introduces a second-level cache provider for the upcoming <a href="http://hibernate.org/orm/releases/5.3/">Hibernate ORM 5.3</a> as well as numerous <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12310799&amp;version=12337245">bugfixes</a>.</p> </div> <div class="paragraph"> <p>Next is 9.3.0.Alpha1 which is the first iteration of our next release. The main item here, aside from <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12310799&amp;version=12337078">bugfixes</a> and preparation work for upcoming features, is the upgrade of our server component to WildFly 12.</p> </div> <div class="paragraph"> <p>Go and get them on our <a href="https://infinispan.org/download/">download page</a></p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Thursday, 01 October 2015 </h3> <h1> <a href="/blog/2015/10/01/hibernate-second-level-cache/">Hibernate Second Level Cache improvements</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Infinispan has been implementing <strong>Hibernate Second Level Cache</strong> for a long time, replacing the previous JBoss Cache implementation with very similar logic. The main aim of the implementation has always been to have very fast reads, keeping the overhead of cache during reads on minimum. This was achieved using local reads in invalidation-mode cache and Infinispan&#8217;s <em>putForExternalRead</em> operation, where the request to cache never blocks.</p> </div> <div class="paragraph"> <p>Recently we&#8217;ve looked on the implementation again to see whether we can speed it up even more. For a long time you could use only transactional caches to keep the cache in sync with database. However transactions come at some cost so we thought about a way to get around it. And we have found it, through custom interceptors we have managed to do two-phase updates to the cache and now the non-transactional caches are the default configuration. So, if you&#8217;re using Hibernate with your own configuration, don&#8217;t forget to update that when migrating to Hibernate ORM 5!</p> </div> <div class="paragraph"> <p>With transactions gone, our task was not over. So far entity/collection caching has been implemented for invalidation mode caches, but it&#8217;s tempting to consider replication mode, too. For replicated caches, we got rid of a special cache for <em>pending puts</em> (this local cache detects out-of-date reads, keeping the entity cache consistent). Instead, we used different technique where a logical removal from the cache is substituted by replace with a token called <em>tombstone</em>, and updates pre-invalidate the cache in a similar way. This change opened the possibility for <strong>non-transactional replicated</strong> and <strong>distributed</strong> caches (transactional mode is not supported). We were pleased to see the results of some benchmark where the high hit ratio in replicated caches has dramatically speeded up all operations.</p> </div> <div class="paragraph"> <p>There is one downside of the current implementation - in replication mode, you <strong>should not use eviction</strong>, as eviction cannot tell regular entity (which can be evicted) from the tombstone. If tombstone was evicted, there&#8217;s a risk of inconsistent reads. So when using replicated caches, you should rely on expiration to keep your cache slender. We hope that eventually we&#8217;ll remove this limitation.</p> </div> <div class="paragraph"> <p>All modes described above give us cache without any stale reads. That comes at a cost - each modification (insert, update or removal) requires 2 accesses to the cache (though, sometimes the second access can be asynchronous). Some applications do not require such strict consistency - and that&#8217;s where <em>nonstrict-read-write</em> comes to the scene. Here we guarantee that the cache will provide the same result as DB after the modifying transaction commits - between DB commit and transaction commit a stale value can be provided. If you use asynchronous cache, this may be delayed even more but unless the operation fails (e.g. due to locking timeout) the cache will eventually get into a state consistent with DB. This allows us to limit modifications to single cache access per modification.</p> </div> <div class="paragraph"> <p>Note that <em>nonstrict-read-write</em> mode is supported only for <strong>versioned</strong> entities/collections (that way we can find out which entity is actually newer). Also, you cannot use eviction in nonstrict-read-write mode, for the same reason as in tombstone-based modes. Invalidation cache mode is not supported neither.</p> </div> <div class="paragraph"> <p>If you&#8217;ll try out the most recent Hibernate ORM, you&#8217;ll find out that <strong>Infinispan 7.2.x</strong> is used there. This is because ORM 5.0.0.Final was released before Infinispan 8.0.0.Final went out and we can&#8217;t change the major version of dependency in micro-release. However, we try to keep <strong>Infinispan 8.0.x</strong> binary compatible (in parts used by Hibernate), and therefore you can just replace the dependencies on classpath and use the most recent Infinispan, if you prefer to do so.</p> </div> <div class="paragraph"> <p>To sum things up, here is the table of supported configurations:</p> </div> <div class="paragraph"> <p>Concurrency strategy</p> </div> <div class="paragraph"> <p>Cache transactions</p> </div> <div class="paragraph"> <p>Cache mode</p> </div> <div class="paragraph"> <p>Implementation</p> </div> <div class="paragraph"> <p>Eviction</p> </div> <div class="paragraph"> <p>transactional</p> </div> <div class="paragraph"> <p>transactional</p> </div> <div class="paragraph"> <p>invalidation</p> </div> <div class="paragraph"> <p>pending puts</p> </div> <div class="paragraph"> <p>yes</p> </div> <div class="paragraph"> <p>read-write</p> </div> <div class="paragraph"> <p>non-transactional</p> </div> <div class="paragraph"> <p>non-transactional</p> </div> <div class="paragraph"> <p>replicated/distributed</p> </div> <div class="paragraph"> <p>tombstones</p> </div> <div class="paragraph"> <p>no</p> </div> <div class="paragraph"> <p>nonstrict-read-write</p> </div> <div class="paragraph"> <p>versioned entries</p> </div> <div class="paragraph"> <p>There&#8217;s also the <em>read-only</em> mode - this can be used instead of both <em>transactional</em> or <em>read-write</em> modes, but at this point it does not offer any further performance gains, since we have to make sure that you don&#8217;t see a removed value. Actually, it also does not matter whether you specify transactional or read-write mode; the proper strategy will be picked according to your cache configuration (transactional vs. non-transactional).</p> </div> <div class="paragraph"> <p>We hope that you&#8217;ll try these new modes and many consistency fixes included along (you should use Hibernate ORM <strong>5.0.2.Final</strong> or later), and tell us about your experience.</p> </div> <div class="paragraph"> <p>Happy caching!</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Thursday, 30 May 2013 </h3> <h1> <a href="/blog/2013/05/30/introducing-jpa-cache-store/">Introducing JPA Cache Store</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Good news everyone - Infinispan 5.3.0 will be introducing a <a href="https://issues.jboss.org/browse/ISPN-31">long awaited</a> JPA cache store.  This cache store will allow you to store cache entries in the database using proper schema - so that other applications can read the persisted data as well.</p> </div> <div class="paragraph"> <p>In normal use cases, it&#8217;s recommended to leverage Infinispan as JPA second level cache and/or query cache. However, if you&#8217;d like to use only Infinispan API and you want Infinispan to read from database, or to persist the data into a database with well defined schema, then JPA cache store could be right for you.</p> </div> <div class="paragraph"> <p>Prior to JPA cache store, those who wants to use Infinispan in front of a database to read/write database records would need to write their own cache store implementation.  Now, with JPA cache store, users can use Infinispan in front of a database (write-through or write-behind) with ease by using standard JPA mapping and configurations.</p> </div> <div class="paragraph"> <p>To use the cache store is simple - create the standard JPA configuration (persistence.xml) and entity class, and then configure the cache store:</p> </div> <div class="paragraph"> <p>Please see documentations for detailed <a href="https://docs.jboss.org/author/display/ISPN/Cache+Loaders+and+Stores">sample usage and configuration</a>.</p> </div> <div class="paragraph"> <p>Hope you enjoy this new addition!</p> </div> <div class="paragraph"> <p>Ray</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Friday, 03 May 2013 </h3> <h1> <a href="/blog/2013/05/03/the-first-judcon-brazil-experience/">The first JUDCon Brazil experience</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>The first ever <a href="http://www.jboss.org/events/JUDCon/2013/brazil/">JUDCon Brazil</a> was held a couple of weeks back and it was a real blast! Firstly, it offered a great opportunity to meet some members of the JBoss community which have been helping us push JBoss projects forward in this region of the world, such as <a href="https://twitter.com/hannelita">Hanneli Tavante</a>, <a href="http://www.linkedin.com/in/wrsantos">Roberto dos Santos Wagner</a>, &#8230;&#8203;etc. It was great sharing ideas, experiences&#8230;&#8203;etc with them and coming up with new ideas!</p> </div> <div class="paragraph"> <p>As mentioned before in the post before the conference, I had two new presentations to deliver, one on JSR-107 specification on JCache API and Infinispan&#8217;s implementation, and the other on Hibernate Second Level Cache with Infinispan. The JCache presentation went really well and all the live coding worked as expected.</p> </div> <div class="paragraph"> <p>The second presentation was the busier of the two, with a full room packed with Hibernate/JPA users waiting to hear how to scale up their applications. I got excellent feedback from both presentations and looking forward to giving these presentations in more user groups or conferences.</p> </div> <div class="paragraph"> <p>The presentations are not up yet, but I expect them to be posted online in the next few weeks. In the mean time, here are a couple of temporary links to the PDFs of my presentations:</p> </div> <div class="ulist"> <ul> <li> <p>Bolttlenecks are out! Java Cache Standard (JSR-107) is in! (<a href="https://dl.dropboxusercontent.com/u/6148072/galde-jsr107-brazil.pdf">PDF</a>)</p> </li> <li> <p>Scaling up Hibernate/JPA applications with Infinispan second-level cache (<a href="https://dl.dropboxusercontent.com/u/6148072/galder-secondlc-brazil.pdf">PDF</a>)</p> </li> </ul> </div> <div class="paragraph"> <p>The big news of the conference was for sure the announcement of JBoss Application Servers' new name: <a href="http://wildfly.org/">WildFly</a>. We&#8217;re actively working with them to make the most out of Infinispan :)</p> </div> <div class="paragraph"> <p>Cheers, Galder</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Thursday, 18 April 2013 </h3> <h1> <a href="/blog/2013/04/18/infinispan-coming-to-brazils-judcon/">Infinispan coming to Brazil's JUDCon!!</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Infinispan team is coming to <a href="http://en.wikipedia.org/wiki/S%C3%A3o_Paulo">São Paulo</a> (Brazil) to present on multiple topics around caching, data grids and NoSQL in <a href="http://www.jboss.org/events/JUDCon/2013/brazil">Brazil&#8217;s first ever JBoss Users &amp; Developers Conference (JUDCon)</a>. The event is being held over two days, on 19th and 20th of April.</p> </div> <div class="paragraph"> <p>On the 19th, Manik Surtani and Pete Muir will present on <a href="http://www.jboss.org/events/JUDCon/2013/brazil/speakers.html#maniksurtani1">how to supercharge web applications using JBoss Data Grid</a>. Expect a very lively presentation from these very seasoned presenters :)</p> </div> <div class="paragraph"> <p>Another presentation where you&#8217;ll be able to see Infinispan in action is in Shekhar Gulati&#8217;s <a href="http://www.jboss.org/events/JUDCon/2013/brazil/speakers.html#shekhargulati1">"Closed PaaS to Open PaaS : Migrate GAE Applications to OpenShift Using CapeDwarf"</a> and Randall Hauch&#8217;s <a href="http://www.jboss.org/events/JUDCon/2013/brazil/speakers.html#randallhauch1">"Elastic Consistent NoSQL Data Storage with ModeShape 3"</a> talk, both on the 19th of April, where Shekhar and Randal will demonstrate JBoss projects using Infinispan heavily.</p> </div> <div class="paragraph"> <p>On 20th of April, I&#8217;ll be speaking about <a href="http://www.jboss.org/events/JUDCon/2013/brazil/speakers.html#galderzamerreno2">scaling up Hibernate/JPA applications with Infinispan second-level cache</a>. Even if the Infinispan caching provider was created almost 4 years ago, this is the first time I&#8217;m presenting about it. Really looking forward to that.</p> </div> <div class="paragraph"> <p>Finally, I&#8217;ll also give the <a href="http://www.jboss.org/events/JUDCon/2013/brazil/speakers.html">first ever presentation on Infinispan JCache (JSR-107) API implementation</a>, which will be mostly a live coding session showing different bits about JCache API and the extra capabilities JCache users get from using Infinispan implementation.</p> </div> <div class="paragraph"> <p>Cheers, Galder</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Friday, 17 June 2011 </h3> <h1> <a href="/blog/2011/06/17/so-you-want-jpa-like-access-to/">So you want JPA-like access to Infinispan?</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Back in the early days of Infinispan (since our first public announcement, in fact) we always had it in mind to expose a <a href="http://en.wikibooks.org/wiki/Java_Persistence/What_is_JPA%3F">JPA</a>-like layer to Infinispan.  Initially this was as a replacement to the fine-grained replication that <a href="http://www.jboss.org/jbosscache">JBoss Cache</a>'s <a href="http://docs.jboss.org/jbosscache/2.0.0.GA/PojoCache/en/html_single/index.html#intro">POJO Cache</a> variant offered, but it grew beyond just a technique to do fine-grained replication on complex object graphs.  The fact that it offered a familiar data storage API to Java developers was big.  Huge, in fact.</p> </div> <div class="paragraph"> <p><a href="http://upload.wikimedia.org/wikibooks/en/d/d1/Java-persistence.PNG"><span class="image"><img src="http://upload.wikimedia.org/wikibooks/en/d/d1/Java-persistence.PNG" alt="image" width="320" height="140"></span></a></p> </div> <div class="paragraph"> <p>So we realised JPA-on-Infinispan was firmly on the roadmap.  The original plan was to implement the entire set of JPA APIs from scratch, but this was a daunting and Herculean task.  After much discussion with core Hibernate architects and Infinispan contributors Emmanuel Bernard and Sanne Grinovero, we came to a decision that rather than implementing all this from scratch, it served both Infinispan and the community better to fork Hibernate&#8217;s core <a href="http://www.hibernate.org/about/orm">ORM</a> engine, and replace the relational database mappings with key/value store mappings.  And we get to reuse the mature codebase of Hibernate&#8217;s session and transaction management, object graph dehydration code, proxies, etc.</p> </div> <div class="paragraph"> <p>And Hibernate OGM (Object-Grid Mapping) was born.  After initial experiments and even a large-scale public demo at the <a href="http://www.jboss.org/jbw2011keynote">JBoss World 2011 Keynote</a>, Emmanuel has officially <a href="http://in.relation.to/Bloggers/HibernateOGMBirthAnnouncement">blogged</a> about the launch of Hibernate OGM.  Very exciting times, Infinispan now has a JPA-like layer.  :-)</p> </div> <div class="paragraph"> <p>To reiterate a key point from Emmanuel&#8217;s blog, Hibernate OGM is still in its infancy.  It needs community participation to help it grow up and mature.  This is where the Infinispan community should step in; consider Hibernate OGM as Infinispan&#8217;s JPA-like layer and get involved.  For more details, please read Emmanuel&#8217;s <a href="http://in.relation.to/Bloggers/HibernateOGMBirthAnnouncement">announcement</a>.</p> </div> <div class="paragraph"> <p>Enjoy! Manik</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Tuesday, 07 June 2011 </h3> <h1> <a href="/blog/2011/06/07/faster-infinispan-based-second-level/">Faster Infinispan-based Second Level Cache coming to a JPA app near you!</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Starting with Hibernate 4.0.0.Beta1, Infinispan second level cache interacts with the transaction manager as a JTA Synchronization instead of an XA resource. Based on some testing we&#8217;ve done in JBoss AS 7, this has resulted in a huge performance increase <a href="http://community.jboss.org/wiki/InfinispanTransactions#Enlisting_Synchronization">thanks to the optimisations the transaction manager can apply</a> to Synchronizations, which work very well when Infinispan is used as a cache rather than as a authoritative data store.</p> </div> <div class="paragraph"> <p>From an Infinispan configuration perspective, nothing needs changing. The Infinispan provider still uses the same <a href="https://github.com/hibernate/hibernate-core/blob/master/hibernate-infinispan/src/main/resources/org/hibernate/cache/infinispan/builder/infinispan-configs.xml">base configuration</a> by default. Transactional configuration happens within the cache provider itself and it&#8217;s here where the Infinispan is configured with Hibernate&#8217;s transaction manager and where Infinispan is configured to participate as a JTA synchronization. This is the default configuration, so from an user perspective, there&#8217;s nothing you have to do to take advantage of this new change.</p> </div> <div class="paragraph"> <p>However, you can always switch back to previous behaviour where Infinispan interacted as an XA resource via a dedicated Hibernate property called <em>hibernate.cache.infinispan.use_synchronization</em></p> </div> <div class="paragraph"> <p>_ _</p> </div> <div class="paragraph"> <p>By default this property is set to <em>true</em>. If you set it <em>false</em>, Infinispan will interact with the transaction manager as an XA resource.</p> </div> <div class="paragraph"> <p>For more detailed information, check the "http://community.jboss.org/docs/DOC-14105[Using Infinispan As JPA Hibernate Second Level Cache Provider]" wiki.</p> </div> <div class="paragraph"> <p>Cheers,</p> </div> <div class="paragraph"> <p>Galder</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Monday, 28 March 2011 </h3> <h1> <a href="/blog/2011/03/28/better-hibernate-integration/">Better Hibernate integration!</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Hi,</p> </div> <div class="paragraph"> <p>Starting with 5.0 Infinispan&#8217;s transaction support was <a href="https://issues.jboss.org/browse/ISPN-888?focusedCommentId=12592115#comment-12592115">enhanced</a> to allow Synchronization-based enlistment in transactions (v.s. XAResource). A main use case for this is Hibernate&#8217;s second level cache: by using Synchronization the transaction manager doesn&#8217;t have to write the log on the disk. On the short, better performance!</p> </div> <div class="paragraph"> <p>You can read more about it <a href="http://community.jboss.org/wiki/Infinispantransactions#Enlisting_Synchronization">here</a>. Thanks to Galder Zamarreno, the integration will be released together with <a href="http://opensource.atlassian.com/projects/hibernate/browse/HHH-6062">HHH-6062</a>.</p> </div> <div class="paragraph"> <p>Cheers,</p> </div> <div class="paragraph"> <p>Mircea</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Wednesday, 01 December 2010 </h3> <h1> <a href="/blog/2010/12/01/infinispan-and-jboss-as-5x/">Infinispan and JBoss AS 5.x</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>A lot of people have asked about being able to use Infinispan as a second level cache for <a href="http://www.hibernate.org/">Hibernate</a> within <a href="http://jboss.org/jbossas/docs/5-x">JBoss AS 5.x</a> (and its <a href="http://www.jboss.com/products/platforms/application/">EAP 5.x cousins</a>).</p> </div> <div class="paragraph"> <p>While Infinispan can be used as a <a href="http://community.jboss.org/wiki/UsingInfinispanasJPAHibernateSecondLevelCacheProvider">Hibernate second level cache with Hibernate 3.5 onwards</a>, Bill deCoste has written <a href="http://community.jboss.org/wiki/InfinispanasHibernate2nd-LevelCacheinJBossAS5x">a guide</a> to getting Infinispan to work in older versions of Hibernate, specifically with JBoss AS 5.x.  Hope you find this useful!</p> </div> <div class="paragraph"> <p>Cheers Manik</p> </div> </div> </div> </div> <hr> <div class="post"></div> <h3> Tuesday, 02 February 2010 </h3> <h1> <a href="/blog/2010/02/02/infinispan-as-local-cache/">Infinispan as a LOCAL cache</a> </h1> <div class="content"> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>While Infinispan has got the distributed, in-memory data grid market firmly it in its sight, there is also another aspect of Infinispan which I feel people would find interesting.</p> </div> <div class="paragraph"> <p>At its heart Infinispan is a highly concurrent, extremely performant data structure than can be distributed, or could be used in a standalone, local mode - as a cache. But why would people use Infinispan over, say, a <a href="http://java.sun.com/javase/6/docs/api/java/util/concurrent/ConcurrentHashMap.html"><mark>ConcurrentHashMap</mark></a>? Here are some reasons.</p> </div> <div class="paragraph"> <p><strong><em><mark>Feature-rich</mark></em></strong></p> </div> <div class="ulist"> <ul> <li> <p><strong>Eviction.</strong> Built-in eviction ensures you don&#8217;t run out of memory.</p> </li> <li> <p><strong>Write-through and write-behind caching.</strong> Going beyond memory and onto disk (or any other pluggable <a href="http://docs.jboss.org/infinispan/4.0/apidocs/org/infinispan/loaders/CacheStore.html"><mark>CacheStore</mark></a>) means that your state survives restarts, and preloaded hot caches can be configured.</p> </li> <li> <p><strong>JTA support and XA compliance.</strong> Participate in ongoing transactions with any <a href="http://java.sun.com/javaee/technologies/jta/index.jsp">JTA</a>-compliant transaction manager.</p> </li> <li> <p><strong>MVCC-based concurrency.</strong> Highly optimized for fast, non-blocking readers.</p> </li> <li> <p><strong>Manageability.</strong> <a href="http://docs.jboss.org/infinispan/4.0/apidocs/jmxComponents.html">Simple JMX</a> or rich GUI management console via <a href="http://community.jboss.org/wiki/MonitoringInfinispanwithJOPR">JOPR</a>, you have a choice.</p> </li> <li> <p><strong>Not just for the JVM.</strong> <a href="http://community.jboss.org/wiki/InfinispanRESTserver">RESTful API</a>, and upcoming <a href="http://community.jboss.org/wiki/Clientandservermodules">client/server modules</a> speaking Memcached and <a href="http://community.jboss.org/wiki/HotRodProtocol">HotRod</a> protocols help non-JVM platforms use Infinispan.</p> </li> <li> <p><strong>Cluster-ready.</strong> Should the need arise.</p> </li> </ul> </div> <div class="paragraph"> <p><em>*<mark>Easy to configure, easy to use</mark>*</em></p> </div> <div class="paragraph"> <p>The simplest configuration file containing just</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;infinispan</span> <span class="tag">/&gt;</span></code></pre> </div> </div> <div class="paragraph"> <p>is enough to get you started, with sensible defaults abound. (More detailed documentation is <a href="http://docs.jboss.org/infinispan/4.0/apidocs/config.html">also available</a>).</p> </div> <div class="paragraph"> <p>All the features above are exposed via an easy-to-use <a href="http://docs.jboss.org/infinispan/4.0/apidocs/org/infinispan/Cache.html"><mark>Cache</mark></a> interface, which extends <a href="http://java.sun.com/javase/6/docs/api/java/util/concurrent/ConcurrentMap.html"><mark>ConcurrentMap</mark></a> and is compatible with many other cache systems. Infinispan even ships with <a href="http://community.jboss.org/wiki/ConfigurationMigrationTools">migration tools</a> to help you move off other cache solutions onto Infinispan, whether you need a cache to store data retrieved remotely or simply as a <a href="http://community.jboss.org/wiki/usinginfinispanasjpahibernatesecondlevelcacheprovider">2nd level cache for Hibernate</a>.</p> </div> <div class="paragraph"> <p><em>*<mark>Performance</mark>*</em></p> </div> <div class="paragraph"> <p>In the process of testing and tuning Infinispan on very large clusters, we have started to put together a <a href="http://cachebenchfwk.sourceforge.net/">benchmarking framework</a>. As a part of this framework, we have the ability to measure cache performance in standalone, local mode. So in the context of this blog post, I&#8217;d</p> </div> <div class="paragraph"> <p>like to share some recent performance numbers of Infinispan - a recent snapshot - compared against the latest JBoss Cache release (3.2.2.GA) and EHCache (1.7.2). Some background on the tests:</p> </div> <div class="ulist"> <ul> <li> <p>Used a latest snapshot of the <a href="http://cachebenchfwk.sourceforge.net/">CacheBenchFwk</a></p> </li> <li> <p>Run on a <a href="http://www.redhat.com/rhel/">RHEL</a> 5 server with 4 Intel Xeon cores, 4GB of RAM</p> </li> <li> <p>Sun JDK 1.6.0_18, with <mark>-Xms1g -Xmx1g</mark></p> </li> <li> <p>Test run on a single node, with 25 concurrent threads, using randomly generated Strings as keys and values and a 1kb payload for each entry, with a 80/20 read/write ratio.</p> </li> <li> <p>Performance measured in transactions per second (higher = better).</p> </li> </ul> </div> <div class="paragraph"> <p><a href="http://lh5.ggpht.com/_ca0W9t-Ryos/S2hZiNeYXuI/AAAAAAAAA9g/S2x8rzncn4c/local_puts_all_included.png"><span class="image"><img src="http://3.bp.blogspot.com/_ca0W9t-Ryos/S2hZiNeYXuI/AAAAAAAAA9g/S2x8rzncn4c/s400/local_puts_all_included.png" alt="image"></span></a>http://lh5.ggpht.com/_ca0W9t-Ryos/S2hhquciCeI/AAAAAAAAA-A/_QV9adRs9pI/local_gets_all_included.png[<span class="image"><img src="http://4.bp.blogspot.com/_ca0W9t-Ryos/S2hZLhCbDaI/AAAAAAAAA9Y/ofGNnjxmdBw/s400/local_gets_all_included.png" alt="image"></span>]</p> </div> <div class="paragraph"> <p>In summary, what we have here is that when run in local mode, Infinispan is a high-performance standalone caching engine which offers a rich set of features while still being trivially simple to configure and use.</p> </div> <div class="paragraph"> <p>Enjoy,</p> </div> <div class="paragraph"> <p>Manik</p> </div> </div> </div> </div> <hr> <div class="pagination-links"><span class="current-page">1</span> <a href="/blog/tags/hibernate/page/2/" class="page-link">2</a> <a href="/blog/tags/hibernate/page/2/" class="next-link">Next</a> </div> </div> <footer class="container"> <hr> <div class="row"> <div class="col-md-2 col-md-offset-1"> <h4>Navigate</h4> <ul> <li> <a href="/about" title="About">About</a> </li> <li> <a href="/documentation" title="Learn">Learn</a> </li> <li> <a href="/community" title="Community">Community</a> </li> <li> <a href="/getinvolved" title="Get Involved">Get Involved</a> </li> <li> <a href="/download" title="Download">Download</a> </li> </ul> </div> <div class="col-md-2"> <h4>Contribute</h4> <ul> <li> <a href="https://issues.jboss.org/browse/ISPN" title="Submit a bug">Submit a bug</a> </li> <li> <a href="https://github.com/infinispan" title="Write code">Write Code</a> </li> </ul> <h4>Follow Us</h4> <ul> <li> <a href="https://blog.infinispan.org" title="Blog">Blog</a> </li> <li> <a href="https://twitter.com/infinispan" title="Twitter">Twitter</a> </li> </ul> </div> <div class="col-md-2"> <h4>Open Source</h4> <p> Infinispan is released under the <b>Apache 2.0 open source license.</b> Learn more about the Apache 2.0 license <a href="https://www.apache.org/licenses/LICENSE-2.0">here.</a> </p> </div> <div class="col-md-2"> <h4>A member of</h4> <a alt="CloudTM" href="http://www.cloudtm.eu/" target="_NEW"> <img src="/images/cloudtm.png"> </a> <a alt="LEADS" href="http://leads-project.eu/" target="_NEW"> <img src="/images/leads.png"> </a> <a alt="CloudButton" href="http://cloudbutton.eu/" target="_NEW"> <img src="/images/cloudbutton.png"> </a> </div> <div class="col-md-2"> <h4>Thanks to</h4> <p>JetBrains Intellij IDEA</p> <a alt="JetBrains Intellij IDEA" href="https://www.jetbrains.com/idea/" target="_NEW"> <img src="/images/icon_IntelliJIDEA.png"> </a> </div> </div> <div class="col-md-10"> <p style="margin-top: 5px; font-size: 80%;"> © Copyright 2009-2019 Red Hat, Inc. <br> <i class="icon-fire"></i> Made with <a href="https://github.com/jbossorg/bootstrap-community" style="text-decoration: underline;" target="_NEW">JBoss Community Bootstrap</a> and <a href="http://awestruct.org/" style="text-decoration: underline;" target="_NEW">Awestruct</a> <br> <i class="icon-globe"></i> This website is open source! If you want to improve it, <a href="https://github.com/infinispan/infinispan.github.io" style="text-decoration: underline;" target="_NEW">fork the project,</a> and hack on it, then send a pull request. You can also view the <a href="https://www.seethestats.com/site/infinispan.org" style="text-decoration: underline;" target="_NEW">visitor stats.</a> <br> <i class="icon-share"></i> Website and documentation released under <a href="https://creativecommons.org/licenses/by/3.0/" style="text-decoration: underline;" target="_NEW">CC BY 3.0.</a> </p> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <div id="logospacer"></div> <a href="http://www.redhat.com/"><img src="//static.jboss.org/theme/images/common/redhat_logo.png"></a> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="//static.jboss.org/theme/js/libs/bootstrap-community/3.2.0.2/bootstrap-community.min.js"></script> <script>
        if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
          _satellite.pageBottom();
        }
      </script> </div> </body> </html>